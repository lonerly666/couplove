{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/PC/temp/couplove/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/PC/temp/couplove/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import ReactAvatar from'@material-ui/core/Avatar';import CheckIcon from'@material-ui/icons/Check';import{IconButton}from'@material-ui/core';import ClearIcon from'@material-ui/icons/Clear';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function RequestInfo(props){var reqInfo=props.reqInfo,setHavePartner=props.setHavePartner,setRequestList=props.setRequestList;var url=\"/gridFs/getOtherProfile/\"+reqInfo.senderId;function acceptPartner(event){event.preventDefault();var formdata=new FormData();formdata.append('senderId',reqInfo.senderId);axios({method:'post',url:'/user/acceptRequest',data:formdata,headers:{'Content-Type':'multipart/form-data'}}).then(function(res){return res.data;}).catch(function(err){return console.log(err);}).then(function(res){if(res.result){setRequestList(function(prev){return prev.filter(function(info){return info.senderId!==reqInfo.senderId;});});setHavePartner(true);}});}function declinePartner(_x){return _declinePartner.apply(this,arguments);}function _declinePartner(){_declinePartner=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var formdata;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();formdata=new FormData();formdata.append('senderId',reqInfo.senderId);_context.next=5;return axios({method:'post',url:'/user/declineRequest',data:formdata,header:{'Content-Type':'multipart/form-data'}}).then(function(res){return res.data;}).catch(function(err){return console.log(err);}).then(function(res){console.log(res);if(res){setRequestList(function(prev){return prev.filter(function(info){return info.senderId!==reqInfo.senderId;});});}else{alert(\"Opps something wrong with the server\");}});case 5:case\"end\":return _context.stop();}}},_callee);}));return _declinePartner.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"div\",{className:\"info-div\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"info-sender-profile-div\",children:/*#__PURE__*/_jsx(ReactAvatar,{id:\"info-sender-avatar\",src:url})}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-sender-desc\",children:[reqInfo.senderNickname,\" wants to be your partner\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(IconButton,{id:\"info-req-option\",onClick:acceptPartner,children:/*#__PURE__*/_jsx(CheckIcon,{})}),/*#__PURE__*/_jsx(IconButton,{id:\"info-req-option\",onClick:declinePartner,children:/*#__PURE__*/_jsx(ClearIcon,{})})]})]});}","map":{"version":3,"sources":["C:/Users/PC/temp/couplove/client/src/components/RequestInfo.js"],"names":["ReactAvatar","CheckIcon","IconButton","ClearIcon","axios","RequestInfo","props","reqInfo","setHavePartner","setRequestList","url","senderId","acceptPartner","event","preventDefault","formdata","FormData","append","method","data","headers","then","res","catch","err","console","log","result","prev","filter","info","declinePartner","header","alert","senderNickname"],"mappings":"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","sourcesContent":["import ReactAvatar from '@material-ui/core/Avatar';\r\nimport CheckIcon from '@material-ui/icons/Check';\r\nimport { IconButton } from '@material-ui/core';\r\nimport ClearIcon from '@material-ui/icons/Clear';\r\n\r\nimport axios from 'axios';\r\n\r\n\r\n\r\n\r\nexport default function RequestInfo(props)\r\n{\r\n    const {reqInfo,setHavePartner,setRequestList} = props;\r\n    const url = \"/gridFs/getOtherProfile/\"+reqInfo.senderId;\r\n\r\n\r\n    function acceptPartner(event)\r\n    {\r\n      event.preventDefault();\r\n      const formdata = new FormData();\r\n      formdata.append('senderId',reqInfo.senderId);\r\n      axios({\r\n        method:'post',\r\n        url:'/user/acceptRequest',\r\n        data:formdata,\r\n        headers: {'Content-Type': 'multipart/form-data'}\r\n      })\r\n      .then(res=>res.data)\r\n      .catch(err=>console.log(err))\r\n      .then(res=>{\r\n        if(res.result)\r\n        {\r\n          setRequestList(prev=>{\r\n            return prev.filter(info=>{\r\n              return info.senderId!==reqInfo.senderId\r\n            })\r\n          })\r\n          setHavePartner(true);\r\n        }\r\n      })\r\n    }\r\n    async function declinePartner(event)\r\n    {\r\n      event.preventDefault();\r\n      const formdata = new FormData();\r\n      formdata.append('senderId',reqInfo.senderId)\r\n      await axios({\r\n        method:'post',\r\n        url:'/user/declineRequest',\r\n        data:formdata,\r\n        header:{'Content-Type': 'multipart/form-data'}\r\n      })\r\n      .then(res=>res.data)\r\n      .catch(err=>console.log(err))\r\n      .then(res=>{\r\n        console.log(res);\r\n        if(res)\r\n        {\r\n          setRequestList(prev=>{\r\n            return prev.filter(info=>{\r\n              return info.senderId!==reqInfo.senderId\r\n            })\r\n          })\r\n        }\r\n        else\r\n        {\r\n          alert(\"Opps something wrong with the server\")\r\n        }\r\n      })\r\n      \r\n    }\r\n\r\n    return <div className=\"info-div\">\r\n        <div className=\"info-sender-profile-div\">\r\n            <ReactAvatar\r\n            id=\"info-sender-avatar\"\r\n            src={url}\r\n            />\r\n        </div>\r\n        <div className=\"info-sender-desc\">\r\n            {reqInfo.senderNickname} wants to be your partner<br/>\r\n            <IconButton id=\"info-req-option\" onClick={acceptPartner} ><CheckIcon/></IconButton>\r\n            <IconButton id=\"info-req-option\" onClick={declinePartner}><ClearIcon/></IconButton>\r\n        </div>\r\n    </div>\r\n}"]},"metadata":{},"sourceType":"module"}