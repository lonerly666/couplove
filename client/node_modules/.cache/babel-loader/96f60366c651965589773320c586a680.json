{"ast":null,"code":"import _slicedToArray from\"C:/Users/PC/temp/couplove/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useContext,useEffect,useRef,useState}from\"react\";import{SocketContext}from\"../SocketContext\";import'../css/videoCall.css';import IconButton from'@material-ui/core/IconButton';import VideocamOffIcon from'@material-ui/icons/VideocamOff';import MicIcon from'@material-ui/icons/Mic';import CallEndIcon from'@material-ui/icons/CallEnd';import MicOffIcon from'@material-ui/icons/MicOff';import VideocamIcon from'@material-ui/icons/Videocam';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function VideoCall(){var _useContext=useContext(SocketContext),callAccepted=_useContext.callAccepted,myVideo=_useContext.myVideo,userVideo=_useContext.userVideo,callEnded=_useContext.callEnded,leaveCall=_useContext.leaveCall,muteAudio=_useContext.muteAudio,muteVideo=_useContext.muteVideo,declineCall=_useContext.declineCall;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isMuted=_useState2[0],setIsMuted=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),isDisplayed=_useState4[0],setIsDisplayed=_useState4[1];function handleMute(){setIsMuted(!isMuted);muteAudio();}function handleDisplay(){setIsDisplayed(!isDisplayed);muteVideo();}return/*#__PURE__*/_jsxs(\"div\",{className:\"video-div\",id:\"video-div\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"vid-call\",children:/*#__PURE__*/_jsx(\"video\",{playsInline:true,muted:true,ref:myVideo,autoPlay:true})}),callAccepted&&!callEnded&&/*#__PURE__*/_jsx(\"div\",{className:\"vid-call1\",children:/*#__PURE__*/_jsx(\"video\",{playsInline:true,muted:true,ref:userVideo,autoPlay:true})}),/*#__PURE__*/_jsxs(\"div\",{className:\"option-div\",children:[/*#__PURE__*/_jsx(IconButton,{onClick:handleDisplay,className:\"option-btn\",id:\"display\",children:isDisplayed?/*#__PURE__*/_jsx(VideocamIcon,{}):/*#__PURE__*/_jsx(VideocamOffIcon,{})}),/*#__PURE__*/_jsx(IconButton,{onClick:callAccepted?leaveCall:declineCall,className:\"option-btn\",id:\"end\",children:/*#__PURE__*/_jsx(CallEndIcon,{fontSize:\"inherit\"})}),/*#__PURE__*/_jsx(IconButton,{onClick:handleMute,className:\"option-btn\",children:isMuted?/*#__PURE__*/_jsx(MicOffIcon,{}):/*#__PURE__*/_jsx(MicIcon,{})})]})]});}","map":{"version":3,"sources":["C:/Users/PC/temp/couplove/client/src/components/VideoCall.js"],"names":["useContext","useEffect","useRef","useState","SocketContext","IconButton","VideocamOffIcon","MicIcon","CallEndIcon","MicOffIcon","VideocamIcon","VideoCall","callAccepted","myVideo","userVideo","callEnded","leaveCall","muteAudio","muteVideo","declineCall","isMuted","setIsMuted","isDisplayed","setIsDisplayed","handleMute","handleDisplay"],"mappings":"uJAAA,OAASA,UAAT,CAAqBC,SAArB,CAA+BC,MAA/B,CAAuCC,QAAvC,KAAuD,OAAvD,CACA,OAASC,aAAT,KAA8B,kBAA9B,CACA,MAAO,sBAAP,CACA,MAAOC,CAAAA,UAAP,KAAuB,8BAAvB,CACA,MAAOC,CAAAA,eAAP,KAA4B,gCAA5B,CACA,MAAOC,CAAAA,OAAP,KAAoB,wBAApB,CACA,MAAOC,CAAAA,WAAP,KAAwB,4BAAxB,CACA,MAAOC,CAAAA,UAAP,KAAuB,2BAAvB,CACA,MAAOC,CAAAA,YAAP,KAAyB,6BAAzB,C,wFAEA,cAAe,SAASC,CAAAA,SAAT,EACf,CACI,gBAA6FX,UAAU,CAACI,aAAD,CAAvG,CAAOQ,YAAP,aAAOA,YAAP,CAAoBC,OAApB,aAAoBA,OAApB,CAA4BC,SAA5B,aAA4BA,SAA5B,CAAsCC,SAAtC,aAAsCA,SAAtC,CAAgDC,SAAhD,aAAgDA,SAAhD,CAA0DC,SAA1D,aAA0DA,SAA1D,CAAoEC,SAApE,aAAoEA,SAApE,CAA8EC,WAA9E,aAA8EA,WAA9E,CACI,cAA6BhB,QAAQ,CAAC,KAAD,CAArC,wCAAOiB,OAAP,eAAeC,UAAf,eACA,eAAqClB,QAAQ,CAAC,IAAD,CAA7C,yCAAOmB,WAAP,eAAmBC,cAAnB,eAIL,QAASC,CAAAA,UAAT,EACA,CACQH,UAAU,CAAC,CAACD,OAAF,CAAV,CACAH,SAAS,GAChB,CACD,QAASQ,CAAAA,aAAT,EACA,CACQF,cAAc,CAAC,CAACD,WAAF,CAAd,CACAJ,SAAS,GAChB,CACI,mBAAO,aAAK,SAAS,CAAC,WAAf,CAA2B,EAAE,CAAC,WAA9B,wBAGC,YAAK,SAAS,CAAC,UAAf,uBACC,cAAO,WAAW,KAAlB,CAAmB,KAAK,KAAxB,CAAyB,GAAG,CAAEL,OAA9B,CAAuC,QAAQ,KAA/C,EADD,EAHD,CAMED,YAAY,EAAE,CAACG,SAAf,eACD,YAAK,SAAS,CAAC,WAAf,uBACA,cAAO,WAAW,KAAlB,CAAmB,KAAK,KAAxB,CAAyB,GAAG,CAAED,SAA9B,CAAyC,QAAQ,KAAjD,EADA,EAPD,cAUC,aAAK,SAAS,CAAC,YAAf,wBACA,KAAC,UAAD,EAAY,OAAO,CAAEW,aAArB,CAAoC,SAAS,CAAC,YAA9C,CAA2D,EAAE,CAAC,SAA9D,UAAyEH,WAAW,cAAC,KAAC,YAAD,IAAD,cAAiB,KAAC,eAAD,IAArG,EADA,cAEA,KAAC,UAAD,EAAY,OAAO,CAAEV,YAAY,CAACI,SAAD,CAAWG,WAA5C,CAAyD,SAAS,CAAC,YAAnE,CAAgF,EAAE,CAAC,KAAnF,uBAAyF,KAAC,WAAD,EAAa,QAAQ,CAAC,SAAtB,EAAzF,EAFA,cAGA,KAAC,UAAD,EAAY,OAAO,CAAEK,UAArB,CAAiC,SAAS,CAAC,YAA3C,UAAyDJ,OAAO,cAAC,KAAC,UAAD,IAAD,cAAe,KAAC,OAAD,IAA/E,EAHA,GAVD,GAAP,CAgBP","sourcesContent":["import { useContext, useEffect,useRef, useState } from \"react\"\r\nimport { SocketContext } from \"../SocketContext\";\r\nimport '../css/videoCall.css';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport VideocamOffIcon from '@material-ui/icons/VideocamOff';\r\nimport MicIcon from '@material-ui/icons/Mic';\r\nimport CallEndIcon from '@material-ui/icons/CallEnd';\r\nimport MicOffIcon from '@material-ui/icons/MicOff';\r\nimport VideocamIcon from '@material-ui/icons/Videocam';\r\n\r\nexport default function VideoCall()\r\n{\r\n    const {callAccepted,myVideo,userVideo,callEnded,leaveCall,muteAudio,muteVideo,declineCall} = useContext(SocketContext);\r\n        const [isMuted,setIsMuted] = useState(false);\r\n        const [isDisplayed,setIsDisplayed] = useState(true);\r\n   \r\n \r\n   \r\n   function handleMute()\r\n   {\r\n           setIsMuted(!isMuted);\r\n           muteAudio();\r\n   }\r\n   function handleDisplay()\r\n   {\r\n           setIsDisplayed(!isDisplayed);\r\n           muteVideo();\r\n   }\r\n        return <div className=\"video-div\" id=\"video-div\">\r\n\r\n                \r\n                <div className=\"vid-call\">\r\n                 <video playsInline muted ref={myVideo} autoPlay />        \r\n                </div>\r\n                {callAccepted&&!callEnded&&\r\n                <div className=\"vid-call1\">\r\n                <video playsInline muted ref={userVideo} autoPlay />\r\n                </div>}\r\n                <div className=\"option-div\">\r\n                <IconButton onClick={handleDisplay} className=\"option-btn\" id=\"display\">{isDisplayed?<VideocamIcon/>:<VideocamOffIcon/>}</IconButton>\r\n                <IconButton onClick={callAccepted?leaveCall:declineCall} className=\"option-btn\" id=\"end\"><CallEndIcon fontSize=\"inherit\"/></IconButton>\r\n                <IconButton onClick={handleMute} className=\"option-btn\">{isMuted?<MicOffIcon/>:<MicIcon/>}</IconButton>\r\n                </div>\r\n        </div>\r\n}"]},"metadata":{},"sourceType":"module"}