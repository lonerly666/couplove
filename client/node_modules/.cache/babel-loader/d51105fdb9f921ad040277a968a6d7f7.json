{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\PC\\\\temp\\\\couplove\\\\client\\\\src\\\\components\\\\VideoUploadDiv.js\",\n    _s = $RefreshSig$();\n\nimport ArrowLeftIcon from '@material-ui/icons/ArrowLeft';\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\nimport ArrowRightIcon from '@material-ui/icons/ArrowRight';\nimport IconButton from '@material-ui/core/IconButton';\nimport Button from '@material-ui/core/Button';\nimport { useState, useRef } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function VideoUploadDiv(props) {\n  _s();\n\n  const [openUpload, setOpenUpload] = useState(false);\n  const [uploadProgress, setUploadProgress] = useState(false);\n  const formRef = useRef();\n\n  function handleUploadDiv() {\n    let state = !openUpload;\n\n    if (state) {\n      document.getElementById('upload-file').style.marginLeft = 0;\n    } else {\n      document.getElementById('upload-file').style.marginLeft = \"-380px\";\n    }\n\n    setOpenUpload(!openUpload);\n  }\n\n  function displayFileName(event) {\n    document.getElementById('file-name').textContent = event.target.files[0].name;\n  }\n\n  async function handleUploadVideo(event) {\n    event.preventDefault();\n\n    if (document.getElementById('video').value === \"\") {\n      return;\n    }\n\n    setUploadProgress(true);\n    const formdata = new FormData(formRef.current);\n    await axios({\n      method: 'post',\n      url: '/videoFs/upload',\n      data: formdata,\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      },\n      onUploadProgress: progressEvent => {\n        const progress = progressEvent.loaded / progressEvent.total * 100;\n        document.getElementById(\"uploadFileProgress\").style.width = progress + \"%\";\n\n        if (progress === 100) {\n          window.location.reload();\n        }\n      }\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"upload-file\",\n    id: \"upload-file\",\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleUploadVideo,\n      ref: formRef,\n      children: [/*#__PURE__*/_jsxDEV(IconButton, {\n        size: \"medium\",\n        onClick: () => document.getElementById('video').click(),\n        style: {\n          color: \"white\"\n        },\n        children: /*#__PURE__*/_jsxDEV(CloudUploadIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        name: \"video\",\n        id: \"video\",\n        hidden: true,\n        onChange: displayFileName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        color: \"default\",\n        type: \"submit\",\n        children: \"Upload\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      id: \"file-name\",\n      style: {\n        color: \"rgb(56, 245, 71);\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }, this), uploadProgress && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"uploadProgress\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"progressBar\",\n        id: \"uploadFileProgress\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n      size: \"small\",\n      id: \"openUploadDiv\",\n      onClick: handleUploadDiv,\n      children: openUpload ? /*#__PURE__*/_jsxDEV(ArrowLeftIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(ArrowRightIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 12\n  }, this);\n}\n\n_s(VideoUploadDiv, \"8jtqlazfhGrsgcGwCj3lFN80FEk=\");\n\n_c = VideoUploadDiv;\n\nvar _c;\n\n$RefreshReg$(_c, \"VideoUploadDiv\");","map":{"version":3,"sources":["C:/Users/PC/temp/couplove/client/src/components/VideoUploadDiv.js"],"names":["ArrowLeftIcon","CloudUploadIcon","ArrowRightIcon","IconButton","Button","useState","useRef","axios","VideoUploadDiv","props","openUpload","setOpenUpload","uploadProgress","setUploadProgress","formRef","handleUploadDiv","state","document","getElementById","style","marginLeft","displayFileName","event","textContent","target","files","name","handleUploadVideo","preventDefault","value","formdata","FormData","current","method","url","data","headers","onUploadProgress","progressEvent","progress","loaded","total","width","window","location","reload","click","color"],"mappings":"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","sourcesContent":["import ArrowLeftIcon from '@material-ui/icons/ArrowLeft';\r\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\r\nimport ArrowRightIcon from '@material-ui/icons/ArrowRight';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Button from '@material-ui/core/Button';\r\nimport { useState,useRef } from 'react';\r\nimport axios from 'axios';\r\n\r\nexport default function VideoUploadDiv(props)\r\n{\r\n    const [openUpload,setOpenUpload] = useState(false);\r\n    const [uploadProgress,setUploadProgress] = useState(false);\r\n\r\n    const formRef = useRef();\r\n\r\n    function handleUploadDiv()\r\n    {\r\n      let state = !openUpload;\r\n      if(state)\r\n      {\r\n          document.getElementById('upload-file').style.marginLeft=0;\r\n      }\r\n      else\r\n      {\r\n          document.getElementById('upload-file').style.marginLeft=\"-380px\";\r\n      }\r\n      setOpenUpload(!openUpload);\r\n    }\r\n\r\n    function displayFileName(event)\r\n  {\r\n     document.getElementById('file-name').textContent= event.target.files[0].name;\r\n  }\r\n\r\n  async function handleUploadVideo(event)\r\n  {\r\n      event.preventDefault();\r\n      if(document.getElementById('video').value===\"\")\r\n      {\r\n          return;\r\n      }\r\n      setUploadProgress(true);\r\n      const formdata = new FormData(formRef.current);\r\n      await axios({\r\n          method:'post',\r\n          url:'/videoFs/upload',\r\n          data:formdata,\r\n          headers: {'Content-Type': 'multipart/form-data'},\r\n          onUploadProgress:progressEvent=>{\r\n            const progress=(progressEvent.loaded/progressEvent.total)*100\r\n            document.getElementById(\"uploadFileProgress\").style.width = progress+\"%\";\r\n            if(progress===100)\r\n            {\r\n                window.location.reload();\r\n            }\r\n          },\r\n      })\r\n  }\r\n\r\n    return <div className=\"upload-file\" id=\"upload-file\">\r\n        <form onSubmit={handleUploadVideo} ref={formRef}>\r\n        <IconButton\r\n        size=\"medium\"\r\n        onClick={()=>document.getElementById('video').click()}\r\n        style={{color:\"white\"}}\r\n        >\r\n        <CloudUploadIcon/>\r\n        </IconButton>\r\n        <input type=\"file\" name=\"video\" id=\"video\" hidden onChange={displayFileName}/>\r\n        <Button\r\n        variant=\"contained\"\r\n        color=\"default\"\r\n        type=\"submit\"   \r\n      >\r\n        Upload\r\n      </Button>\r\n        </form>\r\n        <p id=\"file-name\" style={{color:\"rgb(56, 245, 71);\"}}></p>\r\n        {uploadProgress&&\r\n        <div className=\"uploadProgress\">   \r\n            <div className=\"progressBar\" id=\"uploadFileProgress\"> \r\n            </div>\r\n        </div>}\r\n        <IconButton\r\n        size=\"small\"\r\n        id=\"openUploadDiv\"\r\n        onClick={handleUploadDiv}\r\n        >{openUpload?\r\n            <ArrowLeftIcon/>\r\n            :\r\n            <ArrowRightIcon/>\r\n         }\r\n        </IconButton>\r\n    </div>\r\n}"]},"metadata":{},"sourceType":"module"}