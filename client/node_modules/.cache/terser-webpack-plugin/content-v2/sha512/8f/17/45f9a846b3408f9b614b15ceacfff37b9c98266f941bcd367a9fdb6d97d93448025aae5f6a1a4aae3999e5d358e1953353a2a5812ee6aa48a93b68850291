{"code":"(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{220:function(e,t,n){},244:function(e,t,n){},245:function(e,t,n){},246:function(e,t,n){},247:function(e,t,n){},249:function(e,t,n){},281:function(e,t,n){},282:function(e,t,n){},283:function(e,t,n){},284:function(e,t,n){},308:function(e,t){},310:function(e,t){},319:function(e,t,n){},338:function(e,t,n){},339:function(e,t,n){},340:function(e,t,n){},341:function(e,t,n){},355:function(e,t,n){\"use strict\";n.r(t);var a=n(18),c=n.n(a),r=n(116),i=n(19),s=n(384),o=(n(220),n(1));function l(){return Object(o.jsx)(\"div\",{className:\"login-page-div\",children:Object(o.jsxs)(\"div\",{className:\"login-page\",children:[Object(o.jsx)(\"div\",{className:\"title\",children:Object(o.jsx)(\"h1\",{children:\"Welcome to Couplove!\"})}),Object(o.jsxs)(s.a,{variant:\"contained\",onClick:function(){window.location.href=\"/auth/google\"},id:\"home-login-btn\",children:[Object(o.jsx)(\"img\",{src:\"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg\",className:\"g-logo\"}),\"\\xa0\\xa0Login With Google\"]})]})})}var d=n(8),u=n.n(d),j=n(82),b=n(11),h=n(43),m=n(6),f=n(0),O=n(9),p=n.n(O),g=n(389);n(244);n(245),n(246);var v=n(396),x=n(166),y=n.n(x),w=n(388),I=n(55),k=n.n(I);function N(e){var t=e.reqInfo,n=e.setHavePartner,a=e.setRequestList,c=\"/gridFs/getOtherProfile/\"+t.senderId;function r(){return(r=Object(b.a)(u.a.mark((function e(n){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),(c=new FormData).append(\"senderId\",t.senderId),e.next=5,p()({method:\"post\",url:\"/user/declineUser\",data:c,header:{\"Content-Type\":\"multipart/form-data\"}}).then((function(e){return e.data})).catch((function(e){return console.log(e)})).then((function(e){e?a((function(e){return e.filter((function(e){return e.senderId!==t.senderId}))})):alert(\"Opps something wrong with the server\")}));case 5:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}return Object(o.jsxs)(\"div\",{className:\"info-div\",children:[Object(o.jsx)(\"div\",{className:\"info-sender-profile-div\",children:Object(o.jsx)(v.a,{id:\"info-sender-avatar\",src:c})}),Object(o.jsxs)(\"div\",{className:\"info-sender-desc\",children:[t.senderNickname,\" wants to be your partner\",Object(o.jsx)(\"br\",{}),Object(o.jsx)(w.a,{id:\"info-req-option\",onClick:function(e){e.preventDefault();var c=new FormData;c.append(\"senderId\",t.senderId),p()({method:\"post\",url:\"/user/acceptRequest\",data:c,headers:{\"Content-Type\":\"multipart/form-data\"}}).then((function(e){return e.data})).catch((function(e){return console.log(e)})).then((function(e){e.result&&(a((function(e){return e.filter((function(e){return e.senderId!==t.senderId}))})),n(!0))}))},children:Object(o.jsx)(y.a,{})}),Object(o.jsx)(w.a,{id:\"info-req-option\",onClick:function(e){return r.apply(this,arguments)},children:Object(o.jsx)(k.a,{})})]})]})}function C(e){var t=e.requestList,n=e.setHavePartner,a=e.setRequestList;return Object(o.jsx)(\"div\",{className:\"req-list-div\",children:t.map((function(e){return Object(o.jsx)(N,{setRequestList:a,reqInfo:e,setHavePartner:n})}))})}var S=n(167),B=n.n(S),E=n(96),D=n.n(E);function P(e){var t=e.handleSendReq,n=e.formRef,a=e.havePartner,c=e.requestList,r=e.setHavePartner,i=e.setRequestList,s=e.isHome,l=Object(f.useState)(!1),d=Object(m.a)(l,2),j=d[0],h=d[1];function O(){return(O=Object(b.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p()({method:\"post\",url:\"/home/checkExist\"});case 2:return(n=new FormData).append(\"file\",t.target.files[0]),e.next=6,p()({method:\"post\",url:\"/home/upload\",data:n,headers:{\"Content-Type\":\"multipart/formdata\"}}).then((function(e){return e.data})).catch((function(e){return console.log(e)})).then((function(e){window.location.reload()}));case 6:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}return Object(o.jsxs)(\"div\",{className:\"nav-div\",children:[Object(o.jsx)(\"div\",{className:\"nav-title\",onClick:function(){return window.open(\"/\",\"_self\")},children:Object(o.jsx)(\"h3\",{children:\"Couplove\"})}),Object(o.jsxs)(\"div\",{className:\"nav-activity-div\",children:[Object(o.jsx)(\"div\",{className:\"nav-activity logout\",onClick:function(){return window.location.href=\"/auth/logout\"},children:\"Logout\"}),s&&Object(o.jsx)(w.a,{style:{color:\"white\"},onClick:function(){return document.getElementById(\"background-file\").click()},children:Object(o.jsx)(D.a,{})}),s&&Object(o.jsx)(\"input\",{type:\"file\",hidden:!0,id:\"background-file\",onChange:function(e){return O.apply(this,arguments)},name:\"file\"}),Object(o.jsx)(\"div\",{className:\"nav-activity profile\",onClick:function(){return window.location.href=\"/userProfileForm\"},children:\"Profile\"}),a&&Object(o.jsx)(\"div\",{className:\"nav-activity chat\",onClick:function(){return window.open(\"/chatRoom\",\"_self\")},children:\"Chat Room\"}),a&&Object(o.jsx)(\"div\",{className:\"nav-activity cinema\",onClick:function(){return window.open(\"/cinema\",\"_self\")},children:\"Cinema\"}),a&&Object(o.jsx)(\"div\",{className:\"nav-activity memory\",onClick:function(){return window.open(\"/memoryBook\",\"_self\")},children:\"Memory Book\"}),!a&&Object(o.jsx)(\"div\",{className:\"nav-sendRequest\",children:Object(o.jsxs)(\"form\",{onSubmit:t,ref:n,children:[Object(o.jsx)(\"input\",{type:\"text\",id:\"reqId\",name:\"reqId\",placeholder:\"Partner ID\"}),Object(o.jsx)(\"input\",{type:\"submit\",value:\"+\",className:\"nav-submit\"})]})}),!a&&Object(o.jsxs)(\"div\",{className:\"nav-request\",children:[Object(o.jsx)(w.a,{style:{color:\"whitesmoke\"},onClick:function(){return h(!j)},children:Object(o.jsx)(B.a,{})}),j&&Object(o.jsx)(C,{requestList:c,setHavePartner:r,setRequestList:i})]})]})]})}n(247);var F=n(104),R=n.n(F),M=n(23),T=n(393),L=n(84);Object(g.a)((function(e){return{formControl:{minWidth:\"100%\"},large:{width:e.spacing(17),height:e.spacing(17)}}}));function A(){var e,t=Object(f.useState)(),n=Object(m.a)(t,2),a=n[0],c=n[1],r=Object(f.useState)(),i=Object(m.a)(r,2),l=i[0],d=i[1],O=Object(f.useState)(!1),g=Object(m.a)(O,2),v=g[0],x=g[1],y=Object(f.useState)(),I=Object(m.a)(y,2),N=(I[0],I[1],Object(f.useState)()),C=Object(m.a)(N,2),S=(C[0],C[1],Object(f.useState)([])),B=Object(m.a)(S,2),E=B[0],D=B[1],F=Object(f.useState)(!1),A=Object(m.a)(F,2),_=A[0],q=A[1],W=Object(f.useState)(!1),U=Object(m.a)(W,2),z=U[0],Y=U[1],V=Object(f.useState)(!1),H=Object(m.a)(V,2),J=H[0],G=H[1],K=Object(f.useState)(!1),Z=Object(m.a)(K,2),X=Z[0],$=Z[1],Q=Object(f.useState)(!1),ee=Object(m.a)(Q,2),te=ee[0],ne=ee[1],ae=Object(f.useState)(new Date),ce=Object(m.a)(ae,2),re=ce[0],ie=ce[1],se=Object(f.useState)(),oe=Object(m.a)(se,2),le=oe[0],de=oe[1],ue=Object(f.useState)(),je=Object(m.a)(ue,2),be=je[0],he=je[1],me=Object(f.useState)(),fe=Object(m.a)(me,2),Oe=fe[0],pe=fe[1],ge=Object(f.useState)(),ve=Object(m.a)(ge,2),xe=ve[0],ye=ve[1],we=Object(f.useState)(),Ie=Object(m.a)(we,2),ke=Ie[0],Ne=Ie[1],Ce=Object(f.useState)(),Se=Object(m.a)(Ce,2),Be=Se[0],Ee=Se[1],De=Object(f.useState)(),Pe=Object(m.a)(De,2),Fe=Pe[0],Re=Pe[1],Me=Object(f.useState)(\"\"),Te=Object(m.a)(Me,2),Le=Te[0],Ae=Te[1],_e=Object(f.useState)(!0),qe=Object(m.a)(_e,2),We=qe[0],Ue=(qe[1],Object(f.useRef)()),ze=Object(f.useRef)(),Ye=Object(f.useRef)(),Ve={\"01\":\"January\",\"02\":\"February\",\"03\":\"March\",\"04\":\"April\",\"05\":\"May\",\"06\":\"June\",\"07\":\"July\",\"08\":\"August\",\"09\":\"September\",10:\"October\",11:\"November\",12:\"December\"};function He(e){var t=new Date(parseInt(Date.parse(e),10)),n=String(t.getDate()).padStart(2,\"0\"),a=String(t.getMonth()+1).padStart(2,\"0\");t.getFullYear();return n+\" \"+Ve[a]}function Je(e){e.preventDefault();var t=new FormData(Ue.current);p()({method:\"post\",url:\"/user/sendRequest\",data:t,headers:{\"Content-Type\":\"multipart/form-data\"}}).then((function(e){return e.data})).catch((function(e){return console.log(e)})).then((function(e){e.isSent?alert(\"sent!\"):(alert(e.status),console.log(e))})),document.getElementById(\"reqId\").value=\"\"}function Ge(e){\"special\"===e?document.getElementById(\"hover-special\").style.opacity=\"1\":\"day\"===e?document.getElementById(\"hover-day\").style.opacity=\"1\":\"bday\"===e&&(document.getElementById(\"hover-bday\").style.opacity=\"1\")}function Ke(e){\"special\"===e?document.getElementById(\"hover-special\").style.opacity=\"0\":\"day\"===e?document.getElementById(\"hover-day\").style.opacity=\"0\":\"bday\"===e&&(document.getElementById(\"hover-bday\").style.opacity=\"0\")}function Ze(e){return Xe.apply(this,arguments)}function Xe(){return(Xe=Object(b.a)(u.a.mark((function e(t){var n,a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(\"day\"!==t){e.next=12;break}if(!X){e.next=8;break}return(n=new FormData).append(\"type\",t),e.next=6,p()({method:\"post\",url:\"/widget/createWidget\",data:n,headers:{\"Content-Type\":\"multipart/form-data\"}}).then((function(e){return e.data})).catch((function(e){return console.log(e)})).then((function(e){q(!0)}));case 6:e.next=10;break;case 8:document.getElementById(\"noDayWidget\").style.display=\"none\",ne(!0);case 10:e.next=24;break;case 12:if(\"bday\"!==t){e.next=19;break}return(a=new FormData).append(\"type\",\"bday\"),e.next=17,p()({method:\"post\",url:\"/widget/createWidget\",data:a,headers:{\"Content-Type\":\"multipart/form-data\"}}).then((function(e){return e.data})).catch((function(e){return console.log(e)})).then((function(e){e&&G(!0)}));case 17:e.next=24;break;case 19:if(\"special\"!==t){e.next=24;break}return(c=new FormData).append(\"type\",\"special\"),e.next=24,p()({method:\"post\",url:\"/widget/createWidget\",data:c,headers:{\"Content-Type\":\"multipart/formdata\"}}).then((function(e){return e.data})).catch((function(e){return console.log(e)})).then((function(e){e&&Y(!0)}));case 24:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function $e(){return($e=Object(b.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(n=new FormData(Ye.current)).append(\"type\",\"day\"),e.next=5,p()({method:\"post\",url:\"/widget/createWidget\",data:n,headers:{\"Content-Type\":\"multipart/form-data\"}}).then((function(e){return e.data})).catch((function(e){return console.log(e)})).then((function(e){ne(!1),q(!0)}));case 5:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function Qe(e){\"day\"===e?document.getElementById(\"home-delete-dayWidget\").style.visibility=\"visible\":\"bday\"===e?document.getElementById(\"home-delete-bdayWidget\").style.visibility=\"visible\":\"special\"===e&&(document.getElementById(\"home-delete-specialWidget\").style.visibility=\"visible\")}function et(){_&&(document.getElementById(\"home-delete-dayWidget\").style.visibility=\"hidden\"),J&&(document.getElementById(\"home-delete-bdayWidget\").style.visibility=\"hidden\"),z&&(document.getElementById(\"home-delete-specialWidget\").style.visibility=\"hidden\")}function tt(e){return nt.apply(this,arguments)}function nt(){return(nt=Object(b.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append(\"type\",t),e.next=4,p()({method:\"post\",url:\"/widget/deleteWidget\",data:n,headers:{\"Content-Type\":\"multipart/form-data\"}}).then((function(e){return e.data})).catch((function(e){return console.log(e)})).then((function(e){e&&(\"day\"===t&&q(!1),\"bday\"===t&&G(!1),\"special\"===t&&Y(!1))}));case 4:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}return Object(f.useEffect)((function(){var e=new AbortController;return p.a.get(\"/auth/isLoggedIn\").then((function(e){return e.data})).catch((function(e){return console.log(e)})).then((function(e){if(!1===e.isLoggedIn)window.open(\"/login\",\"_self\");else if(void 0===e.user.nickname)window.open(\"/userProfileForm\",\"_self\");else{p.a.get(\"/home/getBackground\").then((function(e){return e.data})).catch((function(e){return console.log(e)})).then((function(e){e?(Ae(\"/home/getBackground\"),document.getElementById(\"foreground\").style.visibility=\"hidden\"):(Ae(\"https://s3-us-west-2.amazonaws.com/s.cdpn.io/751678/my-illustration-background.png\"),document.getElementById(\"foreground\").style.visibility=\"visible\")}));var t=new Date(e.user.dateOfRelationship),n=\"0\"+(t.getMonth()+1)+\"/\"+t.getDate(),a=[{date:\"02/14\",event:\"Valentines Day\"},{date:\"05/20\",event:\"520 Day\"},{date:\"12/25\",event:\"Christmas Day\"},{date:\"12/31\",event:\"New Year Eve\"},{date:n,event:\"Anniversary Day\"}];if(d(e.partnerInfo),c(e.user),null!==e.user.dateOfRelationship&&($(!0),ie(e.user.dateOfRelationship),e.widget))for(var r=0;r<e.widget.widget.length;r++)if(\"day\"===e.widget.widget[r].type){q(!0);var i=new Date,s=new Date(e.user.dateOfRelationship),o=i.getTime()-s.getTime();de(parseInt(o/864e5)+1)}else if(\"bday\"===e.widget.widget[r].type){var l=He(e.partnerInfo.dateOfBirth),u=He(e.user.dateOfBirth);pe(l),he(u);var j=new Date,b=new Date(e.partnerInfo.dateOfBirth),m=new Date(e.user.dateOfBirth);b.setFullYear(j.getFullYear()),m.setFullYear(j.getFullYear()),j>b&&b.setFullYear(j.getFullYear()+1),j>m&&m.setFullYear(j.getFullYear()+1);var f=parseInt((b.getTime()-j.getTime())/864e5),O=parseInt((m.getTime()-j.getTime())/864e5);Ne(0===f?\"Today is your partner's Birthday!\":Math.abs(f)),ye(0===O?\"Today is your Birthday!\":Math.abs(O)),G(!0)}else\"special\"===e.widget.widget[r].type&&function(){Y(!0);var e=new Date,t=e.getFullYear(),c=99999999999;a.map((function(n){var a=new Date(t+\"/\"+n.date);e>a&&a.setFullYear(e+1);var r=Math.abs(parseInt(e.getTime()-a.getTime())/864e5);r<c&&(c=r+1,Ee(n.event))})),0===Math.round(c)?Re(\"Today is \"+n.event+\" !\"):Re(Math.round(c))}();p()({method:\"get\",url:\"/user/getRequest\",headers:{\"Content-Type\":\"multipart/form-data\"}}).then((function(e){return e.data})).catch((function(e){return console.log(e)})).then((function(e){var t=[];e.requests.map((function(e){t.push(Object(h.a)({},e))})),D(t)})),null!==e.user.partner&&x(!0)}})),function(){e.abort()}}),[_,z,J]),E.map((function(e){console.log(e)})),Object(o.jsxs)(\"div\",{className:\"home-div\",children:[Object(o.jsx)(P,(e={isHome:We,setRequestList:D,setHavePartner:x,requestList:E,havePartner:v,handleSendReq:Je,formRef:Ue,handleLogout:function(){window.location.href=\"/auth/logout\"}},Object(j.a)(e,\"handleSendReq\",Je),Object(j.a)(e,\"acceptRef\",ze),e)),Object(o.jsxs)(\"div\",{className:\"home-background\",style:{backgroundImage:\"url(\"+Le+\")\"},children:[Object(o.jsxs)(\"div\",{className:\"home-overlay\",children:[Object(o.jsxs)(\"div\",{className:\"home-widget anniverse\",children:[!v&&Object(o.jsx)(\"div\",{className:\"home-noPartner\",children:\"You need to have a partner to access this widget\"}),z?Object(o.jsxs)(\"div\",{className:\"home-event-div\",onMouseOut:et,onMouseOver:function(){return Qe(\"special\")},children:[Object(o.jsx)(w.a,{id:\"home-delete-specialWidget\",onClick:function(){return tt(\"special\")},children:Object(o.jsx)(k.a,{})}),Object(o.jsxs)(\"div\",{className:\"home-event-title\",children:[Object(o.jsx)(\"h3\",{children:\"Up Coming Event:\"}),Object(o.jsx)(\"br\",{}),Object(o.jsx)(\"h1\",{children:Be})]}),Object(o.jsx)(\"div\",{className:\"home-event-day\",children:Object(o.jsxs)(\"h1\",{children:[Fe,\" days left\"]})})]}):Object(o.jsxs)(\"div\",{className:\"home-noWidget\",children:[Object(o.jsx)(w.a,{id:\"home-add-widget\",onClick:function(){return Ze(\"special\")},onMouseOver:function(){return Ge(\"special\")},onMouseOut:function(){return Ke(\"special\")},children:Object(o.jsx)(R.a,{fontSize:\"large\"})}),Object(o.jsx)(\"div\",{className:\"home-add-hover\",id:\"hover-special\",children:\"Add this widget to get to know up coming special events\"})]})]}),Object(o.jsxs)(\"div\",{className:\"home-widget days\",children:[!v&&Object(o.jsx)(\"div\",{className:\"home-noPartner\",children:\"You need to have a partner to access this widget\"}),_?Object(o.jsxs)(\"div\",{className:\"home-totalDay-widget\",onMouseOut:et,onMouseOver:function(){return Qe(\"day\")},children:[Object(o.jsx)(w.a,{id:\"home-delete-dayWidget\",onClick:function(){return tt(\"day\")},children:Object(o.jsx)(k.a,{})}),Object(o.jsxs)(\"h1\",{children:[le,\" DAYS\"]})]}):Object(o.jsxs)(\"div\",{className:\"home-noWidget\",id:\"noDayWidget\",children:[Object(o.jsx)(w.a,{id:\"home-add-widget\",onClick:function(){return Ze(\"day\")},onMouseOver:function(){return Ge(\"day\")},onMouseOut:function(){return Ke(\"day\")},children:Object(o.jsx)(R.a,{fontSize:\"large\"})}),Object(o.jsx)(\"div\",{className:\"home-add-hover\",id:\"hover-day\",children:\"Add this widget to get to know total days together\"})]}),te&&Object(o.jsxs)(\"div\",{className:\"home-setDate\",children:[Object(o.jsx)(\"div\",{className:\"home-setDate-title\",children:Object(o.jsx)(\"h2\",{children:\"Please set the date of you with your partner\"})}),Object(o.jsxs)(\"form\",{onSubmit:function(e){return $e.apply(this,arguments)},ref:Ye,children:[Object(o.jsx)(M.a,{utils:L.a,children:Object(o.jsx)(T.a,{margin:\"normal\",id:\"dateOfRelation\",label:\"Date of Relationship\",name:\"dateOfRelation\",format:\"MM/dd/yyyy\",value:re,onChange:function(e){ie(e)},KeyboardButtonProps:{\"aria-label\":\"change date\"}})}),Object(o.jsx)(s.a,{type:\"submit\",id:\"home-submit-day\",children:\"SUBMIT\"})]})]})]}),Object(o.jsxs)(\"div\",{className:\"home-widget special\",children:[!v&&Object(o.jsx)(\"div\",{className:\"home-noPartner\",children:\"You need to have a partner to access this widget\"}),J?Object(o.jsxs)(\"div\",{className:\"home-dob-div\",onMouseOut:et,onMouseOver:function(){return Qe(\"bday\")},children:[Object(o.jsx)(w.a,{id:\"home-delete-bdayWidget\",onClick:function(){return tt(\"bday\")},children:Object(o.jsx)(k.a,{})}),Object(o.jsxs)(\"div\",{className:\"home-bday-div you\",children:[Object(o.jsx)(\"div\",{className:\"home-bday-name\",children:Object(o.jsx)(\"h1\",{children:a.nickname})}),Object(o.jsx)(\"div\",{className:\"home-bday-border\",children:Object(o.jsxs)(\"div\",{className:\"home-bday-calander\",children:[Object(o.jsx)(\"h2\",{style:{borderBottom:\"1px solid white\"},children:be}),Object(o.jsx)(\"br\",{}),Object(o.jsx)(\"br\",{}),Object(o.jsx)(\"br\",{}),Object(o.jsxs)(\"h1\",{children:[xe,\" days left\"]})]})})]}),Object(o.jsxs)(\"div\",{className:\"home-bday-div partner\",children:[Object(o.jsx)(\"div\",{className:\"home-bday-name\",children:Object(o.jsx)(\"h1\",{children:l.nickname})}),Object(o.jsx)(\"div\",{className:\"home-bday-border\",children:Object(o.jsxs)(\"div\",{className:\"home-bday-calander\",children:[Object(o.jsx)(\"h2\",{style:{borderBottom:\"1px solid white\"},children:Oe}),Object(o.jsx)(\"br\",{}),Object(o.jsx)(\"br\",{}),Object(o.jsx)(\"br\",{}),Object(o.jsxs)(\"h1\",{children:[ke,\" days left\"]})]})})]})]}):Object(o.jsxs)(\"div\",{className:\"home-noWidget\",children:[Object(o.jsx)(w.a,{id:\"home-add-widget\",onClick:function(){return Ze(\"bday\")},onMouseOver:function(){return Ge(\"bday\")},onMouseOut:function(){return Ke(\"bday\")},children:Object(o.jsx)(R.a,{fontSize:\"large\"})}),Object(o.jsx)(\"div\",{className:\"home-add-hover\",id:\"hover-bday\",children:\"Add this widget to get to know each other birthdays\"})]})]})]}),Object(o.jsx)(\"div\",{className:\"foreground\",id:\"foreground\"})]})]})}var _=n(397),q=n(398),W=n(392),U=n(394),z=n(399),Y=(n(249),n(169)),V=n.n(Y),H=[{value:\"male\",label:\"male\"},{value:\"female\",label:\"female\"}],J=Object(g.a)((function(e){return{formControl:{marginTop:20,minWidth:\"90%\"}}}));function G(){var e=Object(f.useState)(\"\"),t=Object(m.a)(e,2),n=t[0],a=t[1],c=Object(f.useState)(\"\"),r=Object(m.a)(c,2),i=r[0],l=r[1],d=Object(f.useState)(),j=Object(m.a)(d,2),h=j[0],O=j[1],g=Object(f.useState)(!1),x=Object(m.a)(g,2),y=x[0],I=x[1],k=Object(f.useState)(new Date),N=Object(m.a)(k,2),C=N[0],S=N[1],B=Object(f.useState)(\"male\"),E=Object(m.a)(B,2),D=E[0],P=E[1],F=Object(f.useState)(!1),R=Object(m.a)(F,2),A=(R[0],R[1],Object(f.useState)()),Y=Object(m.a)(A,2),G=Y[0],K=Y[1],Z=Object(f.useState)(),X=Object(m.a)(Z,2),$=X[0],Q=X[1],ee=Object(f.useRef)(),te=J();if(Object(f.useEffect)((function(){var e=new AbortController;return p.a.get(\"/auth/isLoggedIn\").then((function(e){return e.data})).catch((function(e){return console.log(e)})).then((function(e){!1===e.isLoggedIn?window.open(\"/login\",\"_self\"):e.user.nickname&&(a(e.user.nickname),S(e.user.dateOfBirth),P(e.user.gender),l(e.user.bio),null!==e.user.partner&&(K(e.user.partner),e.user.dateOfRelationship&&Q(e.user.dateOfRelationship)))})),function(){e.abort()}}),[]),Object(f.useEffect)((function(){var e=new AbortController;return p()({method:\"get\",url:\"/gridFs/checkExists\",headers:{\"Content-Type\":\"multipart/form-data\"}}).then((function(e){return e.data})).catch((function(e){return console.log(e)})).then((function(e){!0===e&&(document.getElementById(\"overlay\").style.visibility=\"hidden\")})),function(){e.abort()}}),[]),y){var ne=new FileReader;ne.onload=function(e){null!==e.target.result&&document.getElementById(\"avatarImg\").setAttribute(\"src\",e.target.result)},ne.readAsDataURL(h)}function ae(){return(ae=Object(b.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y&&p.a.get(\"/gridFs/deleteImg\"),t.preventDefault(),n=new FormData(ee.current),G&&n.append(\"partner\",G),e.next=6,p()({method:\"post\",url:\"/user/info\",data:n,headers:{\"Content-Type\":\"multipart/form-data\"}});case 6:window.location.href=\"/\";case 7:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}return Object(o.jsx)(\"div\",{className:\"infoForm\",id:\"infoForm\",children:Object(o.jsxs)(\"form\",{onSubmit:function(e){return ae.apply(this,arguments)},ref:ee,children:[Object(o.jsxs)(\"div\",{id:\"avatar\",children:[Object(o.jsx)(v.a,{id:\"overlay\"}),Object(o.jsx)(\"img\",{src:y?\"\":\"/gridFs/getProfile\",id:\"avatarImg\"})]}),Object(o.jsxs)(\"div\",{className:\"fileIpt\",children:[Object(o.jsx)(\"input\",{type:\"file\",name:\"file\",id:\"file\",onChange:function(e){var t=e.target.files[0];void 0!==t&&(document.getElementById(\"overlay\").style.visibility=\"hidden\",O(t),I(!0))}}),Object(o.jsx)(w.a,{id:\"uploadBtn\",onClick:function(){document.getElementById(\"file\").click()},children:Object(o.jsx)(V.a,{})})]}),Object(o.jsx)(\"br\",{}),Object(o.jsxs)(\"div\",{className:\"infoDiv\",children:[Object(o.jsx)(_.a,{id:\"nickname\",className:\"inputFields\",label:\"Nickname\",variant:\"outlined\",name:\"nickname\",value:n,onChange:function(e){a(e.target.value)}}),Object(o.jsx)(\"br\",{}),Object(o.jsxs)(W.a,{variant:\"outlined\",className:te.formControl,children:[Object(o.jsx)(q.a,{id:\"demo-simple-select-outlined-label\",children:\"Gender\"}),Object(o.jsx)(U.a,{labelId:\"demo-simple-select-outlined-label\",id:\"demo-simple-select-outlined\",value:D,onChange:function(e){P(e.target.value)},label:\"Gender\",name:\"gender\",children:H.map((function(e){return Object(o.jsx)(z.a,{value:e.value,children:e.label},e.value)}))})]}),Object(o.jsx)(\"br\",{}),Object(o.jsx)(M.a,{utils:L.a,style:{marginLeft:\"10px\"},children:Object(o.jsx)(T.a,{margin:\"normal\",id:\"dateOfBirth\",label:\"Date of birth (mm/dd/yyyy)\",name:\"dateOfBirth\",format:\"MM/dd/yyyy\",value:C,onChange:function(e){S(e)},KeyboardButtonProps:{\"aria-label\":\"change date\"}})}),$&&Object(o.jsx)(M.a,{utils:L.a,children:Object(o.jsx)(T.a,{margin:\"normal\",id:\"dateOfRelation\",label:\"Date of relationship\",name:\"dateOfRelationship\",format:\"MM/dd/yyyy\",value:$,onChange:function(e){Q(e)},KeyboardButtonProps:{\"aria-label\":\"change date\"}})}),Object(o.jsx)(\"br\",{}),Object(o.jsx)(_.a,{id:\"bio\",label:\"Bio\",variant:\"outlined\",name:\"bio\",className:\"inputFields\",value:i,onChange:function(e){l(e.target.value)}}),Object(o.jsx)(\"br\",{}),Object(o.jsx)(s.a,{type:\"submit\",id:\"submitInfo\",children:\"submit\"})]})]})})}var K=n(50),Z=n(79),X=n.n(Z),$=(n(281),n(170)),Q=n.n($);function ee(e){var t=e.handleSendMsg;return Object(o.jsx)(\"div\",{className:\"foot\",children:Object(o.jsxs)(\"form\",{onSubmit:t,className:\"input-form\",children:[Object(o.jsx)(\"input\",{type:\"text\",className:\"msg\",placeholder:\"Type a message...\",id:\"chat\"}),Object(o.jsx)(w.a,{type:\"submit\",id:\"sendIcon\",children:Object(o.jsx)(Q.a,{})})]})})}n(282),n(283);var te=n(100),ne=n.n(te),ae=n(101),ce=n.n(ae);function re(e){e.toggleBackHome;var t=e.partnerInfo,n=e.partnerStatus,a=e.toggleVideoCall,c=(e.callAccepted,e.setBackgroundUrl,Object(f.useState)(!1)),r=Object(m.a)(c,2),i=r[0],s=r[1],l=Object(f.useState)(!1),d=Object(m.a)(l,2),j=d[0],h=d[1],O=Object(f.useState)(!1),g=Object(m.a)(O,2),v=g[0],x=g[1];Object(f.useRef)();function y(){return(y=Object(b.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get(\"/chat/deleteBackground\");case 2:return(n=new FormData).append(\"file\",t.target.files[0]),e.next=6,p()({method:\"post\",url:\"/chat/uploadChatImg\",data:n,headers:{\"Content-Type\":\"multipart/form-data\"}});case 6:window.location.reload();case 7:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}return Object(f.useEffect)((function(){var e=new AbortController;return t&&s(!0),function(){e.abort()}}),[t]),n&&t&&n.map((function(e){e===t._id&&h(!0)})),Object(o.jsxs)(\"div\",{className:\"chatNav-div\",children:[j&&Object(o.jsx)(\"h1\",{children:\"ONLINE\"}),v&&Object(o.jsx)(\"div\",{className:\"chatNav-moreOption\",children:Object(o.jsxs)(\"div\",{className:\"chatNav-changeBackground\",onClick:function(){return document.getElementById(\"chatNav-file\").click()},children:[Object(o.jsx)(D.a,{}),Object(o.jsx)(\"input\",{type:\"file\",name:\"file\",hidden:!0,id:\"chatNav-file\",onChange:function(e){return y.apply(this,arguments)}})]})}),Object(o.jsxs)(\"div\",{className:\"head\",children:[Object(o.jsxs)(\"div\",{className:\"user\",children:[Object(o.jsx)(\"div\",{className:\"avatar\",id:\"avatarStatus\",children:Object(o.jsx)(\"img\",{src:\"/gridFs/getPartnerProfile\"})}),i&&Object(o.jsx)(\"div\",{className:\"name\",children:t.nickname})]}),Object(o.jsxs)(\"ul\",{id:\"bar_tool\",children:[Object(o.jsx)(w.a,{id:\"iconBtn\",onClick:a,children:Object(o.jsx)(\"span\",{className:\"alink\",children:Object(o.jsx)(ne.a,{id:\"contact\"})})}),Object(o.jsx)(w.a,{id:\"iconBtn\",onClick:function(){return x(!v)},children:Object(o.jsx)(\"span\",{className:\"alink\",children:Object(o.jsx)(ce.a,{id:\"contact\"})})})]})]})]})}n(284);function ie(e){var t=e.textInfo,n=e.user;return t&&t.userId===n._id?Object(o.jsx)(\"div\",{className:\"bubble-div righter\",children:Object(o.jsx)(\"div\",{className:\"context\",children:Object(o.jsx)(\"p\",{children:t&&t.text})})}):Object(o.jsxs)(\"div\",{className:\"bubble-div lefter\",children:[Object(o.jsx)(\"div\",{className:\"img-div\",children:Object(o.jsx)(\"img\",{src:\"/gridFs/getPartnerProfile\"})}),Object(o.jsx)(\"div\",{className:\"context\",children:Object(o.jsx)(\"p\",{children:t&&t.text})})]})}n(285);var se,oe,le=n(117),de=n.n(le),ue=Object(f.createContext)(),je=!1,be=!1,he=function(e){var t=e.children,n=Object(f.useState)(!1),a=Object(m.a)(n,2),c=a[0],r=a[1],i=Object(f.useState)(!1),s=Object(m.a)(i,2),l=s[0],d=s[1],j=Object(f.useState)(),h=Object(m.a)(j,2),O=h[0],p=h[1],g=Object(f.useState)({}),v=Object(m.a)(g,2),x=v[0],y=v[1],w=Object(f.useState)(\"\"),I=Object(m.a)(w,2),k=I[0],N=I[1],C=Object(f.useState)(\"\"),S=Object(m.a)(C,2),B=S[0],E=S[1],D=Object(f.useState)([]),P=Object(m.a)(D,2),F=P[0],R=P[1],M=Object(f.useState)(),T=Object(m.a)(M,2),L=(T[0],T[1],Object(f.useState)(!1)),A=Object(m.a)(L,2),_=A[0],q=A[1],W=Object(f.useState)(!1),U=Object(m.a)(W,2),z=U[0],Y=U[1],V=Object(f.useState)(!0),H=Object(m.a)(V,2),J=H[0],G=(H[1],Object(f.useState)()),K=Object(m.a)(G,2),X=K[0],$=(K[1],Object(f.useRef)()),Q=Object(f.useRef)(),ee=Object(f.useRef)();Object(f.useEffect)((function(){(se=Object(Z.io)(\"localhost:5000\")).on(\"chatMsg\",(function(e){R(e)})),se.on(\"startCalling\",(function(e){ce()})),se.on(\"start\",(function(e){q(!0)})),se.on(\"no\",(function(e){Y(!0),alert(\"your partner is not online!\")}))}),[]),Object(f.useEffect)((function(){if(!_)return null;se.on(\"returnDiv\",(function(e){document.getElementById(\"chat-body\").style.marginRight=\"auto\",document.getElementById(\"chat-body\").style.marginLeft=\"auto\",document.getElementById(\"video-div\").style.visibility=\"hidden\"})),se.on(\"calluser\",function(){var e=Object(b.a)(u.a.mark((function e(t){var n,a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.from,a=t.name,c=t.signal,y({isReceivingCall:!0,from:n,name:a,signal:c});case 2:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),se.on(\"moveDiv\",(function(e){document.getElementById(\"chat-body\").style.marginRight=\"auto\",document.getElementById(\"chat-body\").style.marginLeft=\"10px\",document.getElementById(\"video-div\").style.visibility=\"visible\"})),se.on(\"dc\",(function(e){re()}))}),[_]);var te=!0,ne=!0,ae=function(){var e=Object(b.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then((function(e){p(e),t=e,$.current.srcObject=e}));case 2:be=!0,r(!0),(n=new de.a({initiator:!1,trickle:!1,stream:t})).on(\"signal\",(function(e){se.emit(\"answercall\",{signal:e,to:x.from})})),n.on(\"stream\",(function(e){console.log(\"this is the remote stream: \"+e),Q.current.srcObject=e})),n.signal(x.signal),ee.current=n;case 9:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ce=function(){var e=Object(b.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!z){e.next=2;break}return e.abrupt(\"return\",null);case 2:return e.next=4,navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then((function(e){p(e),t=e,$.current.srcObject=e}));case 4:je=!0,(n=new de.a({initiator:!0,trickle:!1,stream:t})).on(\"signal\",(function(e){se.emit(\"calluser\",{signalData:e,name:oe})})),n.on(\"stream\",(function(e){Q.current.srcObject=e})),se.on(\"callaccepted\",(function(e){console.log(\"call accepted: \"+e),r(!0),n.signal(e)})),ee.current=n;case 10:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=function(){d(!0),je&&(document.getElementById(\"chat-body\").style.marginRight=\"auto\",document.getElementById(\"chat-body\").style.marginLeft=\"auto\",document.getElementById(\"video-div\").style.visibility=\"hidden\"),ee.current.destroy(),window.location.reload()};return Object(o.jsx)(ue.Provider,{value:{call:x,callAccepted:c,myVideo:$,newMessage:F,sendMsg:function(e,t){se.emit(\"sendMsg\",{msg:e,userId:k,nickname:t,roomId:B})},joinRoom:function(e,t,n){se.emit(\"join\",{userId:t,roomId:e}),N(t),E(e),oe=n},userVideo:Q,stream:O,name:oe,callEnded:l,callUser:ce,leaveCall:re,answerCall:ae,users:X,isOnline:J,startCall:function(){se.emit(\"calling\")},muteAudio:function(){te=!te,O.getAudioTracks()[0].enabled=te},muteVideo:function(){ne=!ne,O.getVideoTracks()[0].enabled=ne},declineCall:function(){d(!0),je&&(document.getElementById(\"chat-body\").style.marginRight=\"auto\",document.getElementById(\"chat-body\").style.marginLeft=\"auto\",document.getElementById(\"video-div\").style.visibility=\"hidden\"),q(!1),window.location.reload()},isCaller:je,isAnswered:be},children:t})},me=n(171),fe=n.n(me);function Oe(e){var t=Object(f.useContext)(ue),n=t.answerCall,a=(t.leaveCall,t.call),c=(t.initializeVideo,t.callUser,t.declineCall);t.isCaller,t.isAnswered;function r(){return(r=Object(b.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document.getElementById(\"chat-body\").style.marginRight=\"auto\",document.getElementById(\"chat-body\").style.marginLeft=\"10px\",document.getElementById(\"video-div\").style.visibility=\"visible\",n();case 4:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}return Object(o.jsxs)(\"div\",{className:\"respond\",children:[Object(o.jsx)(v.a,{src:\"/gridFs/getPartnerProfile\",id:\"caller\"}),Object(o.jsx)(\"div\",{className:\"description\",children:Object(o.jsxs)(\"h3\",{children:[a.name,\" wants to call you\"]})}),Object(o.jsxs)(\"div\",{className:\"choice\",children:[Object(o.jsx)(w.a,{id:\"choice-btn\",onClick:function(){return r.apply(this,arguments)},children:Object(o.jsx)(fe.a,{})}),Object(o.jsx)(w.a,{id:\"choice-canc\",onClick:c,children:Object(o.jsx)(k.a,{})})]})]})}n(319);var pe=n(172),ge=n.n(pe),ve=n(175),xe=n.n(ve),ye=n(173),we=n.n(ye),Ie=n(174),ke=n.n(Ie);function Ne(){var e=Object(f.useContext)(ue),t=(e.name,e.callAccepted),n=e.myVideo,a=e.userVideo,c=e.callEnded,r=(e.stream,e.callUser,e.leaveCall),i=(e.initializeVideo,e.muteAudio),s=e.muteVideo,l=e.declineCall,d=e.isAnswered,u=Object(f.useState)(!1),j=Object(m.a)(u,2),b=j[0],h=j[1],O=Object(f.useState)(!0),p=Object(m.a)(O,2),g=p[0],v=p[1];return console.log(d),Object(o.jsxs)(\"div\",{className:\"video-div\",id:\"video-div\",children:[Object(o.jsx)(\"div\",{className:\"vid-call\",children:Object(o.jsx)(\"video\",{playsInline:!0,muted:!0,ref:n,autoPlay:!0})}),t&&!c&&Object(o.jsx)(\"div\",{className:\"vid-call1\",children:Object(o.jsx)(\"video\",{playsInline:!0,muted:!0,ref:a,autoPlay:!0})}),Object(o.jsxs)(\"div\",{className:\"option-div\",children:[Object(o.jsx)(w.a,{onClick:function(){v(!g),s()},className:\"option-btn\",id:\"display\",children:g?Object(o.jsx)(ne.a,{}):Object(o.jsx)(ge.a,{})}),Object(o.jsx)(w.a,{onClick:d?r:l,className:\"option-btn\",id:\"end\",children:Object(o.jsx)(we.a,{fontSize:\"inherit\"})}),Object(o.jsx)(w.a,{onClick:function(){h(!b),i()},className:\"option-btn\",children:b?Object(o.jsx)(ke.a,{}):Object(o.jsx)(xe.a,{})})]})]})}function Ce(e){var t=Object(f.useState)(),n=Object(m.a)(t,2),a=n[0],c=n[1],r=Object(f.useState)(),i=Object(m.a)(r,2),s=i[0],l=i[1],d=Object(f.useState)(),j=Object(m.a)(d,2),O=j[0],g=j[1],v=Object(f.useState)(\"\"),x=Object(m.a)(v,2),y=(x[0],x[1]),w=Object(f.useState)(),I=Object(m.a)(w,2),k=I[0],N=I[1],C=Object(f.useState)([]),S=Object(m.a)(C,2),B=S[0],E=S[1],D=Object(f.useState)([]),F=Object(m.a)(D,2),R=F[0],M=F[1],T=Object(f.useState)(!1),L=Object(m.a)(T,2),A=(L[0],L[1],Object(f.useState)()),_=Object(m.a)(A,2),q=_[0],W=(_[1],Object(f.useState)(!1)),U=Object(m.a)(W,2),z=U[0],Y=U[1],V=Object(f.useState)(-1),H=Object(m.a)(V,2),J=H[0],G=(H[1],Object(f.useState)(\"\")),Z=Object(m.a)(G,2),X=(Z[0],Z[1],Object(f.useContext)(ue)),$=X.joinRoom,Q=X.sendMsg,te=X.newMessage,ne=(X.callUser,X.call),ae=(X.me,X.callAccepted),ce=(X.onBoth,X.startCall);function se(){return(se=Object(b.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce();case 2:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}return Object(f.useEffect)((function(){var e=new AbortController;return p.a.get(\"/auth/isLoggedIn\").then((function(e){return e.data})).catch((function(e){return console.log(e)})).then((function(e){if(e.isLoggedIn){p.a.get(\"/chat/checkExist\").then(e.data).catch((function(e){return console.log(e)})).then((function(e){e.data?(document.getElementById(\"msgBox\").style.backgroundImage='url(\"/chat/getChatBackground\")',document.getElementById(\"msgBox\").style.backgroundSize=\"cover\"):document.getElementById(\"msgBox\").style.backgroundImage='url(\"https://wallpapercave.com/wp/wp4779329.png\")'}));var t=e.user._id,n=(e.user.partner,e.user.nickname);M(e.partnerInfo),null!==e.user.partner&&(Y(!0),p()({method:\"get\",url:\"/user/getRoomId\",headers:{\"Content-Type\":\"multipart/form-data\"}}).then((function(e){return e.data})).catch((function(e){return console.log(e)})).then((function(e){E(e.chatInfo.chats.reverse().map((function(e){return e})));var a=e.roomInfo._id;g(a),n&&$(a,t,n)}))),l(e.user._id),c(Object(h.a)({},e.user)),N(e.user.nickname)}})),function(){e.abort()}}),[]),Object(f.useEffect)((function(){E((function(e){return[].concat(Object(K.a)(e),[te])}))}),[te]),Object(f.useEffect)((function(){-1===J&&document.getElementById(\"msgBox\").scrollTo(0,document.getElementById(\"msgBox\").scrollHeight)}),[B]),Object(o.jsxs)(\"div\",{className:\"chat-div\",children:[Object(o.jsx)(P,{havePartner:z}),ne.isReceivingCall&&!ae&&Object(o.jsx)(Oe,{}),Object(o.jsx)(Ne,{}),Object(o.jsx)(\"div\",{className:\"chat-container\",children:Object(o.jsxs)(\"div\",{className:\"chat-body\",id:\"chat-body\",children:[Object(o.jsx)(re,{toggleBackHome:function(){window.open(\"/\",\"_self\")},partnerInfo:R,partnerStatus:q,toggleVideoCall:function(){return se.apply(this,arguments)}}),Object(o.jsx)(\"div\",{className:\"chat-messageBox-div\",id:\"msgBox\",children:Object(o.jsx)(\"div\",{className:\"chat-messageBox\",children:B&&a&&B.map((function(e,t){return Object(o.jsx)(ie,{textInfo:e,user:a},t)}))})}),Object(o.jsx)(ee,{handleSendMsg:function(e){var t=document.getElementById(\"chat\").value;e.preventDefault(),t.length>0&&O?(Q(t,s,k,O),y(\"\")):console.log(\"You cant send anything\"),document.getElementById(\"chat\").value=null}})]})})]})}var Se=n(176),Be=n.n(Se),Ee=(n(338),n(182)),De=n.n(Ee),Pe=n(181),Fe=n.n(Pe),Re=n(102),Me=n.n(Re),Te=n(178),Le=n.n(Te),Ae=n(177),_e=n.n(Ae);function qe(e){var t=e.handleChooseMovie,n=e.socket,a=Object(f.useState)([]),c=Object(m.a)(a,2),r=c[0],i=c[1],l=Object(f.useState)(!1),d=Object(m.a)(l,2),j=d[0],h=d[1];function O(){return(O=Object(b.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append(\"videoId\",t),e.next=4,p()({method:\"post\",url:\"/videoFs/deleteVideo\",data:a,headers:{\"Content-Type\":\"multipart/form-data\"}}).then((function(e){return e.data})).catch((function(e){return console.log(e)})).then((function(e){console.log(e),e&&(i((function(e){return e.filter((function(e){return e._id!==t}))})),n&&n.emit(\"deletedVideo\"))}));case 4:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}return Object(f.useEffect)((function(){p.a.get(\"/videoFs/getAllVideos\").then((function(e){return e.data})).catch((function(e){return console.log(e)})).then((function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);i(t)}))}),[]),Object(o.jsxs)(\"div\",{className:\"video-file\",id:\"video-file\",children:[Object(o.jsx)(\"div\",{className:\"video-scroll\",children:r.map((function(e){return Object(o.jsxs)(\"div\",{className:\"video-list-div\",children:[Object(o.jsx)(s.a,{variant:\"outlined\",onClick:function(){return t(e.filename)},id:\"list\",children:e.aliases},e._id),Object(o.jsx)(\"button\",{id:\"video-delete\",onClick:function(){return function(e){return O.apply(this,arguments)}(e._id)},children:\"x\"})]})}))}),Object(o.jsx)(w.a,{size:\"small\",id:\"drop-down\",onClick:function(){var e=!j;document.getElementById(\"video-file\").style.top=e?0:\"-68px\",h(!j)},children:j?Object(o.jsx)(_e.a,{}):Object(o.jsx)(Le.a,{})})]})}var We=n(179),Ue=n.n(We),ze=n(103),Ye=n.n(ze);function Ve(e){var t=Object(f.useState)(!1),n=Object(m.a)(t,2),a=n[0],c=n[1],r=Object(f.useState)(!1),i=Object(m.a)(r,2),l=i[0],d=i[1],j=Object(f.useRef)();function h(){return(h=Object(b.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),\"\"!==document.getElementById(\"video\").value){e.next=3;break}return e.abrupt(\"return\");case 3:return d(!0),n=new FormData(j.current),e.next=7,p()({method:\"post\",url:\"/videoFs/upload\",data:n,headers:{\"Content-Type\":\"multipart/form-data\"},onUploadProgress:function(e){var t=e.loaded/e.total*100;document.getElementById(\"uploadFileProgress\").style.width=t+\"%\",100===t&&window.location.reload()}});case 7:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}return Object(o.jsxs)(\"div\",{className:\"upload-file\",id:\"upload-file\",children:[Object(o.jsxs)(\"form\",{onSubmit:function(e){return h.apply(this,arguments)},ref:j,children:[Object(o.jsx)(w.a,{size:\"medium\",onClick:function(){return document.getElementById(\"video\").click()},style:{color:\"white\"},children:Object(o.jsx)(Ue.a,{})}),Object(o.jsx)(\"input\",{type:\"file\",name:\"video\",id:\"video\",hidden:!0,onChange:function(e){document.getElementById(\"file-name\").textContent=e.target.files[0].name}}),Object(o.jsx)(s.a,{variant:\"contained\",color:\"default\",type:\"submit\",children:\"Upload\"})]}),Object(o.jsx)(\"p\",{id:\"file-name\",style:{color:\"rgb(56, 245, 71)\"}}),l&&Object(o.jsx)(\"div\",{className:\"uploadProgress\",children:Object(o.jsx)(\"div\",{className:\"progressBar\",id:\"uploadFileProgress\"})}),Object(o.jsx)(w.a,{size:\"small\",id:\"openUploadDiv\",onClick:function(){var e=!a;document.getElementById(\"upload-file\").style.marginLeft=e?0:\"-380px\",c(!a)},children:a?Object(o.jsx)(Me.a,{}):Object(o.jsx)(Ye.a,{})})]})}var He,Je=n(185),Ge=n.n(Je),Ke=n(183),Ze=n.n(Ke),Xe=n(184),$e=n.n(Xe),Qe=n(187),et=n.n(Qe),tt=n(186),nt=n.n(tt),at=n(180),ct=n.n(at),rt=n(120);function it(){var e=Object(rt.b)(),t=Object(f.useState)(!1),n=Object(m.a)(t,2),a=n[0],c=n[1],r=Object(f.useState)(!1),i=Object(m.a)(r,2),l=i[0],d=i[1],j=Object(f.useState)(!1),h=Object(m.a)(j,2),O=h[0],g=h[1],v=Object(f.useState)(),x=Object(m.a)(v,2),y=x[0],I=x[1],k=Object(f.useState)(!0),N=Object(m.a)(k,2),C=N[0],S=N[1],B=Object(f.useState)(.5),E=Object(m.a)(B,2),D=E[0],P=E[1],F=Object(f.useState)(!1),R=Object(m.a)(F,2),M=R[0],T=R[1],L=Object(f.useState)(!1),A=Object(m.a)(L,2),_=A[0],q=A[1],W=Object(f.useState)(!1),U=Object(m.a)(W,2),z=U[0],Y=U[1],V=Object(f.useRef)(),H=Object(f.useRef)(\"\"),J=Object(f.useRef)(!1),G=Object(f.useRef)(!0);function K(){return(K=Object(b.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c(!0),n=\"/videoFs/choose/\"+t,He.emit(\"onlineUrl\",n);case 3:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}return Object(f.useEffect)(Object(b.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=new AbortController,He=X()(\"localhost:5000\"),!G.current){e.next=6;break}return e.next=5,p.a.get(\"/user/getRoomId\").then((function(e){return e.data})).catch((function(e){return console.log(e)})).then((function(e){He.emit(\"join\",e.roomInfo._id)}));case 5:G.current=!1;case 6:return He.on(\"changeState\",(function(e){d(e)})),He.on(\"refreshPage\",(function(e){window.location.reload()})),He.on(\"update\",(function(e){if(\"\"===H.current)return H.current=e.url,c(!0),J.current=!0,void S(!1);J.current&&e.time>V.current.getCurrentTime()&&V.current.getCurrentTime()<e.time-1&&V.current.seekTo(String(e.time),\"seconds\")})),He.on(\"updateProgress\",(function(e){V.current.seekTo(e,\"seconds\")})),He.on(\"onlineUrl\",(function(e){\"\"!==e?(c(!0),H.current=e,I(e),document.getElementById(\"url\").value=\"\"):document.getElementById(\"url\").value=\"\"})),e.abrupt(\"return\",(function(){t.abort()}));case 12:case\"end\":return e.stop()}}),e)}))),[]),Object(o.jsxs)(\"div\",{className:\"cinema-div\",children:[Object(o.jsx)(qe,{handleChooseMovie:function(e){return K.apply(this,arguments)},socket:He}),Object(o.jsx)(Ve,{}),Object(o.jsxs)(\"div\",{className:\"submit-url\",id:\"submitUrl\",children:[Object(o.jsxs)(\"form\",{onSubmit:function(e){e.preventDefault();var t=document.getElementById(\"url\").value;He.emit(\"onlineUrl\",t)},children:[Object(o.jsx)(\"input\",{type:\"text\",id:\"url\",placeholder:\"enter url\"}),Object(o.jsx)(s.a,{type:\"submit\",variant:\"outlined\",id:\"submit-url-btn\",children:\" submit\"})]}),Object(o.jsx)(w.a,{size:\"small\",id:\"handleUrlDiv\",onClick:function(){var e=!O;document.getElementById(\"submitUrl\").style.marginLeft=e?0:\"-380px\",g(!O)},children:O?Object(o.jsx)(Me.a,{}):Object(o.jsx)(Ye.a,{})})]}),Object(o.jsx)(s.a,{variant:\"outlined\",color:\"black\",href:\"/\",id:\"homeBtn\",children:Object(o.jsx)(ct.a,{})}),Object(o.jsx)(rt.a,{handle:e,children:Object(o.jsxs)(\"div\",{className:\"video-player\",id:\"video-player\",children:[C&&a&&Object(o.jsx)(\"div\",{className:\"no-video\",children:Object(o.jsx)(\"h1\",{children:\"Loading....\"})}),a?Object(o.jsx)(Be.a,{ref:V,playing:l,height:\"100%\",width:\"100%\",url:H.current,volume:D,onProgress:function(){He.emit(\"keepUpdate\",{time:V.current.getCurrentTime(),url:y});var e=document.getElementById(\"progress-point\"),t=V.current.getCurrentTime()/(V.current.getDuration()/100);e.style.left=t+\"%\"},onReady:function(){return S(!1)},onError:function(){return c(!1)}}):Object(o.jsx)(\"div\",{className:\"no-video\",children:Object(o.jsx)(\"h2\",{children:\"No Video\"})}),Object(o.jsxs)(\"div\",{style:{display:\"flex\"},className:\"progress-bar-div\",id:\"controls\",children:[Object(o.jsx)(w.a,{onClick:function(){He.emit(\"changeVideoState\",l)},id:\"control-btn\",style:{color:\"black\"},children:l?Object(o.jsx)(Fe.a,{}):Object(o.jsx)(De.a,{})}),Object(o.jsx)(w.a,{onClick:function(){!M?(P(0),document.getElementById(\"volume\").value=0):(P(.5),document.getElementById(\"volume\").value=50),T(!M)},id:\"control-vlm\",style:{color:\"black\"},children:M?Object(o.jsx)(Ze.a,{}):_?Object(o.jsx)($e.a,{}):Object(o.jsx)(Ge.a,{})}),Object(o.jsx)(\"input\",{type:\"range\",min:\"0\",max:\"100\",id:\"volume\",onChange:function(){var e=document.getElementById(\"volume\").value,t=parseFloat(e/100);T(0===t),q(e>50),P(t)}}),Object(o.jsx)(\"div\",{id:\"progress-bar\",className:\"progress-bar status\",onClick:a?function(e){var t=document.getElementById(\"progress-bar\"),n=e.nativeEvent.offsetX/t.offsetWidth*V.current.getDuration();He.emit(\"changeProgress\",n),d(!0)}:\"\",children:Object(o.jsx)(\"div\",{id:\"progress-point\",className:\"progress-point\"})}),Object(o.jsx)(w.a,{onClick:function(){var t=!z,n=document.getElementById(\"controls\");t?(e.enter(),n.style.bottom=\"-150px\",document.getElementById(\"progress-point\").style.background=\"white\",document.getElementById(\"control-btn\").style.color=\"white\",document.getElementById(\"control-vlm\").style.color=\"white\",document.getElementById(\"fullscreen-btn\").style.color=\"white\"):(e.exit(),n.style.bottom=\"-50px\",document.getElementById(\"progress-point\").style.background=\"black\",document.getElementById(\"control-btn\").style.color=\"black\",document.getElementById(\"control-vlm\").style.color=\"black\",document.getElementById(\"fullscreen-btn\").style.color=\"black\"),Y(!z)},id:\"fullscreen-btn\",style:{color:\"black\"},children:z?Object(o.jsx)(nt.a,{}):Object(o.jsx)(et.a,{})})]})]})})]})}n(339),n(340);var st=n(189),ot=n.n(st),lt=n(168),dt=n(188),ut=n(191),jt=n.n(ut),bt=n(190),ht=n.n(bt),mt=function(e){var t=e.selected;return Object(o.jsxs)(\"div\",{style:t?{left:\"4px\",top:\"4px\",position:\"absolute\",zIndex:\"1\"}:{display:\"none\"},children:[Object(o.jsx)(\"svg\",{style:{fill:\"white\",position:\"absolute\"},width:\"24px\",height:\"24px\",children:Object(o.jsx)(\"circle\",{cx:\"12.5\",cy:\"12.2\",r:\"8.292\"})}),Object(o.jsx)(\"svg\",{style:{fill:\"#06befa\",position:\"absolute\"},width:\"24px\",height:\"24px\",children:Object(o.jsx)(\"path\",{d:\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"})})]})},ft={transition:\"transform .135s cubic-bezier(0.0,0.0,0.2,1),opacity linear .15s\"},Ot={transform:\"translateZ(0px) scale3d(0.9, 0.9, 1)\",transition:\"transform .135s cubic-bezier(0.0,0.0,0.2,1),opacity linear .15s\"},pt={backgroundColor:\"#eee\",cursor:\"pointer\",overflow:\"hidden\",position:\"relative\"},gt=function(e){var t=e.index,n=e.photo,a=e.margin,c=e.direction,r=e.top,i=e.left,s=e.selected,l=e.handleChooseNotToDeleteFile,d=e.handleChooseToDeleteFile,u=Object(f.useState)(s),j=Object(m.a)(u,2),b=j[0],O=j[1],p=200-n.height-n.height,g=(100-30/n.width*100)/100,v=(100-30/n.height*100)/100;Ot.transform=\"translateZ(0px) scale3d(\".concat(g,\", \").concat(v,\", 1)\"),\"column\"===c&&(pt.position=\"absolute\",pt.left=i,pt.top=r);return Object(f.useEffect)((function(){O(s)}),[s]),Object(o.jsxs)(\"div\",{style:Object(h.a)({margin:a,height:p,width:n.width},pt),className:b?\"\":\"not-selected\",children:[Object(o.jsx)(mt,{selected:!!b}),Object(o.jsx)(\"img\",Object(h.a)(Object(h.a)({alt:n.title,style:b?Object(h.a)(Object(h.a)({},ft),Ot):Object(h.a)({},ft)},n),{},{onClick:function(e){O(!b),b?l(t):d(t)}})),Object(o.jsx)(\"style\",{children:\".not-selected:hover{outline:2px solid #06befa}\"})]})};function vt(e){var t=e.setPost,n=e.handlePost,a=e.userInfo,c=(e.setIsPosting,e.setIsEditing,e.isEditing),r=e.postData,i=(e.setPostData,Object(f.useState)(\"\")),l=Object(m.a)(i,2),d=l[0],j=l[1],h=Object(f.useState)([]),O=Object(m.a)(h,2),g=O[0],x=O[1],y=Object(f.useState)(),I=Object(m.a)(y,2),k=I[0],N=I[1],C=Object(f.useState)([]),S=Object(m.a)(C,2),B=S[0],E=S[1],D=Object(f.useState)([]),P=Object(m.a)(D,2),F=P[0],R=P[1],M=Object(f.useState)(!1),T=Object(m.a)(M,1)[0],L=Object(f.useRef)(),A=Object(f.useCallback)((function(e){var t=e.index,n=e.left,a=e.top,c=e.key,r=e.photo;return Object(o.jsx)(gt,{selected:!!T,margin:\"2px\",index:t,photo:r,left:n,top:a,handleChooseNotToDeleteFile:q,handleChooseToDeleteFile:_},c)}),[T,q,_]);function _(e){E((function(t){return[].concat(Object(K.a)(t),[e])}))}function q(e){E((function(t){return t.filter((function(t){return t!==e}))}))}function W(){return(W=Object(b.a)(u.a.mark((function e(){var t,n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object(K.a)(B).sort(),n=Object(K.a)(g),a=t.length-1;case 3:if(!(a>=0)){e.next=11;break}if(!n[t[a]].fileId){e.next=7;break}return e.next=7,R((function(e){return[].concat(Object(K.a)(e),[n[t[a]].fileId])}));case 7:n.splice(t[a],1);case 8:a--,e.next=3;break;case 11:x(n),E([]);case 13:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function U(){return(U=Object(b.a)(u.a.mark((function e(){var a,i,s,o,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(\"\"!==d){e.next=3;break}return alert(\"Please enter some text\"),e.abrupt(\"return\");case 3:if(a=new FormData(L.current),!c){e.next=14;break}for(a.set(\"postId\",r.post._id),a.set(\"text\",d),a.set(\"feeling\",k),i=0;i<F.length;i++)a.append(\"deletedFile[]\",F[i]);for(s=0;s<g.length;s++)g[s].file?a.append(\"fileInput[]\",g[s].file):a.append(\"fileInput[]\",g[s].fileId);return e.next=12,p()({method:\"post\",url:\"/post/editPost\",data:a,headers:{\"Content-Type\":\"multipart/form-data\"}}).then((function(e){return e.data})).catch((function(e){return console.log(e)})).then((function(e){e.result?(t((function(t){for(var n=[],a=0;a<t.length;a++)t[a]._id===e.result.docs._id?n.push(e.result.docs):n.push(t[a]);return n})),n()):alert(\"Failed to edit post\")})).catch((function(e){return console.log(e)}));case 12:e.next=19;break;case 14:for(o=new FormData(L.current),l=0;l<g.length;l++)o.append(\"fileInput[]\",g[l].file);return e.next=18,p()({method:\"post\",url:\"/post/createPost\",data:o}).then((function(e){return e.data})).catch((function(e){return console.log(e)})).then((function(e){e?(alert(\"Memory Created!\"),t((function(t){return[e].concat(Object(K.a)(t))}))):alert(\"Opps something went wrong\")})).catch((function(e){return console.log(e)}));case 18:n();case 19:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}return Object(f.useEffect)((function(){c&&(j(r.post.text),N(r.post.feeling),r.post.fileId&&x(r.post.fileId.map((function(e,t){return{src:r.url[t],width:1,height:1,fileId:e}}))))}),[]),Object(o.jsxs)(\"div\",{className:\"create-div\",children:[Object(o.jsxs)(\"div\",{className:\"create-title\",children:[Object(o.jsxs)(\"h3\",{children:[c?\"Edit\":\"Create\",\" Memory\"]}),Object(o.jsx)(w.a,{onClick:n,id:\"create-close-btn\",children:Object(o.jsx)(ot.a,{})})]}),Object(o.jsxs)(\"form\",{ref:L,children:[Object(o.jsxs)(\"div\",{className:\"create-feeling-div\",children:[Object(o.jsx)(\"div\",{className:\"create-profile-pic\",children:Object(o.jsx)(v.a,{src:\"/gridFs/getProfile\"})}),Object(o.jsx)(\"div\",{className:\"create-greeting\",children:Object(o.jsxs)(\"p\",{children:[\"Hi, \",a.nickname,\" how are you feeling today?\"]})}),Object(o.jsx)(\"div\",{className:\"create-select\",children:Object(o.jsxs)(lt.a,{value:k,onChange:function(e){return N(e.target.value)},id:\"create-feeling\",name:\"feeling\",children:[Object(o.jsx)(\"option\",{\"aria-label\":\"None\",value:\"\"}),Object(o.jsx)(\"option\",{value:\"happy\",children:\"Happy \\ud83d\\ude00 \"}),Object(o.jsx)(\"option\",{value:\"sad\",children:\"Sad \\u2639\\ufe0f\"}),Object(o.jsx)(\"option\",{value:\"surprise\",children:\"Surprised \\ud83d\\ude2e\"}),Object(o.jsx)(\"option\",{value:\"meh\",children:\"Meh \\ud83d\\ude15\"}),Object(o.jsx)(\"option\",{value:\"annoyed\",children:\"Annoyed \\ud83d\\ude44\"}),Object(o.jsx)(\"option\",{value:\"sleepy\",children:\"Sleepy \\ud83d\\ude34\"}),Object(o.jsx)(\"option\",{value:\"love\",children:\"Love \\ud83e\\udd70\"}),Object(o.jsx)(\"option\",{value:\"touched\",children:\"Touched \\ud83d\\ude2d\"}),Object(o.jsx)(\"option\",{value:\"shy\",children:\"Shy \\ud83d\\ude0c\"}),Object(o.jsx)(\"option\",{value:\"amazed\",children:\"Amazed \\ud83e\\udd29\"})]})})]}),Object(o.jsx)(\"div\",{className:\"create-textarea\",children:Object(o.jsx)(\"textarea\",{placeholder:\"What's on your mind?\",rows:\"10\",value:d,onChange:function(e){return j(e.target.value)},name:\"text\",id:\"text\"})}),Object(o.jsx)(\"div\",{className:\"create-gallery-div\",children:Object(o.jsx)(dt.a,{photos:g,renderImage:A,id:\"create-gallery\"})}),Object(o.jsxs)(\"div\",{className:\"create-btn-div\",children:[Object(o.jsx)(w.a,{id:\"create-btn\",onClick:function(){return document.getElementById(\"create-photo\").click()},children:Object(o.jsx)(ht.a,{})}),Object(o.jsx)(\"input\",{type:\"file\",hidden:!0,id:\"create-photo\",onChange:function(e){var t=e.target.files[0];if(t){/\\.(gif|jpe?g|tiff?|png|webp|bmp)$/i.test(t.name)?x((function(e){return[].concat(Object(K.a)(e),[{src:URL.createObjectURL(t),file:t,width:1,height:1}])})):alert(\"only upload image files.\")}}}),g.length>0&&Object(o.jsx)(w.a,{id:\"create-btn\",onClick:function(){return W.apply(this,arguments)},children:Object(o.jsx)(jt.a,{})})]}),Object(o.jsx)(\"div\",{className:\"create-post-div\",children:Object(o.jsx)(s.a,{variant:\"contained\",id:\"create-post-btn\",onClick:function(){return U.apply(this,arguments)},children:\"Post\"})})]})]})}n(341);var xt=n(192),yt=n.n(xt);function wt(e){var t,n=e.post,a=e.userId,c=e.setIsEditing,r=e.setPostData,i=e.setIsPosting,s=e.setPost,l=Object(f.useState)(!1),d=Object(m.a)(l,2),j=d[0],h=d[1],O=Object(f.useState)([]),g=Object(m.a)(O,2),x=g[0],y=g[1],I={\"01\":\"January\",\"02\":\"February\",\"03\":\"March\",\"04\":\"April\",\"05\":\"May\",\"06\":\"June\",\"07\":\"July\",\"08\":\"August\",\"09\":\"September\",10:\"October\",11:\"November\",12:\"December\"};function k(){return(k=Object(b.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=new FormData).append(\"postId\",n._id),n.fileId)for(a=0;a<n.fileId.length;a++)t.append(\"fileId[]\",n.fileId[a]);return e.next=5,p()({method:\"post\",url:\"/post/deletePost\",data:t,headers:{\"Content-Type\":\"multipart/form-data\"}}).then((function(e){return e.data})).catch((function(e){return console.log(e)})).then((function(e){e.status?(s((function(e){return e.filter((function(e){return e._id!==n._id}))})),alert(\"Memory deleted\")):alert(\"Opps something went wrong with the server!\")}));case 5:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}return Object(f.useEffect)(Object(b.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.fileId){e.next=5;break}return t=[],e.next=4,n.fileId.map((function(e){var n=\"/post/getPostImage/\"+e;t.push(n)}));case 4:y(t);case 5:case\"end\":return e.stop()}}),e)}))),[n]),Object(o.jsxs)(\"div\",{className:\"post-div\",children:[j&&Object(o.jsxs)(\"div\",{className:\"post-more-div\",children:[Object(o.jsx)(\"div\",{className:\"post-more-option edit\",onClick:function(){r({post:n,url:x}),c(!0),i(!0),h(!1)},children:\"Edit Memory\"}),Object(o.jsx)(\"div\",{className:\"post-more-option delete\",onClick:function(){return k.apply(this,arguments)},children:\"Delete Memory\"})]}),Object(o.jsx)(w.a,{id:\"post-more\",onClick:function(){return h(!j)},children:Object(o.jsx)(ce.a,{fontSize:\"medium\"})}),Object(o.jsxs)(\"div\",{className:\"post-header\",children:[a===n.userId?Object(o.jsx)(v.a,{src:\"/gridFs/getProfile\",id:\"post-avatar\"}):Object(o.jsx)(v.a,{src:\"/gridFs/getPartnerProfile\",id:\"post-avatar\"}),Object(o.jsxs)(\"div\",{className:\"post-desc\",children:[Object(o.jsxs)(\"div\",{className:\"post-feeling\",children:[Object(o.jsx)(\"h3\",{children:n.nickname}),n.feeling&&Object(o.jsxs)(\"h3\",{children:[\" \\xa0\\u2022 \\xa0is feeling \",n.feeling,\"\\xa0\",{happy:\"\\ud83d\\ude00\",sad:\"\\u2639\\ufe0f\",surprise:\"\\ud83d\\ude2e\",meh:\"\\ud83d\\ude15\",annoyed:\"\\ud83d\\ude44\",sleepy:\"\\ud83d\\ude34\",love:\"\\ud83e\\udd70\",touched:\"\\ud83d\\ude2d\",shy:\"\\ud83d\\ude0c\",amazed:\"\\ud83e\\udd29\"}[n.feeling]]})]}),Object(o.jsx)(\"div\",{className:\"post-time\",children:Object(o.jsx)(\"p\",{children:function(e){var t=new Date(parseInt(Date.parse(e),10)),n=String(t.getDate()).padStart(2,\"0\"),a=String(t.getMonth()+1).padStart(2,\"0\"),c=t.getFullYear();return n+\" \"+I[a]+\" \"+c}(n.timeOfCreation)})})]})]}),Object(o.jsx)(\"div\",{className:\"post-text\",children:n.text}),Object(o.jsx)(\"div\",{className:\"post-images\",children:n.fileId&&Object(o.jsx)(yt.a,{items:(t=n.fileId,t.map((function(e){return{original:\"/post/getPostImage/\"+e}}))),showFullscreenButton:!1,showPlayButton:!1,showThumbnails:!1,className:\"post-gallery\"})})]})}function It(){var e=Object(f.useState)(),t=Object(m.a)(e,2),n=t[0],a=t[1],c=Object(f.useState)(),r=Object(m.a)(c,2),i=(r[0],r[1]),l=Object(f.useState)(),d=Object(m.a)(l,2),u=d[0],j=d[1],b=Object(f.useState)(!1),h=Object(m.a)(b,2),O=h[0],g=h[1],v=Object(f.useState)(!1),x=Object(m.a)(v,2),y=x[0],w=x[1],I=Object(f.useState)([]),k=Object(m.a)(I,2),N=k[0],C=k[1],S=Object(f.useState)(!1),B=Object(m.a)(S,2),E=B[0],D=B[1];Object(f.useRef)();return Object(f.useEffect)((function(){p.a.get(\"/auth/isLoggedIn\").then((function(e){return e.data})).catch((function(e){return console.log(e)})).then((function(e){e.isLoggedIn&&(null!==e.user.partner&&D(!0),a(e.user),i(e.partnerInfo),p()({method:\"post\",url:\"/post/getPosts\"}).then((function(e){return e.data})).catch((function(e){return console.log(e)})).then((function(e){e.success&&C(e.posts)})))}))}),[]),Object(o.jsxs)(\"div\",{className:\"memoryBook\",children:[y&&Object(o.jsx)(vt,{setPostData:j,setPost:C,postData:u,handlePost:function(){w(!1),g(!1),j()},userInfo:n,setIsPosting:w,isEditing:O,setIsEditing:g}),Object(o.jsxs)(\"div\",{className:\"memoryBook-div\",id:\"memoryBook\",style:{opacity:y||O?\"0.3\":\"1\"},children:[Object(o.jsx)(P,{havePartner:E}),Object(o.jsx)(\"div\",{className:\"postDiv\",children:Object(o.jsxs)(\"div\",{className:\"post-option\",children:[Object(o.jsx)(\"h3\",{children:\"Post Some Memorable Moment Here\"}),Object(o.jsx)(s.a,{variant:\"contained\",id:\"memory-create-post\",onClick:function(){return w(!0)},children:\"Create Memory \\ud83e\\udd0d\"})]})}),N.map((function(e){return Object(o.jsx)(wt,{setPost:C,setPostData:j,setIsPosting:w,isEditing:O,setIsEditing:g,post:e,userId:n._id},e._id)}))]})]})}function kt(e){return Object(o.jsx)(\"main\",{children:Object(o.jsxs)(i.c,{children:[Object(o.jsx)(i.a,{path:\"/\",exact:!0,component:A}),Object(o.jsx)(i.a,{path:\"/login\",exact:!0,component:l}),Object(o.jsx)(i.a,{path:\"/userProfileForm\",exact:!0,component:G}),Object(o.jsx)(i.a,{path:\"/cinema\",exact:!0,component:it}),Object(o.jsx)(i.a,{path:\"/memoryBook\",exact:!0,component:It}),Object(o.jsx)(he,{children:Object(o.jsx)(i.a,{path:\"/chatRoom\",exact:!0,component:Ce})})]})})}var Nt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,403)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))};c.a.render(Object(o.jsx)(r.a,{children:Object(o.jsx)(kt,{})}),document.getElementById(\"root\")),Nt()}},[[355,1,2]]]);","name":"static/js/main.81d7e13c.chunk.js","map":{"version":3,"sources":["static/js/main.81d7e13c.chunk.js"],"names":["this","push","220","module","exports","__webpack_require__","244","245","246","247","249","281","282","283","284","308","310","319","338","339","340","341","355","__webpack_exports__","r","react_dom","react_dom_default","n","react_router_dom","react_router","Button","jsx_runtime","Login","Object","className","children","variant","onClick","window","location","href","id","src","regenerator","regenerator_default","defineProperty","asyncToGenerator","objectSpread2","slicedToArray","react","axios","axios_default","makeStyles","Avatar","Check","Check_default","IconButton","Clear","Clear_default","RequestInfo","props","reqInfo","setHavePartner","setRequestList","url","senderId","_declinePartner","a","mark","_callee","event","formdata","wrap","_context","prev","next","preventDefault","FormData","append","method","data","header","Content-Type","then","res","catch","err","console","log","filter","info","alert","stop","apply","arguments","senderNickname","headers","result","_x","PartnerReq","requestList","map","PeopleAlt","PeopleAlt_default","Photo","Photo_default","Navbar","handleSendReq","formRef","havePartner","isHome","_useState","_useState2","viewList","setViewList","_handleChangeBackground","target","files","reload","open","style","color","document","getElementById","click","type","hidden","onChange","name","onSubmit","ref","placeholder","value","Add","Add_default","useUtils_cfb96ac9","DatePicker","index_esm","theme","formControl","minWidth","large","width","spacing","height","Home","_jsx2","userInfo","setUserInfo","_useState3","_useState4","partnerInfo","setPartnerInfo","_useState5","_useState6","_useState7","_useState8","_useState9","_useState10","_useState11","_useState12","_useState13","_useState14","dayWidget","setDayWidget","_useState15","_useState16","specialWidget","setSpecialWidget","_useState17","_useState18","bdayWidget","setBdayWidget","_useState19","_useState20","dateOfRelation","setDateOfRelation","_useState21","_useState22","isSetting","setIsSetting","_useState23","Date","_useState24","date","setDate","_useState25","_useState26","totalDay","setTotalDay","_useState27","_useState28","userBday","setUserBday","_useState29","_useState30","partnerBday","setPartnerBday","_useState31","_useState32","yourCountDown","setYourCountDown","_useState33","_useState34","partnerCountDown","setPartnerCountDown","_useState35","_useState36","upComingEvent","setUpComingEvent","_useState37","_useState38","upComingDay","setUpComingDay","_useState39","_useState40","backgroundUrl","setBackgroundUrl","_useState41","_useState42","acceptRef","dateRef","monthMap","01","02","03","04","05","06","07","08","09","10","11","12","formatDate","today","parseInt","parse","dd","String","getDate","padStart","mm","getMonth","getFullYear","formData","current","isSent","status","onHoverAddWidget","opacity","offHoverAddWidget","handleCreateWidget","_handleCreateWidget","_formdata","_formdata2","display","_handleUpdateDate","_callee2","_context2","onHoverWidget","visibility","offHoverWidget","handleDeleteWidget","_x3","_handleDeleteWidget","_callee3","_context3","ac","AbortController","get","isLoggedIn","undefined","user","nickname","anniverse","dateOfRelationship","_date","specialEvent","widget","i","length","original","difference","getTime","partner","dateOfBirth","you","_current","date1","date2","setFullYear","temp1","temp2","Math","abs","currentDate","currentYear","closest","temp","round","requests","list","abort","handleLogout","backgroundImage","onMouseOut","onMouseOver","fontSize","_x2","utils","margin","label","format","KeyboardButtonProps","aria-label","borderBottom","TextField","InputLabel","FormControl","Select","MenuItem","AddAPhoto","AddAPhoto_default","genders","UserProfileForm_useStyles","marginTop","UserProfileForm","setNickname","bio","setBio","croppedUrl","setCroppedUrl","uploaded","setUploaded","dob","setDob","gender","setGender","setPartner","setDateOfRelationship","classes","reader","FileReader","onload","setAttribute","readAsDataURL","_handleSubmit","file","e","labelId","option","marginLeft","toConsumableArray","build","build_default","Send","Send_default","InputBox","handleSendMsg","Videocam","Videocam_default","MoreHoriz","MoreHoriz_default","ChatNav","toggleBackHome","partnerStatus","toggleVideoCall","callAccepted","readyDisplay","setReadyDisplay","isOnline","setIsOnline","openMore","setOpenMore","_toggleChangeBackground","_id","ChatBubble","textInfo","userId","text","SocketContext_socket","SocketContext_name","simple_peer","simple_peer_default","SocketContext","SocketContext_isCaller","SocketContext_isAnswered","SocketContext_ContextProvider","_ref","setCallAccepted","callEnded","setCallEnded","stream","setStream","call","setCall","setUserId","roomId","setRoomId","newMessage","setNewMessage","isCalling","setIsCalling","noCall","setNoCall","users","myVideo","userVideo","connectionRef","on","chat","callUser","marginRight","_ref3","_ref2","from","callerName","signal","isReceivingCall","leaveCall","audio","video","answerCall","_ref4","local","peer","navigator","mediaDevices","getUserMedia","currentStream","srcObject","initiator","trickle","emit","to","_ref5","abrupt","signalData","destroy","Provider","sendMsg","msg","joinRoom","startCall","muteAudio","getAudioTracks","enabled","muteVideo","getVideoTracks","declineCall","isCaller","isAnswered","Done","Done_default","VideoRespond","_useContext","initializeVideo","_answer","VideocamOff","VideocamOff_default","Mic","Mic_default","CallEnd","CallEnd_default","MicOff","MicOff_default","VideoCall","isMuted","setIsMuted","isDisplayed","setIsDisplayed","playsInline","muted","autoPlay","ChatRoom","setText","userNickname","setUserNickname","messages","setMessages","scrollDir","me","onBoth","_toggleVideoCall","backgroundSize","_userId","chatInfo","chats","reverse","roomInfo","prevData","concat","scrollTo","scrollHeight","index","react_player_lib","react_player_lib_default","PlayArrow","PlayArrow_default","Pause","Pause_default","ArrowLeft","ArrowLeft_default","ArrowDropDown","ArrowDropDown_default","ArrowDropUp","ArrowDropUp_default","VideoList","handleChooseMovie","socket","setFiles","dropdown","setDropdown","_handleDeleteVideo","videoId","filename","aliases","handleDeleteVideo","size","state","top","CloudUpload","CloudUpload_default","ArrowRight","ArrowRight_default","VideoUploadDiv","openUpload","setOpenUpload","uploadProgress","setUploadProgress","_handleUploadVideo","onUploadProgress","progressEvent","progress","loaded","total","textContent","Cinema_socket","VolumeMute","VolumeMute_default","VolumeOff","VolumeOff_default","VolumeUp","VolumeUp_default","Fullscreen","Fullscreen_default","FullscreenExit","FullscreenExit_default","icons_Home","Home_default","index_modern","Cinema","handle","ready","setReady","play","setPlay","openUrl","setOpenUrl","setUrl","buffering","setBuffering","volume","setVolume","isLoud","setIsLoud","isFullScreen","setIsFullScreen","videoRef","urlRef","readyToPlay","initialRun","_handleChooseMovie","choosenUrl","time","getCurrentTime","seekTo","pointed","playing","onProgress","point","getDuration","left","onReady","onError","min","max","actualVolume","parseFloat","progressBarWidth","nativeEvent","offsetX","offsetWidth","controls","enter","bottom","background","exit","Close","Close_default","NativeSelect","react_photo_gallery_esm","Delete","Delete_default","AddPhotoAlternate","AddPhotoAlternate_default","SelectedImage_Checkmark","selected","position","zIndex","fill","cx","cy","d","imgStyle","transition","selectedImgStyle","transform","cont","backgroundColor","cursor","overflow","components_SelectedImage","photo","direction","handleChooseNotToDeleteFile","handleChooseToDeleteFile","isSelected","setIsSelected","actualHeight","sx","sy","alt","title","CreatePost","setPost","handlePost","isEditing","setIsPosting","setIsEditing","postData","setPostData","uploadedFiles","setUploadedFiles","feeling","setFeeling","willBeDeletedFiles","setWillBeDeletedFiles","deletedExistingFiles","setDeletedExistingFiles","selectAll","imageRenderer","key","val","_handleDeleteChosenFiles","tempDeletedFiles","tempUploadedFiles","sort","fileId","splice","_togglePost","j","_i2","set","post","_i","docs","rows","photos","renderImage","test","URL","createObjectURL","image_gallery","image_gallery_default","MemoryPost","_deletePost","posts","happy","sad","surprise","meh","annoyed","sleepy","love","touched","shy","amazed","yyyy","timeOfCreation","items","showFullscreenButton","showPlayButton","showThumbnails","MemoryBook","isPosting","setPosts","success","App","path","exact","component","src_reportWebVitals","onPerfEntry","Function","bind","getCLS","getFID","getFCP","getLCP","getTTFB","render"],"mappings":"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"},"input":"(this[\"webpackJsonpclient\"] = this[\"webpackJsonpclient\"] || []).push([[0],{\n\n/***/ 220:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 244:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 245:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 246:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 247:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 249:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 281:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 282:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 283:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 284:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 308:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 310:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 319:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 338:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 339:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 340:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 341:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 355:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(18);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js\nvar react_router_dom = __webpack_require__(116);\n\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js\nvar react_router = __webpack_require__(19);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/core/esm/Button/Button.js\nvar Button = __webpack_require__(384);\n\n// EXTERNAL MODULE: ./src/css/login.css\nvar login = __webpack_require__(220);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(1);\n\n// CONCATENATED MODULE: ./src/components/Login.js\nfunction Login(){function handleGoogleClick(){window.location.href=\"/auth/google\";}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"login-page-div\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"login-page\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"title\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Welcome to Couplove!\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Button[\"a\" /* default */],{variant:\"contained\",onClick:handleGoogleClick,id:\"home-login-btn\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:\"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg\",className:\"g-logo\"}),\"\\xA0\\xA0Login With Google\"]})]})});}\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(8);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js\nvar defineProperty = __webpack_require__(82);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(11);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(43);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(6);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\n\n// EXTERNAL MODULE: ../node_modules/axios/index.js\nvar axios = __webpack_require__(9);\nvar axios_default = /*#__PURE__*/__webpack_require__.n(axios);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/core/esm/styles/makeStyles.js\nvar makeStyles = __webpack_require__(389);\n\n// EXTERNAL MODULE: ./src/css/activity.css\nvar activity = __webpack_require__(244);\n\n// CONCATENATED MODULE: ./src/components/ActivityPane.js\nfunction ActivityPane(props){var title=props.title,desc=props.desc,link=props.link;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"activity-panel\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"activity-title\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:title})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"activity-desc\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h4\",{children:desc})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{variant:\"outlined\",id:\"activity-btn\",onClick:function onClick(){window.open(link,'_self');},children:\"Enter\"})]});}\n// EXTERNAL MODULE: ./src/css/navbar.css\nvar navbar = __webpack_require__(245);\n\n// EXTERNAL MODULE: ./src/css/requestList.css\nvar css_requestList = __webpack_require__(246);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/core/esm/Avatar/Avatar.js + 1 modules\nvar Avatar = __webpack_require__(396);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/icons/Check.js\nvar Check = __webpack_require__(166);\nvar Check_default = /*#__PURE__*/__webpack_require__.n(Check);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/core/esm/IconButton/IconButton.js\nvar IconButton = __webpack_require__(388);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/icons/Clear.js\nvar Clear = __webpack_require__(55);\nvar Clear_default = /*#__PURE__*/__webpack_require__.n(Clear);\n\n// CONCATENATED MODULE: ./src/components/RequestInfo.js\nfunction RequestInfo(props){var reqInfo=props.reqInfo,setHavePartner=props.setHavePartner,setRequestList=props.setRequestList;var url=\"/gridFs/getOtherProfile/\"+reqInfo.senderId;function acceptPartner(event){event.preventDefault();var formdata=new FormData();formdata.append('senderId',reqInfo.senderId);axios_default()({method:'post',url:'/user/acceptRequest',data:formdata,headers:{'Content-Type':'multipart/form-data'}}).then(function(res){return res.data;}).catch(function(err){return console.log(err);}).then(function(res){if(res.result){setRequestList(function(prev){return prev.filter(function(info){return info.senderId!==reqInfo.senderId;});});setHavePartner(true);}});}function declinePartner(_x){return _declinePartner.apply(this,arguments);}function _declinePartner(){_declinePartner=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(event){var formdata;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();formdata=new FormData();formdata.append('senderId',reqInfo.senderId);_context.next=5;return axios_default()({method:'post',url:'/user/declineUser',data:formdata,header:{'Content-Type':'multipart/form-data'}}).then(function(res){return res.data;}).catch(function(err){return console.log(err);}).then(function(res){if(res){setRequestList(function(prev){return prev.filter(function(info){return info.senderId!==reqInfo.senderId;});});}else{alert(\"Opps something wrong with the server\");}});case 5:case\"end\":return _context.stop();}}},_callee);}));return _declinePartner.apply(this,arguments);}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"info-div\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"info-sender-profile-div\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Avatar[\"a\" /* default */],{id:\"info-sender-avatar\",src:url})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"info-sender-desc\",children:[reqInfo.senderNickname,\" wants to be your partner\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{id:\"info-req-option\",onClick:acceptPartner,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Check_default.a,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{id:\"info-req-option\",onClick:declinePartner,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Clear_default.a,{})})]})]});}\n// CONCATENATED MODULE: ./src/components/PartnerReq.js\nfunction PartnerReq(props){var requestList=props.requestList,setHavePartner=props.setHavePartner,setRequestList=props.setRequestList;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"req-list-div\",children:requestList.map(function(info){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RequestInfo,{setRequestList:setRequestList,reqInfo:info,setHavePartner:setHavePartner});})});}\n// EXTERNAL MODULE: ../node_modules/@material-ui/icons/PeopleAlt.js\nvar PeopleAlt = __webpack_require__(167);\nvar PeopleAlt_default = /*#__PURE__*/__webpack_require__.n(PeopleAlt);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/icons/Photo.js\nvar Photo = __webpack_require__(96);\nvar Photo_default = /*#__PURE__*/__webpack_require__.n(Photo);\n\n// CONCATENATED MODULE: ./src/components/Navbar.js\nfunction Navbar(props){var handleSendReq=props.handleSendReq,formRef=props.formRef,havePartner=props.havePartner,requestList=props.requestList,setHavePartner=props.setHavePartner,setRequestList=props.setRequestList,isHome=props.isHome;var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),viewList=_useState2[0],setViewList=_useState2[1];function handleChangeBackground(_x){return _handleChangeBackground.apply(this,arguments);}function _handleChangeBackground(){_handleChangeBackground=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(event){var formdata;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios_default()({method:'post',url:'/home/checkExist'});case 2:formdata=new FormData();formdata.append('file',event.target.files[0]);_context.next=6;return axios_default()({method:'post',url:'/home/upload',data:formdata,headers:{'Content-Type':'multipart/formdata'}}).then(function(res){return res.data;}).catch(function(err){return console.log(err);}).then(function(res){window.location.reload();});case 6:case\"end\":return _context.stop();}}},_callee);}));return _handleChangeBackground.apply(this,arguments);}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"nav-div\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"nav-title\",onClick:function onClick(){return window.open('/','_self');},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"Couplove\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"nav-activity-div\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"nav-activity logout\",onClick:function onClick(){return window.location.href=\"/auth/logout\";},children:\"Logout\"}),isHome&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{style:{color:\"white\"},onClick:function onClick(){return document.getElementById('background-file').click();},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Photo_default.a,{})}),isHome&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"file\",hidden:true,id:\"background-file\",onChange:handleChangeBackground,name:\"file\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"nav-activity profile\",onClick:function onClick(){return window.location.href=\"/userProfileForm\";},children:\"Profile\"}),havePartner&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"nav-activity chat\",onClick:function onClick(){return window.open('/chatRoom','_self');},children:\"Chat Room\"}),havePartner&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"nav-activity cinema\",onClick:function onClick(){return window.open('/cinema','_self');},children:\"Cinema\"}),havePartner&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"nav-activity memory\",onClick:function onClick(){return window.open('/memoryBook','_self');},children:\"Memory Book\"}),!havePartner&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"nav-sendRequest\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:handleSendReq,ref:formRef,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",id:\"reqId\",name:\"reqId\",placeholder:\"Partner ID\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"submit\",value:\"+\",className:\"nav-submit\"})]})}),!havePartner&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"nav-request\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{style:{color:\"whitesmoke\"},onClick:function onClick(){return setViewList(!viewList);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(PeopleAlt_default.a,{})}),viewList&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(PartnerReq,{requestList:requestList,setHavePartner:setHavePartner,setRequestList:setRequestList})]})]})]});}\n// EXTERNAL MODULE: ./src/css/home.css\nvar home = __webpack_require__(247);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/icons/Add.js\nvar Add = __webpack_require__(104);\nvar Add_default = /*#__PURE__*/__webpack_require__.n(Add);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/pickers/esm/useUtils-cfb96ac9.js\nvar useUtils_cfb96ac9 = __webpack_require__(23);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/pickers/esm/DatePicker.js + 26 modules\nvar DatePicker = __webpack_require__(393);\n\n// EXTERNAL MODULE: ../node_modules/@date-io/date-fns/build/index.esm.js + 69 modules\nvar index_esm = __webpack_require__(84);\n\n// CONCATENATED MODULE: ./src/components/Home.js\nvar useStyles=Object(makeStyles[\"a\" /* default */])(function(theme){return{formControl:{minWidth:\"100%\"},large:{width:theme.spacing(17),height:theme.spacing(17)}};});function Home(){var _jsx2;var _useState=Object(react[\"useState\"])(),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),userInfo=_useState2[0],setUserInfo=_useState2[1];var _useState3=Object(react[\"useState\"])(),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),partnerInfo=_useState4[0],setPartnerInfo=_useState4[1];var _useState5=Object(react[\"useState\"])(false),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),havePartner=_useState6[0],setHavePartner=_useState6[1];var _useState7=Object(react[\"useState\"])(),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),roomId=_useState8[0],setRoomId=_useState8[1];var _useState9=Object(react[\"useState\"])(),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),reqId=_useState10[0],setReqId=_useState10[1];var _useState11=Object(react[\"useState\"])([]),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),requestList=_useState12[0],setRequestList=_useState12[1];var _useState13=Object(react[\"useState\"])(false),_useState14=Object(slicedToArray[\"a\" /* default */])(_useState13,2),dayWidget=_useState14[0],setDayWidget=_useState14[1];var _useState15=Object(react[\"useState\"])(false),_useState16=Object(slicedToArray[\"a\" /* default */])(_useState15,2),specialWidget=_useState16[0],setSpecialWidget=_useState16[1];var _useState17=Object(react[\"useState\"])(false),_useState18=Object(slicedToArray[\"a\" /* default */])(_useState17,2),bdayWidget=_useState18[0],setBdayWidget=_useState18[1];var _useState19=Object(react[\"useState\"])(false),_useState20=Object(slicedToArray[\"a\" /* default */])(_useState19,2),dateOfRelation=_useState20[0],setDateOfRelation=_useState20[1];var _useState21=Object(react[\"useState\"])(false),_useState22=Object(slicedToArray[\"a\" /* default */])(_useState21,2),isSetting=_useState22[0],setIsSetting=_useState22[1];var _useState23=Object(react[\"useState\"])(new Date()),_useState24=Object(slicedToArray[\"a\" /* default */])(_useState23,2),date=_useState24[0],setDate=_useState24[1];var _useState25=Object(react[\"useState\"])(),_useState26=Object(slicedToArray[\"a\" /* default */])(_useState25,2),totalDay=_useState26[0],setTotalDay=_useState26[1];var _useState27=Object(react[\"useState\"])(),_useState28=Object(slicedToArray[\"a\" /* default */])(_useState27,2),userBday=_useState28[0],setUserBday=_useState28[1];var _useState29=Object(react[\"useState\"])(),_useState30=Object(slicedToArray[\"a\" /* default */])(_useState29,2),partnerBday=_useState30[0],setPartnerBday=_useState30[1];var _useState31=Object(react[\"useState\"])(),_useState32=Object(slicedToArray[\"a\" /* default */])(_useState31,2),yourCountDown=_useState32[0],setYourCountDown=_useState32[1];var _useState33=Object(react[\"useState\"])(),_useState34=Object(slicedToArray[\"a\" /* default */])(_useState33,2),partnerCountDown=_useState34[0],setPartnerCountDown=_useState34[1];var _useState35=Object(react[\"useState\"])(),_useState36=Object(slicedToArray[\"a\" /* default */])(_useState35,2),upComingEvent=_useState36[0],setUpComingEvent=_useState36[1];var _useState37=Object(react[\"useState\"])(),_useState38=Object(slicedToArray[\"a\" /* default */])(_useState37,2),upComingDay=_useState38[0],setUpComingDay=_useState38[1];var _useState39=Object(react[\"useState\"])(''),_useState40=Object(slicedToArray[\"a\" /* default */])(_useState39,2),backgroundUrl=_useState40[0],setBackgroundUrl=_useState40[1];var _useState41=Object(react[\"useState\"])(true),_useState42=Object(slicedToArray[\"a\" /* default */])(_useState41,2),isHome=_useState42[0],setIsHome=_useState42[1];var formRef=Object(react[\"useRef\"])();var acceptRef=Object(react[\"useRef\"])();var dateRef=Object(react[\"useRef\"])();var monthMap={\"01\":\"January\",\"02\":\"February\",\"03\":\"March\",\"04\":\"April\",\"05\":\"May\",\"06\":\"June\",\"07\":\"July\",\"08\":\"August\",\"09\":\"September\",\"10\":\"October\",\"11\":\"November\",\"12\":\"December\"};Object(react[\"useEffect\"])(function(){var ac=new AbortController();axios_default.a.get('/auth/isLoggedIn').then(function(res){return res.data;}).catch(function(err){return console.log(err);}).then(function(res){if(res.isLoggedIn===false){window.open('/login','_self');}else{if(res.user.nickname===undefined){window.open('/userProfileForm','_self');}else{axios_default.a.get('/home/getBackground').then(function(res){return res.data;}).catch(function(err){return console.log(err);}).then(function(res){if(!res){setBackgroundUrl('https://s3-us-west-2.amazonaws.com/s.cdpn.io/751678/my-illustration-background.png');document.getElementById('foreground').style.visibility=\"visible\";}else{setBackgroundUrl('/home/getBackground');document.getElementById('foreground').style.visibility=\"hidden\";}});var anniverse=new Date(res.user.dateOfRelationship);var month=anniverse.getMonth()+1;var day=anniverse.getDate();var _date=\"0\"+month+\"/\"+day;var specialEvent=[{date:\"02/14\",event:\"Valentines Day\"},{date:\"05/20\",event:\"520 Day\"},{date:\"12/25\",event:\"Christmas Day\"},{date:\"12/31\",event:\"New Year Eve\"},{date:_date,event:\"Anniversary Day\"}];setPartnerInfo(res.partnerInfo);setUserInfo(res.user);if(res.user.dateOfRelationship!==null){setDateOfRelation(true);setDate(res.user.dateOfRelationship);if(res.widget){for(var i=0;i<res.widget.widget.length;i++){if(res.widget.widget[i].type===\"day\"){setDayWidget(true);var current=new Date();var original=new Date(res.user.dateOfRelationship);var difference=current.getTime()-original.getTime();var _day=difference/(1000*3600*24);setTotalDay(parseInt(_day)+1);}else if(res.widget.widget[i].type===\"bday\"){var partner=formatDate(res.partnerInfo.dateOfBirth);var you=formatDate(res.user.dateOfBirth);setPartnerBday(partner);setUserBday(you);var _current=new Date();var date1=new Date(res.partnerInfo.dateOfBirth);var date2=new Date(res.user.dateOfBirth);date1.setFullYear(_current.getFullYear());date2.setFullYear(_current.getFullYear());if(_current>date1){date1.setFullYear(_current.getFullYear()+1);}if(_current>date2){date2.setFullYear(_current.getFullYear()+1);}var temp1=parseInt((date1.getTime()-_current.getTime())/(1000*3600*24));var temp2=parseInt((date2.getTime()-_current.getTime())/(1000*3600*24));if(temp1===0){setPartnerCountDown(\"Today is your partner's Birthday!\");}else{setPartnerCountDown(Math.abs(temp1));}if(temp2===0){setYourCountDown(\"Today is your Birthday!\");}else{setYourCountDown(Math.abs(temp2));}setBdayWidget(true);}else if(res.widget.widget[i].type===\"special\"){(function(){setSpecialWidget(true);var currentDate=new Date();var currentYear=currentDate.getFullYear();var closest=99999999999;specialEvent.map(function(date){var temp=new Date(currentYear+\"/\"+date.date);if(currentDate>temp){temp.setFullYear(currentDate+1);}var result=Math.abs(parseInt(currentDate.getTime()-temp.getTime())/(1000*3600*24));if(result<closest){closest=result+1;setUpComingEvent(date.event);}});if(Math.round(closest)===0){setUpComingDay(\"Today is \"+_date.event+\" !\");}else{setUpComingDay(Math.round(closest));}})();}}}}axios_default()({method:'get',url:'/user/getRequest',headers:{'Content-Type':'multipart/form-data'}}).then(function(res){return res.data;}).catch(function(err){return console.log(err);}).then(function(res){var temp=[];res.requests.map(function(list){temp.push(Object(objectSpread2[\"a\" /* default */])({},list));});setRequestList(temp);});if(res.user.partner!==null){setHavePartner(true);}}}});return function cancel(){ac.abort();};},[dayWidget,specialWidget,bdayWidget]);function formatDate(date){var today=new Date(parseInt(Date.parse(date),10));var dd=String(today.getDate()).padStart(2,'0');var mm=String(today.getMonth()+1).padStart(2,'0');//January is 0!\nvar yyyy=today.getFullYear();// return mm + '/' + dd + '/' + yyyy;\nreturn dd+\" \"+monthMap[mm];}function handleLogout(){window.location.href=\"/auth/logout\";}function handleSendReq(event){event.preventDefault();var formData=new FormData(formRef.current);axios_default()({method:'post',url:'/user/sendRequest',data:formData,headers:{'Content-Type':'multipart/form-data'}}).then(function(res){return res.data;}).catch(function(err){return console.log(err);}).then(function(res){if(res.isSent){alert(\"sent!\");}else{alert(res.status);console.log(res);}});document.getElementById('reqId').value=\"\";}requestList.map(function(list){console.log(list);});function onHoverAddWidget(type){if(type===\"special\"){document.getElementById('hover-special').style.opacity=\"1\";}else if(type===\"day\"){document.getElementById('hover-day').style.opacity=\"1\";}else if(type===\"bday\"){document.getElementById('hover-bday').style.opacity=\"1\";}}function offHoverAddWidget(type){if(type===\"special\"){document.getElementById('hover-special').style.opacity=\"0\";}else if(type===\"day\"){document.getElementById('hover-day').style.opacity=\"0\";}else if(type===\"bday\"){document.getElementById('hover-bday').style.opacity=\"0\";}}function handleCreateWidget(_x){return _handleCreateWidget.apply(this,arguments);}function _handleCreateWidget(){_handleCreateWidget=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(type){var formdata,_formdata,_formdata2;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(type===\"day\")){_context.next=12;break;}if(!dateOfRelation){_context.next=8;break;}formdata=new FormData();formdata.append('type',type);_context.next=6;return axios_default()({method:'post',url:'/widget/createWidget',data:formdata,headers:{'Content-Type':'multipart/form-data'}}).then(function(res){return res.data;}).catch(function(err){return console.log(err);}).then(function(res){setDayWidget(true);});case 6:_context.next=10;break;case 8:document.getElementById(\"noDayWidget\").style.display=\"none\";setIsSetting(true);case 10:_context.next=24;break;case 12:if(!(type===\"bday\")){_context.next=19;break;}_formdata=new FormData();_formdata.append('type',\"bday\");_context.next=17;return axios_default()({method:'post',url:'/widget/createWidget',data:_formdata,headers:{'Content-Type':'multipart/form-data'}}).then(function(res){return res.data;}).catch(function(err){return console.log(err);}).then(function(res){if(res){setBdayWidget(true);}});case 17:_context.next=24;break;case 19:if(!(type===\"special\")){_context.next=24;break;}_formdata2=new FormData();_formdata2.append('type',\"special\");_context.next=24;return axios_default()({method:'post',url:'/widget/createWidget',data:_formdata2,headers:{'Content-Type':'multipart/formdata'}}).then(function(res){return res.data;}).catch(function(err){return console.log(err);}).then(function(res){if(res){setSpecialWidget(true);}});case 24:case\"end\":return _context.stop();}}},_callee);}));return _handleCreateWidget.apply(this,arguments);}function handleUpdateDate(_x2){return _handleUpdateDate.apply(this,arguments);}function _handleUpdateDate(){_handleUpdateDate=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(event){var formdata;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:event.preventDefault();formdata=new FormData(dateRef.current);formdata.append('type',\"day\");_context2.next=5;return axios_default()({method:'post',url:'/widget/createWidget',data:formdata,headers:{'Content-Type':'multipart/form-data'}}).then(function(res){return res.data;}).catch(function(err){return console.log(err);}).then(function(res){setIsSetting(false);setDayWidget(true);});case 5:case\"end\":return _context2.stop();}}},_callee2);}));return _handleUpdateDate.apply(this,arguments);}function onHoverWidget(type){if(type===\"day\"){document.getElementById(\"home-delete-dayWidget\").style.visibility=\"visible\";}else if(type===\"bday\"){document.getElementById('home-delete-bdayWidget').style.visibility=\"visible\";}else if(type===\"special\"){document.getElementById('home-delete-specialWidget').style.visibility=\"visible\";}}function offHoverWidget(){if(dayWidget)document.getElementById(\"home-delete-dayWidget\").style.visibility=\"hidden\";if(bdayWidget)document.getElementById('home-delete-bdayWidget').style.visibility=\"hidden\";if(specialWidget)document.getElementById('home-delete-specialWidget').style.visibility=\"hidden\";}function handleDeleteWidget(_x3){return _handleDeleteWidget.apply(this,arguments);}function _handleDeleteWidget(){_handleDeleteWidget=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee3(type){var formdata;return regenerator_default.a.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:formdata=new FormData();formdata.append('type',type);_context3.next=4;return axios_default()({method:'post',url:'/widget/deleteWidget',data:formdata,headers:{'Content-Type':'multipart/form-data'}}).then(function(res){return res.data;}).catch(function(err){return console.log(err);}).then(function(res){if(res){if(type===\"day\")setDayWidget(false);if(type===\"bday\")setBdayWidget(false);if(type===\"special\")setSpecialWidget(false);}});case 4:case\"end\":return _context3.stop();}}},_callee3);}));return _handleDeleteWidget.apply(this,arguments);}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"home-div\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Navbar,(_jsx2={isHome:isHome,setRequestList:setRequestList,setHavePartner:setHavePartner,requestList:requestList,havePartner:havePartner,handleSendReq:handleSendReq,formRef:formRef,handleLogout:handleLogout},Object(defineProperty[\"a\" /* default */])(_jsx2,\"handleSendReq\",handleSendReq),Object(defineProperty[\"a\" /* default */])(_jsx2,\"acceptRef\",acceptRef),_jsx2)),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"home-background\",style:{backgroundImage:\"url(\"+backgroundUrl+\")\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"home-overlay\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"home-widget anniverse\",children:[!havePartner&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"home-noPartner\",children:\"You need to have a partner to access this widget\"}),specialWidget?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"home-event-div\",onMouseOut:offHoverWidget,onMouseOver:function onMouseOver(){return onHoverWidget(\"special\");},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{id:\"home-delete-specialWidget\",onClick:function onClick(){return handleDeleteWidget(\"special\");},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Clear_default.a,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"home-event-title\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"Up Coming Event:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:upComingEvent})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"home-event-day\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h1\",{children:[upComingDay,\" days left\"]})})]}):/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"home-noWidget\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{id:\"home-add-widget\",onClick:function onClick(){return handleCreateWidget(\"special\");},onMouseOver:function onMouseOver(){return onHoverAddWidget(\"special\");},onMouseOut:function onMouseOut(){return offHoverAddWidget(\"special\");},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Add_default.a,{fontSize:\"large\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"home-add-hover\",id:\"hover-special\",children:\"Add this widget to get to know up coming special events\"})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"home-widget days\",children:[!havePartner&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"home-noPartner\",children:\"You need to have a partner to access this widget\"}),dayWidget?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"home-totalDay-widget\",onMouseOut:offHoverWidget,onMouseOver:function onMouseOver(){return onHoverWidget(\"day\");},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{id:\"home-delete-dayWidget\",onClick:function onClick(){return handleDeleteWidget(\"day\");},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Clear_default.a,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h1\",{children:[totalDay,\" DAYS\"]})]}):/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"home-noWidget\",id:\"noDayWidget\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{id:\"home-add-widget\",onClick:function onClick(){return handleCreateWidget(\"day\");},onMouseOver:function onMouseOver(){return onHoverAddWidget(\"day\");},onMouseOut:function onMouseOut(){return offHoverAddWidget(\"day\");},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Add_default.a,{fontSize:\"large\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"home-add-hover\",id:\"hover-day\",children:\"Add this widget to get to know total days together\"})]}),isSetting&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"home-setDate\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"home-setDate-title\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Please set the date of you with your partner\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:handleUpdateDate,ref:dateRef,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(useUtils_cfb96ac9[\"a\" /* M */],{utils:index_esm[\"a\" /* default */],children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DatePicker[\"a\" /* KeyboardDatePicker */],{margin:\"normal\",id:\"dateOfRelation\",label:\"Date of Relationship\",name:\"dateOfRelation\",format:\"MM/dd/yyyy\",value:date,onChange:function onChange(date){setDate(date);},KeyboardButtonProps:{'aria-label':'change date'}})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{type:\"submit\",id:\"home-submit-day\",children:\"SUBMIT\"})]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"home-widget special\",children:[!havePartner&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"home-noPartner\",children:\"You need to have a partner to access this widget\"}),bdayWidget?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"home-dob-div\",onMouseOut:offHoverWidget,onMouseOver:function onMouseOver(){return onHoverWidget(\"bday\");},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{id:\"home-delete-bdayWidget\",onClick:function onClick(){return handleDeleteWidget(\"bday\");},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Clear_default.a,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"home-bday-div you\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"home-bday-name\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:userInfo.nickname})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"home-bday-border\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"home-bday-calander\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{style:{borderBottom:\"1px solid white\"},children:userBday}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h1\",{children:[yourCountDown,\" days left\"]})]})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"home-bday-div partner\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"home-bday-name\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:partnerInfo.nickname})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"home-bday-border\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"home-bday-calander\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{style:{borderBottom:\"1px solid white\"},children:partnerBday}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h1\",{children:[partnerCountDown,\" days left\"]})]})})]})]}):/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"home-noWidget\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{id:\"home-add-widget\",onClick:function onClick(){return handleCreateWidget(\"bday\");},onMouseOver:function onMouseOver(){return onHoverAddWidget(\"bday\");},onMouseOut:function onMouseOut(){return offHoverAddWidget(\"bday\");},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Add_default.a,{fontSize:\"large\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"home-add-hover\",id:\"hover-bday\",children:\"Add this widget to get to know each other birthdays\"})]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"foreground\",id:\"foreground\"})]})]});}\n// EXTERNAL MODULE: ../node_modules/@material-ui/core/esm/TextField/TextField.js + 1 modules\nvar TextField = __webpack_require__(397);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/core/esm/InputLabel/InputLabel.js + 1 modules\nvar InputLabel = __webpack_require__(398);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/core/esm/FormControl/FormControl.js\nvar FormControl = __webpack_require__(392);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/core/esm/Select/Select.js + 4 modules\nvar Select = __webpack_require__(394);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/core/esm/MenuItem/MenuItem.js + 1 modules\nvar MenuItem = __webpack_require__(399);\n\n// EXTERNAL MODULE: ./src/css/profileInfo.css\nvar profileInfo = __webpack_require__(249);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/icons/AddAPhoto.js\nvar AddAPhoto = __webpack_require__(169);\nvar AddAPhoto_default = /*#__PURE__*/__webpack_require__.n(AddAPhoto);\n\n// CONCATENATED MODULE: ./src/components/UserProfileForm.js\nvar genders=[{value:'male',label:'male'},{value:'female',label:'female'}];var UserProfileForm_useStyles=Object(makeStyles[\"a\" /* default */])(function(theme){return{formControl:{marginTop:20,minWidth:\"90%\"}};});function UserProfileForm(){var _useState=Object(react[\"useState\"])(\"\"),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),nickname=_useState2[0],setNickname=_useState2[1];var _useState3=Object(react[\"useState\"])(\"\"),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),bio=_useState4[0],setBio=_useState4[1];var _useState5=Object(react[\"useState\"])(),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),croppedUrl=_useState6[0],setCroppedUrl=_useState6[1];var _useState7=Object(react[\"useState\"])(false),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),uploaded=_useState8[0],setUploaded=_useState8[1];var _useState9=Object(react[\"useState\"])(new Date()),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),dob=_useState10[0],setDob=_useState10[1];var _useState11=Object(react[\"useState\"])('male'),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),gender=_useState12[0],setGender=_useState12[1];var _useState13=Object(react[\"useState\"])(false),_useState14=Object(slicedToArray[\"a\" /* default */])(_useState13,2),newProfile=_useState14[0],setNewProfile=_useState14[1];var _useState15=Object(react[\"useState\"])(),_useState16=Object(slicedToArray[\"a\" /* default */])(_useState15,2),partner=_useState16[0],setPartner=_useState16[1];var _useState17=Object(react[\"useState\"])(),_useState18=Object(slicedToArray[\"a\" /* default */])(_useState17,2),dateOfRelationship=_useState18[0],setDateOfRelationship=_useState18[1];var formRef=Object(react[\"useRef\"])();var classes=UserProfileForm_useStyles();Object(react[\"useEffect\"])(function(){var ac=new AbortController();axios_default.a.get('/auth/isLoggedIn').then(function(res){return res.data;}).catch(function(err){return console.log(err);}).then(function(res){if(res.isLoggedIn===false){window.open('/login','_self');}else if(res.user.nickname){setNickname(res.user.nickname);setDob(res.user.dateOfBirth);setGender(res.user.gender);setBio(res.user.bio);if(res.user.partner!==null){setPartner(res.user.partner);if(res.user.dateOfRelationship){setDateOfRelationship(res.user.dateOfRelationship);}}}});return function cancel(){ac.abort();};},[]);Object(react[\"useEffect\"])(function(){var ac=new AbortController();axios_default()({method:'get',url:'/gridFs/checkExists',headers:{'Content-Type':'multipart/form-data'}}).then(function(res){return res.data;}).catch(function(err){return console.log(err);}).then(function(res){if(res===true){document.getElementById(\"overlay\").style.visibility=\"hidden\";}});return function cancel(){ac.abort();};},[]);if(uploaded){var reader=new FileReader();reader.onload=function(event){if(event.target.result===null){return;}document.getElementById(\"avatarImg\").setAttribute(\"src\",event.target.result);};reader.readAsDataURL(croppedUrl);}function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(event){var formData;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(uploaded){axios_default.a.get('/gridFs/deleteImg');}event.preventDefault();formData=new FormData(formRef.current);partner&&formData.append('partner',partner);_context.next=6;return axios_default()({method:'post',url:'/user/info',data:formData,headers:{'Content-Type':'multipart/form-data'}});case 6:window.location.href=\"/\";case 7:case\"end\":return _context.stop();}}},_callee);}));return _handleSubmit.apply(this,arguments);}function toggleNewFile(event){var file=event.target.files[0];if(file===undefined){return;}else{document.getElementById(\"overlay\").style.visibility=\"hidden\";setCroppedUrl(file);setUploaded(true);}}function uploadFile(){document.getElementById(\"file\").click();}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"infoForm\",id:\"infoForm\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:handleSubmit,ref:formRef,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{id:\"avatar\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Avatar[\"a\" /* default */],{id:\"overlay\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:uploaded?\"\":\"/gridFs/getProfile\",id:\"avatarImg\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"fileIpt\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"file\",name:\"file\",id:\"file\",onChange:toggleNewFile}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{id:\"uploadBtn\",onClick:uploadFile,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AddAPhoto_default.a,{})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"infoDiv\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField[\"a\" /* default */],{id:\"nickname\",className:\"inputFields\",label:\"Nickname\",variant:\"outlined\",name:\"nickname\",value:nickname,onChange:function onChange(e){setNickname(e.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(FormControl[\"a\" /* default */],{variant:\"outlined\",className:classes.formControl,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InputLabel[\"a\" /* default */],{id:\"demo-simple-select-outlined-label\",children:\"Gender\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Select[\"a\" /* default */],{labelId:\"demo-simple-select-outlined-label\",id:\"demo-simple-select-outlined\",value:gender,onChange:function onChange(e){setGender(e.target.value);},label:\"Gender\",name:\"gender\",children:genders.map(function(option){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MenuItem[\"a\" /* default */],{value:option.value,children:option.label},option.value);})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(useUtils_cfb96ac9[\"a\" /* M */],{utils:index_esm[\"a\" /* default */],style:{marginLeft:\"10px\"},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DatePicker[\"a\" /* KeyboardDatePicker */],{margin:\"normal\",id:\"dateOfBirth\",label:\"Date of birth (mm/dd/yyyy)\",name:\"dateOfBirth\",format:\"MM/dd/yyyy\",value:dob,onChange:function onChange(date){setDob(date);},KeyboardButtonProps:{'aria-label':'change date'}})}),dateOfRelationship&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(useUtils_cfb96ac9[\"a\" /* M */],{utils:index_esm[\"a\" /* default */],children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DatePicker[\"a\" /* KeyboardDatePicker */],{margin:\"normal\",id:\"dateOfRelation\",label:\"Date of relationship\",name:\"dateOfRelationship\",format:\"MM/dd/yyyy\",value:dateOfRelationship,onChange:function onChange(date){setDateOfRelationship(date);},KeyboardButtonProps:{'aria-label':'change date'}})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField[\"a\" /* default */],{id:\"bio\",label:\"Bio\",variant:\"outlined\",name:\"bio\",className:\"inputFields\",value:bio,onChange:function onChange(e){setBio(e.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{type:\"submit\",id:\"submitInfo\",children:\"submit\"})]})]})});}\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules\nvar toConsumableArray = __webpack_require__(50);\n\n// EXTERNAL MODULE: ../node_modules/socket.io-client/build/index.js\nvar build = __webpack_require__(79);\nvar build_default = /*#__PURE__*/__webpack_require__.n(build);\n\n// EXTERNAL MODULE: ./src/css/inputBox.css\nvar inputBox = __webpack_require__(281);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/icons/Send.js\nvar Send = __webpack_require__(170);\nvar Send_default = /*#__PURE__*/__webpack_require__.n(Send);\n\n// CONCATENATED MODULE: ./src/components/InputBox.js\nfunction InputBox(props){var handleSendMsg=props.handleSendMsg;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"foot\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:handleSendMsg,className:\"input-form\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"msg\",placeholder:\"Type a message...\",id:\"chat\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{type:\"submit\",id:\"sendIcon\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Send_default.a,{})})]})});}\n// EXTERNAL MODULE: ./src/css/chatroom.css\nvar chatroom = __webpack_require__(282);\n\n// EXTERNAL MODULE: ./src/css/chatNav.css\nvar chatNav = __webpack_require__(283);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/icons/Videocam.js\nvar Videocam = __webpack_require__(100);\nvar Videocam_default = /*#__PURE__*/__webpack_require__.n(Videocam);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/icons/MoreHoriz.js\nvar MoreHoriz = __webpack_require__(101);\nvar MoreHoriz_default = /*#__PURE__*/__webpack_require__.n(MoreHoriz);\n\n// CONCATENATED MODULE: ./src/components/ChatNav.js\nfunction ChatNav(props){var toggleBackHome=props.toggleBackHome,partnerInfo=props.partnerInfo,partnerStatus=props.partnerStatus,toggleVideoCall=props.toggleVideoCall,callAccepted=props.callAccepted,setBackgroundUrl=props.setBackgroundUrl;var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),readyDisplay=_useState2[0],setReadyDisplay=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),isOnline=_useState4[0],setIsOnline=_useState4[1];var _useState5=Object(react[\"useState\"])(false),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),openMore=_useState6[0],setOpenMore=_useState6[1];var imgRef=Object(react[\"useRef\"])();Object(react[\"useEffect\"])(function(){var ac=new AbortController();if(partnerInfo){setReadyDisplay(true);}return function cancel(){ac.abort();};},[partnerInfo]);if(partnerStatus&&partnerInfo){partnerStatus.map(function(user){if(user===partnerInfo._id){setIsOnline(true);}});}function toggleChangeBackground(_x){return _toggleChangeBackground.apply(this,arguments);}function _toggleChangeBackground(){_toggleChangeBackground=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(event){var formdata;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios_default.a.get('/chat/deleteBackground');case 2:formdata=new FormData();formdata.append('file',event.target.files[0]);_context.next=6;return axios_default()({method:'post',url:'/chat/uploadChatImg',data:formdata,headers:{'Content-Type':'multipart/form-data'}});case 6:window.location.reload();case 7:case\"end\":return _context.stop();}}},_callee);}));return _toggleChangeBackground.apply(this,arguments);}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chatNav-div\",children:[isOnline&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"ONLINE\"}),openMore&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"chatNav-moreOption\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chatNav-changeBackground\",onClick:function onClick(){return document.getElementById('chatNav-file').click();},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Photo_default.a,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"file\",name:\"file\",hidden:true,id:\"chatNav-file\",onChange:toggleChangeBackground})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"head\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"user\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"avatar\",id:\"avatarStatus\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:\"/gridFs/getPartnerProfile\"})}),readyDisplay&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"name\",children:partnerInfo.nickname})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"ul\",{id:\"bar_tool\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{id:\"iconBtn\",onClick:toggleVideoCall,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"alink\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Videocam_default.a,{id:\"contact\"})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{id:\"iconBtn\",onClick:function onClick(){return setOpenMore(!openMore);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"alink\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MoreHoriz_default.a,{id:\"contact\"})})})]})]})]});}\n// EXTERNAL MODULE: ./src/css/chatBubble.css\nvar chatBubble = __webpack_require__(284);\n\n// CONCATENATED MODULE: ./src/components/ChatBubble.js\nfunction ChatBubble(props){var textInfo=props.textInfo,user=props.user;if(textInfo&&textInfo.userId===user._id){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"bubble-div righter\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"context\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:textInfo&&textInfo.text})})});}else{return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"bubble-div lefter\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"img-div\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:\"/gridFs/getPartnerProfile\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"context\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:textInfo&&textInfo.text})})]});}}\n// EXTERNAL MODULE: ../node_modules/react-custom-scrollbars-2/lib/index.js\nvar lib = __webpack_require__(285);\n\n// EXTERNAL MODULE: ../node_modules/simple-peer/index.js\nvar simple_peer = __webpack_require__(117);\nvar simple_peer_default = /*#__PURE__*/__webpack_require__.n(simple_peer);\n\n// CONCATENATED MODULE: ./src/SocketContext.js\nvar SocketContext=/*#__PURE__*/Object(react[\"createContext\"])();var SocketContext_ENDPOINT='localhost:5000';var SocketContext_socket;var SocketContext_isCaller=false;var SocketContext_isAnswered=false;var SocketContext_name;var SocketContext_ContextProvider=function ContextProvider(_ref){var children=_ref.children;var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),callAccepted=_useState2[0],setCallAccepted=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),callEnded=_useState4[0],setCallEnded=_useState4[1];var _useState5=Object(react[\"useState\"])(),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),stream=_useState6[0],setStream=_useState6[1];// const [name, setName] = useState('');\nvar _useState7=Object(react[\"useState\"])({}),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),call=_useState8[0],setCall=_useState8[1];var _useState9=Object(react[\"useState\"])(''),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),userId=_useState10[0],setUserId=_useState10[1];var _useState11=Object(react[\"useState\"])(''),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),roomId=_useState12[0],setRoomId=_useState12[1];var _useState13=Object(react[\"useState\"])([]),_useState14=Object(slicedToArray[\"a\" /* default */])(_useState13,2),newMessage=_useState14[0],setNewMessage=_useState14[1];var _useState15=Object(react[\"useState\"])(),_useState16=Object(slicedToArray[\"a\" /* default */])(_useState15,2),partnerId=_useState16[0],setPartnerId=_useState16[1];var _useState17=Object(react[\"useState\"])(false),_useState18=Object(slicedToArray[\"a\" /* default */])(_useState17,2),isCalling=_useState18[0],setIsCalling=_useState18[1];var _useState19=Object(react[\"useState\"])(false),_useState20=Object(slicedToArray[\"a\" /* default */])(_useState19,2),noCall=_useState20[0],setNoCall=_useState20[1];var _useState21=Object(react[\"useState\"])(true),_useState22=Object(slicedToArray[\"a\" /* default */])(_useState21,2),isOnline=_useState22[0],setIsOnline=_useState22[1];var _useState23=Object(react[\"useState\"])(),_useState24=Object(slicedToArray[\"a\" /* default */])(_useState23,2),users=_useState24[0],setUsers=_useState24[1];var myVideo=Object(react[\"useRef\"])();var userVideo=Object(react[\"useRef\"])();var connectionRef=Object(react[\"useRef\"])();Object(react[\"useEffect\"])(function(){SocketContext_socket=Object(build[\"io\"])(SocketContext_ENDPOINT);SocketContext_socket.on('chatMsg',function(chat){setNewMessage(chat);});SocketContext_socket.on('startCalling',function(e){callUser();});SocketContext_socket.on('start',function(e){setIsCalling(true);});SocketContext_socket.on('no',function(e){setNoCall(true);alert('your partner is not online!');});},[]);Object(react[\"useEffect\"])(function(){if(!isCalling){return null;}SocketContext_socket.on('returnDiv',function(e){document.getElementById('chat-body').style.marginRight=\"auto\";document.getElementById('chat-body').style.marginLeft=\"auto\";document.getElementById(\"video-div\").style.visibility=\"hidden\";});SocketContext_socket.on('calluser',/*#__PURE__*/function(){var _ref3=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(_ref2){var from,callerName,signal;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:from=_ref2.from,callerName=_ref2.name,signal=_ref2.signal;setCall({isReceivingCall:true,from:from,name:callerName,signal:signal});case 2:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref3.apply(this,arguments);};}());SocketContext_socket.on('moveDiv',function(e){document.getElementById('chat-body').style.marginRight=\"auto\";document.getElementById('chat-body').style.marginLeft=\"10px\";document.getElementById(\"video-div\").style.visibility=\"visible\";});SocketContext_socket.on('dc',function(e){leaveCall();});},[isCalling]);// useEffect(()=>{\n//   if(callAccepted)\n//   {\n//     navigator.mediaDevices.getUserMedia({ video: true, audio: true })\n//     .then((currentStream) => {\n//     setStream(currentStream);\n//     myVideo.current.srcObject = currentStream;\n//     });\n//   }\n// },[callAccepted])\nvar startCall=function startCall(){SocketContext_socket.emit('calling');};var joinRoom=function joinRoom(roomId,userId,nickname){SocketContext_socket.emit('join',{userId:userId,roomId:roomId});setUserId(userId);setRoomId(roomId);// setName(nickname); \nSocketContext_name=nickname;};var audio=true;var muteAudio=function muteAudio(){audio=!audio;stream.getAudioTracks()[0].enabled=audio;};var video=true;var muteVideo=function muteVideo(){video=!video;stream.getVideoTracks()[0].enabled=video;};var sendMsg=function sendMsg(msg,nickname){SocketContext_socket.emit('sendMsg',{msg:msg,userId:userId,nickname:nickname,roomId:roomId});};var declineCall=function declineCall(){setCallEnded(true);if(SocketContext_isCaller){document.getElementById('chat-body').style.marginRight=\"auto\";document.getElementById('chat-body').style.marginLeft=\"auto\";document.getElementById(\"video-div\").style.visibility=\"hidden\";}setIsCalling(false);window.location.reload();};var answerCall=/*#__PURE__*/function(){var _ref4=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(){var local,peer;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return navigator.mediaDevices.getUserMedia({video:true,audio:true}).then(function(currentStream){setStream(currentStream);local=currentStream;myVideo.current.srcObject=currentStream;});case 2:SocketContext_isAnswered=true;setCallAccepted(true);peer=new simple_peer_default.a({initiator:false,trickle:false,stream:local});peer.on('signal',function(data){SocketContext_socket.emit('answercall',{signal:data,to:call.from});});peer.on('stream',function(currentStream){console.log(\"this is the remote stream: \"+currentStream);userVideo.current.srcObject=currentStream;});peer.signal(call.signal);connectionRef.current=peer;case 9:case\"end\":return _context2.stop();}}},_callee2);}));return function answerCall(){return _ref4.apply(this,arguments);};}();var callUser=/*#__PURE__*/function(){var _ref5=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee3(){var local,peer;return regenerator_default.a.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(!noCall){_context3.next=2;break;}return _context3.abrupt(\"return\",null);case 2:_context3.next=4;return navigator.mediaDevices.getUserMedia({video:true,audio:true}).then(function(currentStream){setStream(currentStream);local=currentStream;myVideo.current.srcObject=currentStream;});case 4:SocketContext_isCaller=true;peer=new simple_peer_default.a({initiator:true,trickle:false,stream:local});peer.on('signal',function(data){SocketContext_socket.emit('calluser',{signalData:data,name:SocketContext_name});});peer.on('stream',function(currentStream){userVideo.current.srcObject=currentStream;});SocketContext_socket.on('callaccepted',function(signal){console.log('call accepted: '+signal);setCallAccepted(true);peer.signal(signal);});connectionRef.current=peer;case 10:case\"end\":return _context3.stop();}}},_callee3);}));return function callUser(){return _ref5.apply(this,arguments);};}();var leaveCall=function leaveCall(){setCallEnded(true);if(SocketContext_isCaller){document.getElementById('chat-body').style.marginRight=\"auto\";document.getElementById('chat-body').style.marginLeft=\"auto\";document.getElementById(\"video-div\").style.visibility=\"hidden\";}connectionRef.current.destroy();window.location.reload();};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SocketContext.Provider,{value:{call:call,callAccepted:callAccepted,myVideo:myVideo,newMessage:newMessage,sendMsg:sendMsg,joinRoom:joinRoom,userVideo:userVideo,stream:stream,name:SocketContext_name,callEnded:callEnded,callUser:callUser,leaveCall:leaveCall,answerCall:answerCall,users:users,isOnline:isOnline,startCall:startCall,muteAudio:muteAudio,muteVideo:muteVideo,declineCall:declineCall,isCaller:SocketContext_isCaller,isAnswered:SocketContext_isAnswered},children:children});};\n// EXTERNAL MODULE: ../node_modules/@material-ui/icons/Done.js\nvar Done = __webpack_require__(171);\nvar Done_default = /*#__PURE__*/__webpack_require__.n(Done);\n\n// CONCATENATED MODULE: ./src/components/VideoRespond.js\nfunction VideoRespond(props){var _useContext=Object(react[\"useContext\"])(SocketContext),answerCall=_useContext.answerCall,leaveCall=_useContext.leaveCall,call=_useContext.call,initializeVideo=_useContext.initializeVideo,callUser=_useContext.callUser,declineCall=_useContext.declineCall,isCaller=_useContext.isCaller,isAnswered=_useContext.isAnswered;function answer(){return _answer.apply(this,arguments);}function _answer(){_answer=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:document.getElementById('chat-body').style.marginRight=\"auto\";document.getElementById('chat-body').style.marginLeft=\"10px\";document.getElementById(\"video-div\").style.visibility=\"visible\";answerCall();case 4:case\"end\":return _context.stop();}}},_callee);}));return _answer.apply(this,arguments);}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"respond\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Avatar[\"a\" /* default */],{src:\"/gridFs/getPartnerProfile\",id:\"caller\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"description\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h3\",{children:[call.name,\" wants to call you\"]})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"choice\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{id:\"choice-btn\",onClick:answer,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Done_default.a,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{id:\"choice-canc\",onClick:declineCall,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Clear_default.a,{})})]})]});}\n// EXTERNAL MODULE: ./src/css/videoCall.css\nvar videoCall = __webpack_require__(319);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/icons/VideocamOff.js\nvar VideocamOff = __webpack_require__(172);\nvar VideocamOff_default = /*#__PURE__*/__webpack_require__.n(VideocamOff);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/icons/Mic.js\nvar Mic = __webpack_require__(175);\nvar Mic_default = /*#__PURE__*/__webpack_require__.n(Mic);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/icons/CallEnd.js\nvar CallEnd = __webpack_require__(173);\nvar CallEnd_default = /*#__PURE__*/__webpack_require__.n(CallEnd);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/icons/MicOff.js\nvar MicOff = __webpack_require__(174);\nvar MicOff_default = /*#__PURE__*/__webpack_require__.n(MicOff);\n\n// CONCATENATED MODULE: ./src/components/VideoCall.js\nfunction VideoCall(){var _useContext=Object(react[\"useContext\"])(SocketContext),name=_useContext.name,callAccepted=_useContext.callAccepted,myVideo=_useContext.myVideo,userVideo=_useContext.userVideo,callEnded=_useContext.callEnded,stream=_useContext.stream,callUser=_useContext.callUser,leaveCall=_useContext.leaveCall,initializeVideo=_useContext.initializeVideo,muteAudio=_useContext.muteAudio,muteVideo=_useContext.muteVideo,declineCall=_useContext.declineCall,isAnswered=_useContext.isAnswered;var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isMuted=_useState2[0],setIsMuted=_useState2[1];var _useState3=Object(react[\"useState\"])(true),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),isDisplayed=_useState4[0],setIsDisplayed=_useState4[1];function handleMute(){setIsMuted(!isMuted);muteAudio();}function handleDisplay(){setIsDisplayed(!isDisplayed);muteVideo();}console.log(isAnswered);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"video-div\",id:\"video-div\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"vid-call\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"video\",{playsInline:true,muted:true,ref:myVideo,autoPlay:true})}),callAccepted&&!callEnded&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"vid-call1\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"video\",{playsInline:true,muted:true,ref:userVideo,autoPlay:true})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"option-div\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{onClick:handleDisplay,className:\"option-btn\",id:\"display\",children:isDisplayed?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Videocam_default.a,{}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(VideocamOff_default.a,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{onClick:isAnswered?leaveCall:declineCall,className:\"option-btn\",id:\"end\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CallEnd_default.a,{fontSize:\"inherit\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{onClick:handleMute,className:\"option-btn\",children:isMuted?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MicOff_default.a,{}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Mic_default.a,{})})]})]});}\n// CONCATENATED MODULE: ./src/components/ChatRoom.js\nfunction ChatRoom(props){var ENDPOINT='localhost:5000';var _useState=Object(react[\"useState\"])(),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),userInfo=_useState2[0],setUserInfo=_useState2[1];var _useState3=Object(react[\"useState\"])(),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),userId=_useState4[0],setUserId=_useState4[1];var _useState5=Object(react[\"useState\"])(),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),roomId=_useState6[0],setRoomId=_useState6[1];var _useState7=Object(react[\"useState\"])(\"\"),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),text=_useState8[0],setText=_useState8[1];var _useState9=Object(react[\"useState\"])(),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),userNickname=_useState10[0],setUserNickname=_useState10[1];var _useState11=Object(react[\"useState\"])([]),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),messages=_useState12[0],setMessages=_useState12[1];var _useState13=Object(react[\"useState\"])([]),_useState14=Object(slicedToArray[\"a\" /* default */])(_useState13,2),partnerInfo=_useState14[0],setPartnerInfo=_useState14[1];var _useState15=Object(react[\"useState\"])(false),_useState16=Object(slicedToArray[\"a\" /* default */])(_useState15,2),isUser=_useState16[0],setIsUser=_useState16[1];var _useState17=Object(react[\"useState\"])(),_useState18=Object(slicedToArray[\"a\" /* default */])(_useState17,2),partnerStatus=_useState18[0],setPartnerStatus=_useState18[1];var _useState19=Object(react[\"useState\"])(false),_useState20=Object(slicedToArray[\"a\" /* default */])(_useState19,2),havePartner=_useState20[0],setHavePartner=_useState20[1];var _useState21=Object(react[\"useState\"])(-1),_useState22=Object(slicedToArray[\"a\" /* default */])(_useState21,2),scrollDir=_useState22[0],setScrollDir=_useState22[1];var _useState23=Object(react[\"useState\"])(''),_useState24=Object(slicedToArray[\"a\" /* default */])(_useState23,2),backgroundUrl=_useState24[0],setBackgroundUrl=_useState24[1];// const [isCalling,setIsCalling] = useState();\nvar _useContext=Object(react[\"useContext\"])(SocketContext),joinRoom=_useContext.joinRoom,sendMsg=_useContext.sendMsg,newMessage=_useContext.newMessage,callUser=_useContext.callUser,call=_useContext.call,me=_useContext.me,callAccepted=_useContext.callAccepted,onBoth=_useContext.onBoth,startCall=_useContext.startCall;Object(react[\"useEffect\"])(function(){var ac=new AbortController();axios_default.a.get('/auth/isLoggedIn').then(function(res){return res.data;}).catch(function(err){return console.log(err);}).then(function(res){if(res.isLoggedIn){axios_default.a.get('/chat/checkExist').then(res.data).catch(function(err){return console.log(err);}).then(function(res){if(res.data){document.getElementById('msgBox').style.backgroundImage='url(\"/chat/getChatBackground\")';document.getElementById('msgBox').style.backgroundSize='cover';}else{document.getElementById('msgBox').style.backgroundImage='url(\"https://wallpapercave.com/wp/wp4779329.png\")';}});var _userId=res.user._id;var partner=res.user.partner;var nickname=res.user.nickname;setPartnerInfo(res.partnerInfo);if(res.user.partner!==null){setHavePartner(true);axios_default()({method:'get',url:'/user/getRoomId',headers:{'Content-Type':'multipart/form-data'}}).then(function(res){return res.data;}).catch(function(err){return console.log(err);}).then(function(res){setMessages(res.chatInfo.chats.reverse().map(function(chat){return chat;}));var roomId=res.roomInfo._id;setRoomId(roomId);if(nickname){joinRoom(roomId,_userId,nickname);}});}setUserId(res.user._id);setUserInfo(Object(objectSpread2[\"a\" /* default */])({},res.user));setUserNickname(res.user.nickname);}});return function cancel(){ac.abort();};},[]);Object(react[\"useEffect\"])(function(){setMessages(function(prevData){return[].concat(Object(toConsumableArray[\"a\" /* default */])(prevData),[newMessage]);});},[newMessage]);Object(react[\"useEffect\"])(function(){if(scrollDir===-1){document.getElementById('msgBox').scrollTo(0,document.getElementById('msgBox').scrollHeight);}},[messages]);function handleSendMsg(event){var msg=document.getElementById(\"chat\").value;event.preventDefault();if(msg.length>0&&roomId){sendMsg(msg,userId,userNickname,roomId);setText(\"\");}else{console.log(\"You cant send anything\");}document.getElementById(\"chat\").value=null;}function toggleBackHome(){window.open('/','_self');}function toggleVideoCall(){return _toggleVideoCall.apply(this,arguments);}function _toggleVideoCall(){_toggleVideoCall=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return startCall();case 2:case\"end\":return _context.stop();}}},_callee);}));return _toggleVideoCall.apply(this,arguments);};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chat-div\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Navbar,{havePartner:havePartner}),call.isReceivingCall&&!callAccepted&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(VideoRespond,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(VideoCall,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"chat-container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chat-body\",id:\"chat-body\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ChatNav,{toggleBackHome:toggleBackHome,partnerInfo:partnerInfo,partnerStatus:partnerStatus,toggleVideoCall:toggleVideoCall}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"chat-messageBox-div\",id:\"msgBox\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"chat-messageBox\",children:messages&&userInfo&&messages.map(function(chat,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ChatBubble,{textInfo:chat,user:userInfo},index);})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InputBox,{handleSendMsg:handleSendMsg})]})})]});}\n// EXTERNAL MODULE: ../node_modules/react-player/lib/index.js\nvar react_player_lib = __webpack_require__(176);\nvar react_player_lib_default = /*#__PURE__*/__webpack_require__.n(react_player_lib);\n\n// EXTERNAL MODULE: ./src/css/videoPlayer.css\nvar videoPlayer = __webpack_require__(338);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/icons/PlayArrow.js\nvar PlayArrow = __webpack_require__(182);\nvar PlayArrow_default = /*#__PURE__*/__webpack_require__.n(PlayArrow);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/icons/Pause.js\nvar Pause = __webpack_require__(181);\nvar Pause_default = /*#__PURE__*/__webpack_require__.n(Pause);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/icons/ArrowLeft.js\nvar ArrowLeft = __webpack_require__(102);\nvar ArrowLeft_default = /*#__PURE__*/__webpack_require__.n(ArrowLeft);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/icons/ArrowDropDown.js\nvar ArrowDropDown = __webpack_require__(178);\nvar ArrowDropDown_default = /*#__PURE__*/__webpack_require__.n(ArrowDropDown);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/icons/ArrowDropUp.js\nvar ArrowDropUp = __webpack_require__(177);\nvar ArrowDropUp_default = /*#__PURE__*/__webpack_require__.n(ArrowDropUp);\n\n// CONCATENATED MODULE: ./src/components/VideoList.js\nfunction VideoList(props){var handleChooseMovie=props.handleChooseMovie,socket=props.socket;var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),files=_useState2[0],setFiles=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),dropdown=_useState4[0],setDropdown=_useState4[1];Object(react[\"useEffect\"])(function(){axios_default.a.get('/videoFs/getAllVideos').then(function(res){return res.data;}).catch(function(err){return console.log(err);}).then(function(res){var temp=[];for(var i=0;i<res.length;i++){temp.push(res[i]);}setFiles(temp);});},[]);function handleDropDown(){var state=!dropdown;if(state){document.getElementById('video-file').style.top=0;}else{document.getElementById('video-file').style.top=\"-68px\";}setDropdown(!dropdown);}function handleDeleteVideo(_x){return _handleDeleteVideo.apply(this,arguments);}function _handleDeleteVideo(){_handleDeleteVideo=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(videoId){var formdata;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:formdata=new FormData();formdata.append('videoId',videoId);_context.next=4;return axios_default()({method:'post',url:'/videoFs/deleteVideo',data:formdata,headers:{'Content-Type':'multipart/form-data'}}).then(function(res){return res.data;}).catch(function(err){return console.log(err);}).then(function(res){console.log(res);if(res){setFiles(function(prev){return prev.filter(function(file){return file._id!==videoId;});});if(socket)socket.emit('deletedVideo');}});case 4:case\"end\":return _context.stop();}}},_callee);}));return _handleDeleteVideo.apply(this,arguments);}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"video-file\",id:\"video-file\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"video-scroll\",children:files.map(function(file){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"video-list-div\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{variant:\"outlined\",onClick:function onClick(){return handleChooseMovie(file.filename);},id:\"list\",children:file.aliases},file._id),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{id:\"video-delete\",onClick:function onClick(){return handleDeleteVideo(file._id);},children:\"x\"})]});})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{size:\"small\",id:\"drop-down\",onClick:handleDropDown,children:dropdown?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ArrowDropUp_default.a,{}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ArrowDropDown_default.a,{})})]});}\n// EXTERNAL MODULE: ../node_modules/@material-ui/icons/CloudUpload.js\nvar CloudUpload = __webpack_require__(179);\nvar CloudUpload_default = /*#__PURE__*/__webpack_require__.n(CloudUpload);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/icons/ArrowRight.js\nvar ArrowRight = __webpack_require__(103);\nvar ArrowRight_default = /*#__PURE__*/__webpack_require__.n(ArrowRight);\n\n// CONCATENATED MODULE: ./src/components/VideoUploadDiv.js\nfunction VideoUploadDiv(props){var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),openUpload=_useState2[0],setOpenUpload=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),uploadProgress=_useState4[0],setUploadProgress=_useState4[1];var formRef=Object(react[\"useRef\"])();function handleUploadDiv(){var state=!openUpload;if(state){document.getElementById('upload-file').style.marginLeft=0;}else{document.getElementById('upload-file').style.marginLeft=\"-380px\";}setOpenUpload(!openUpload);}function displayFileName(event){document.getElementById('file-name').textContent=event.target.files[0].name;}function handleUploadVideo(_x){return _handleUploadVideo.apply(this,arguments);}function _handleUploadVideo(){_handleUploadVideo=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(event){var formdata;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();if(!(document.getElementById('video').value===\"\")){_context.next=3;break;}return _context.abrupt(\"return\");case 3:setUploadProgress(true);formdata=new FormData(formRef.current);_context.next=7;return axios_default()({method:'post',url:'/videoFs/upload',data:formdata,headers:{'Content-Type':'multipart/form-data'},onUploadProgress:function onUploadProgress(progressEvent){var progress=progressEvent.loaded/progressEvent.total*100;document.getElementById(\"uploadFileProgress\").style.width=progress+\"%\";if(progress===100){window.location.reload();}}});case 7:case\"end\":return _context.stop();}}},_callee);}));return _handleUploadVideo.apply(this,arguments);}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"upload-file\",id:\"upload-file\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:handleUploadVideo,ref:formRef,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{size:\"medium\",onClick:function onClick(){return document.getElementById('video').click();},style:{color:\"white\"},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CloudUpload_default.a,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"file\",name:\"video\",id:\"video\",hidden:true,onChange:displayFileName}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{variant:\"contained\",color:\"default\",type:\"submit\",children:\"Upload\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{id:\"file-name\",style:{color:\"rgb(56, 245, 71)\"}}),uploadProgress&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"uploadProgress\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"progressBar\",id:\"uploadFileProgress\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{size:\"small\",id:\"openUploadDiv\",onClick:handleUploadDiv,children:openUpload?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ArrowLeft_default.a,{}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ArrowRight_default.a,{})})]});}\n// EXTERNAL MODULE: ../node_modules/@material-ui/icons/VolumeMute.js\nvar VolumeMute = __webpack_require__(185);\nvar VolumeMute_default = /*#__PURE__*/__webpack_require__.n(VolumeMute);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/icons/VolumeOff.js\nvar VolumeOff = __webpack_require__(183);\nvar VolumeOff_default = /*#__PURE__*/__webpack_require__.n(VolumeOff);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/icons/VolumeUp.js\nvar VolumeUp = __webpack_require__(184);\nvar VolumeUp_default = /*#__PURE__*/__webpack_require__.n(VolumeUp);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/icons/Fullscreen.js\nvar Fullscreen = __webpack_require__(187);\nvar Fullscreen_default = /*#__PURE__*/__webpack_require__.n(Fullscreen);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/icons/FullscreenExit.js\nvar FullscreenExit = __webpack_require__(186);\nvar FullscreenExit_default = /*#__PURE__*/__webpack_require__.n(FullscreenExit);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/icons/Home.js\nvar icons_Home = __webpack_require__(180);\nvar Home_default = /*#__PURE__*/__webpack_require__.n(icons_Home);\n\n// EXTERNAL MODULE: ../node_modules/react-full-screen/dist/index.modern.js + 1 modules\nvar index_modern = __webpack_require__(120);\n\n// CONCATENATED MODULE: ./src/components/Cinema.js\nvar Cinema_socket;function Cinema(){var ENDPOINT='localhost:5000';var handle=Object(index_modern[\"b\" /* useFullScreenHandle */])();var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),ready=_useState2[0],setReady=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),play=_useState4[0],setPlay=_useState4[1];var _useState5=Object(react[\"useState\"])(false),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),openUrl=_useState6[0],setOpenUrl=_useState6[1];var _useState7=Object(react[\"useState\"])(),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),url=_useState8[0],setUrl=_useState8[1];var _useState9=Object(react[\"useState\"])(true),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),buffering=_useState10[0],setBuffering=_useState10[1];var _useState11=Object(react[\"useState\"])(0.5),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),volume=_useState12[0],setVolume=_useState12[1];var _useState13=Object(react[\"useState\"])(false),_useState14=Object(slicedToArray[\"a\" /* default */])(_useState13,2),isMuted=_useState14[0],setIsMuted=_useState14[1];var _useState15=Object(react[\"useState\"])(false),_useState16=Object(slicedToArray[\"a\" /* default */])(_useState15,2),isLoud=_useState16[0],setIsLoud=_useState16[1];var _useState17=Object(react[\"useState\"])(false),_useState18=Object(slicedToArray[\"a\" /* default */])(_useState17,2),isFullScreen=_useState18[0],setIsFullScreen=_useState18[1];var videoRef=Object(react[\"useRef\"])();var urlRef=Object(react[\"useRef\"])(\"\");var readyToPlay=Object(react[\"useRef\"])(false);var initialRun=Object(react[\"useRef\"])(true);Object(react[\"useEffect\"])(/*#__PURE__*/Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var ac;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:ac=new AbortController();Cinema_socket=build_default()(ENDPOINT);if(!initialRun.current){_context.next=6;break;}_context.next=5;return axios_default.a.get('/user/getRoomId').then(function(res){return res.data;}).catch(function(err){return console.log(err);}).then(function(res){Cinema_socket.emit('join',res.roomInfo._id);});case 5:initialRun.current=false;case 6:Cinema_socket.on('changeState',function(state){setPlay(state);});Cinema_socket.on('refreshPage',function(e){window.location.reload();});Cinema_socket.on('update',function(time){if(urlRef.current===\"\"){urlRef.current=time.url;setReady(true);readyToPlay.current=true;setBuffering(false);return;}if(readyToPlay.current){if(time.time>videoRef.current.getCurrentTime()){if(videoRef.current.getCurrentTime()<time.time-1){videoRef.current.seekTo(String(time.time),'seconds');}}}});Cinema_socket.on('updateProgress',function(pointed){videoRef.current.seekTo(pointed,'seconds');});Cinema_socket.on('onlineUrl',function(data){if(data===\"\"){document.getElementById('url').value=\"\";return;}setReady(true);urlRef.current=data;setUrl(data);document.getElementById('url').value=\"\";});return _context.abrupt(\"return\",function cancel(){ac.abort();});case 12:case\"end\":return _context.stop();}}},_callee);})),[]);function displayProgress(){Cinema_socket.emit('keepUpdate',{time:videoRef.current.getCurrentTime(),url:url});var point=document.getElementById('progress-point');var value=videoRef.current.getCurrentTime()/(videoRef.current.getDuration()/100);point.style.left=value+\"%\";}function handleProgressChange(event){var progressBarWidth=document.getElementById(\"progress-bar\");var choose=event.nativeEvent.offsetX;var pointed=choose/progressBarWidth.offsetWidth*videoRef.current.getDuration();Cinema_socket.emit('changeProgress',pointed);setPlay(true);}function handleVideoState(){Cinema_socket.emit('changeVideoState',play);}function submitUrl(event){event.preventDefault();var choosenUrl=document.getElementById('url').value;Cinema_socket.emit('onlineUrl',choosenUrl);}function handleChooseMovie(_x){return _handleChooseMovie.apply(this,arguments);}function _handleChooseMovie(){_handleChooseMovie=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(filename){var choosenUrl;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setReady(true);choosenUrl=\"/videoFs/choose/\"+filename;Cinema_socket.emit('onlineUrl',choosenUrl);case 3:case\"end\":return _context2.stop();}}},_callee2);}));return _handleChooseMovie.apply(this,arguments);}function handleUrlDiv(){var state=!openUrl;if(state){document.getElementById('submitUrl').style.marginLeft=0;}else{document.getElementById('submitUrl').style.marginLeft=\"-380px\";};setOpenUrl(!openUrl);}function handlePlayerVolume(){var value=document.getElementById(\"volume\").value;var actualVolume=parseFloat(value/100);if(actualVolume===0){setIsMuted(true);}else{setIsMuted(false);}if(value>50){setIsLoud(true);}else{setIsLoud(false);}setVolume(actualVolume);}function handleMute(){var state=!isMuted;if(state){setVolume(0);document.getElementById('volume').value=0;}else{setVolume(0.5);document.getElementById('volume').value=50;}setIsMuted(!isMuted);}function handleBigScreen(){var state=!isFullScreen;var controls=document.getElementById('controls');if(state){handle.enter();controls.style.bottom=\"-150px\";document.getElementById('progress-point').style.background=\"white\";document.getElementById('control-btn').style.color=\"white\";document.getElementById('control-vlm').style.color=\"white\";document.getElementById('fullscreen-btn').style.color=\"white\";}else{handle.exit();controls.style.bottom=\"-50px\";document.getElementById('progress-point').style.background=\"black\";document.getElementById('control-btn').style.color=\"black\";document.getElementById('control-vlm').style.color=\"black\";document.getElementById('fullscreen-btn').style.color=\"black\";}setIsFullScreen(!isFullScreen);}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"cinema-div\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(VideoList,{handleChooseMovie:handleChooseMovie,socket:Cinema_socket}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(VideoUploadDiv,{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"submit-url\",id:\"submitUrl\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:submitUrl,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",id:\"url\",placeholder:\"enter url\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{type:\"submit\",variant:\"outlined\",id:\"submit-url-btn\",children:\" submit\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{size:\"small\",id:\"handleUrlDiv\",onClick:handleUrlDiv,children:openUrl?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ArrowLeft_default.a,{}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ArrowRight_default.a,{})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{variant:\"outlined\",color:\"black\",href:\"/\",id:\"homeBtn\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Home_default.a,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_modern[\"a\" /* FullScreen */],{handle:handle,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"video-player\",id:\"video-player\",children:[buffering&&ready&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"no-video\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Loading....\"})}),ready?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_player_lib_default.a,{ref:videoRef,playing:play,height:\"100%\",width:\"100%\",url:urlRef.current,volume:volume,onProgress:displayProgress,onReady:function onReady(){return setBuffering(false);},onError:function onError(){return setReady(false);}}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"no-video\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"No Video\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{display:\"flex\"},className:\"progress-bar-div\",id:\"controls\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{onClick:handleVideoState,id:\"control-btn\",style:{color:\"black\"},children:play?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Pause_default.a,{}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(PlayArrow_default.a,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{onClick:handleMute,id:\"control-vlm\",style:{color:\"black\"},children:isMuted?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(VolumeOff_default.a,{}):isLoud?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(VolumeUp_default.a,{}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(VolumeMute_default.a,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"range\",min:\"0\",max:\"100\",id:\"volume\",onChange:handlePlayerVolume}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{id:\"progress-bar\",className:\"progress-bar status\",onClick:ready?handleProgressChange:\"\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{id:\"progress-point\",className:\"progress-point\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{onClick:handleBigScreen,id:\"fullscreen-btn\",style:{color:\"black\"},children:isFullScreen?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FullscreenExit_default.a,{}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Fullscreen_default.a,{})})]})]})})]});}\n// EXTERNAL MODULE: ./src/css/memoryBook.css\nvar memoryBook = __webpack_require__(339);\n\n// EXTERNAL MODULE: ./src/css/createPost.css\nvar createPost = __webpack_require__(340);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/icons/Close.js\nvar Close = __webpack_require__(189);\nvar Close_default = /*#__PURE__*/__webpack_require__.n(Close);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/core/esm/NativeSelect/NativeSelect.js\nvar NativeSelect = __webpack_require__(168);\n\n// EXTERNAL MODULE: ../node_modules/react-photo-gallery/dist/react-photo-gallery.esm.js\nvar react_photo_gallery_esm = __webpack_require__(188);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/icons/Delete.js\nvar Delete = __webpack_require__(191);\nvar Delete_default = /*#__PURE__*/__webpack_require__.n(Delete);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/icons/AddPhotoAlternate.js\nvar AddPhotoAlternate = __webpack_require__(190);\nvar AddPhotoAlternate_default = /*#__PURE__*/__webpack_require__.n(AddPhotoAlternate);\n\n// CONCATENATED MODULE: ./src/components/SelectedImage.js\nvar SelectedImage_Checkmark=function Checkmark(_ref){var selected=_ref.selected;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:selected?{left:\"4px\",top:\"4px\",position:\"absolute\",zIndex:\"1\"}:{display:\"none\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"svg\",{style:{fill:\"white\",position:\"absolute\"},width:\"24px\",height:\"24px\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"circle\",{cx:\"12.5\",cy:\"12.2\",r:\"8.292\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"svg\",{style:{fill:\"#06befa\",position:\"absolute\"},width:\"24px\",height:\"24px\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"path\",{d:\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"})})]});};var imgStyle={transition:\"transform .135s cubic-bezier(0.0,0.0,0.2,1),opacity linear .15s\"};var selectedImgStyle={transform:\"translateZ(0px) scale3d(0.9, 0.9, 1)\",transition:\"transform .135s cubic-bezier(0.0,0.0,0.2,1),opacity linear .15s\"};var cont={backgroundColor:\"#eee\",cursor:\"pointer\",overflow:\"hidden\",position:\"relative\"};var SelectedImage_SelectedImage=function SelectedImage(_ref2){var index=_ref2.index,photo=_ref2.photo,margin=_ref2.margin,direction=_ref2.direction,top=_ref2.top,left=_ref2.left,selected=_ref2.selected,handleChooseNotToDeleteFile=_ref2.handleChooseNotToDeleteFile,handleChooseToDeleteFile=_ref2.handleChooseToDeleteFile;var _useState=Object(react[\"useState\"])(selected),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isSelected=_useState2[0],setIsSelected=_useState2[1];var actualHeight=200-photo.height-photo.height;//calculate x,y scale\nvar sx=(100-30/photo.width*100)/100;var sy=(100-30/photo.height*100)/100;selectedImgStyle.transform=\"translateZ(0px) scale3d(\".concat(sx,\", \").concat(sy,\", 1)\");if(direction===\"column\"){cont.position=\"absolute\";cont.left=left;cont.top=top;}var handleOnClick=function handleOnClick(e){setIsSelected(!isSelected);if(!isSelected){handleChooseToDeleteFile(index);}else{handleChooseNotToDeleteFile(index);}};Object(react[\"useEffect\"])(function(){setIsSelected(selected);},[selected]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:Object(objectSpread2[\"a\" /* default */])({margin:margin,height:actualHeight,width:photo.width},cont),className:!isSelected?\"not-selected\":\"\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SelectedImage_Checkmark,{selected:isSelected?true:false}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({alt:photo.title,style:isSelected?Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},imgStyle),selectedImgStyle):Object(objectSpread2[\"a\" /* default */])({},imgStyle)},photo),{},{onClick:handleOnClick})),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"style\",{children:\".not-selected:hover{outline:2px solid #06befa}\"})]});};/* harmony default export */ var components_SelectedImage = (SelectedImage_SelectedImage);\n// CONCATENATED MODULE: ./src/components/MemoryBook/CreatePost.js\nfunction CreatePost(props){var setPost=props.setPost,handlePost=props.handlePost,userInfo=props.userInfo,setIsPosting=props.setIsPosting,setIsEditing=props.setIsEditing,isEditing=props.isEditing,postData=props.postData,setPostData=props.setPostData;var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),text=_useState2[0],setText=_useState2[1];var _useState3=Object(react[\"useState\"])([]),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),uploadedFiles=_useState4[0],setUploadedFiles=_useState4[1];var _useState5=Object(react[\"useState\"])(),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),feeling=_useState6[0],setFeeling=_useState6[1];var _useState7=Object(react[\"useState\"])([]),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),willBeDeletedFiles=_useState8[0],setWillBeDeletedFiles=_useState8[1];var _useState9=Object(react[\"useState\"])([]),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),deletedExistingFiles=_useState10[0],setDeletedExistingFiles=_useState10[1];var _useState11=Object(react[\"useState\"])(false),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,1),selectAll=_useState12[0];var formRef=Object(react[\"useRef\"])();var imageRenderer=Object(react[\"useCallback\"])(function(_ref){var index=_ref.index,left=_ref.left,top=_ref.top,key=_ref.key,photo=_ref.photo;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_SelectedImage,{selected:selectAll?true:false,margin:\"2px\",index:index,photo:photo,left:left,top:top,handleChooseNotToDeleteFile:handleChooseNotToDeleteFile,handleChooseToDeleteFile:handleChooseToDeleteFile},key);},[selectAll,handleChooseNotToDeleteFile,handleChooseToDeleteFile]);Object(react[\"useEffect\"])(function(){if(isEditing){setText(postData.post.text);setFeeling(postData.post.feeling);if(postData.post.fileId){setUploadedFiles(postData.post.fileId.map(function(id,index){// console.log(postData.url[index]);\nreturn{src:postData.url[index],width:1,height:1,fileId:id};}));}}},[]);function handleChooseToDeleteFile(index){setWillBeDeletedFiles(function(prevData){return[].concat(Object(toConsumableArray[\"a\" /* default */])(prevData),[index]);});}function handleChooseNotToDeleteFile(index){setWillBeDeletedFiles(function(prevData){return prevData.filter(function(val){return val!==index;});});}function handleUploadFiles(event){var file=event.target.files[0];if(file){var re=/\\.(gif|jpe?g|tiff?|png|webp|bmp)$/i;if(re.test(file.name)){setUploadedFiles(function(prevData){return[].concat(Object(toConsumableArray[\"a\" /* default */])(prevData),[{src:URL.createObjectURL(file),file:file,width:1,height:1}]);});}else{alert('only upload image files.');}}}function handleDeleteChosenFiles(){return _handleDeleteChosenFiles.apply(this,arguments);}function _handleDeleteChosenFiles(){_handleDeleteChosenFiles=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var tempDeletedFiles,tempUploadedFiles,i;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:tempDeletedFiles=Object(toConsumableArray[\"a\" /* default */])(willBeDeletedFiles).sort();tempUploadedFiles=Object(toConsumableArray[\"a\" /* default */])(uploadedFiles);i=tempDeletedFiles.length-1;case 3:if(!(i>=0)){_context.next=11;break;}if(!tempUploadedFiles[tempDeletedFiles[i]].fileId){_context.next=7;break;}_context.next=7;return setDeletedExistingFiles(function(prevData){return[].concat(Object(toConsumableArray[\"a\" /* default */])(prevData),[tempUploadedFiles[tempDeletedFiles[i]].fileId]);});case 7:tempUploadedFiles.splice(tempDeletedFiles[i],1);case 8:i--;_context.next=3;break;case 11:setUploadedFiles(tempUploadedFiles);setWillBeDeletedFiles([]);case 13:case\"end\":return _context.stop();}}},_callee);}));return _handleDeleteChosenFiles.apply(this,arguments);}function togglePost(){return _togglePost.apply(this,arguments);}function _togglePost(){_togglePost=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(){var formdata,i,j,_formdata,_i2;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!(text==='')){_context2.next=3;break;}alert(\"Please enter some text\");return _context2.abrupt(\"return\");case 3:formdata=new FormData(formRef.current);if(!isEditing){_context2.next=14;break;}formdata.set('postId',postData.post._id);formdata.set('text',text);formdata.set('feeling',feeling);for(i=0;i<deletedExistingFiles.length;i++){formdata.append('deletedFile[]',deletedExistingFiles[i]);}for(j=0;j<uploadedFiles.length;j++){if(uploadedFiles[j].file){formdata.append('fileInput[]',uploadedFiles[j].file);}else{formdata.append('fileInput[]',uploadedFiles[j].fileId);}}_context2.next=12;return axios_default()({method:'post',url:'/post/editPost',data:formdata,headers:{'Content-Type':'multipart/form-data'}}).then(function(res){return res.data;}).catch(function(err){return console.log(err);}).then(function(res){if(res.result){setPost(function(prevData){var temp=[];for(var _i=0;_i<prevData.length;_i++){if(prevData[_i]._id===res.result.docs._id){temp.push(res.result.docs);}else{temp.push(prevData[_i]);}}return temp;});handlePost();}else{alert(\"Failed to edit post\");}}).catch(function(err){return console.log(err);});case 12:_context2.next=19;break;case 14:_formdata=new FormData(formRef.current);for(_i2=0;_i2<uploadedFiles.length;_i2++){_formdata.append('fileInput[]',uploadedFiles[_i2].file);}_context2.next=18;return axios_default()({method:'post',url:'/post/createPost',data:_formdata}).then(function(res){return res.data;}).catch(function(err){return console.log(err);}).then(function(res){if(res){alert(\"Memory Created!\");setPost(function(prevData){return[res].concat(Object(toConsumableArray[\"a\" /* default */])(prevData));});}else{alert(\"Opps something went wrong\");}}).catch(function(err){return console.log(err);});case 18:handlePost();case 19:case\"end\":return _context2.stop();}}},_callee2);}));return _togglePost.apply(this,arguments);}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"create-div\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"create-title\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h3\",{children:[isEditing?\"Edit\":\"Create\",\" Memory\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{onClick:handlePost,id:\"create-close-btn\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Close_default.a,{})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{ref:formRef,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"create-feeling-div\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"create-profile-pic\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Avatar[\"a\" /* default */],{src:\"/gridFs/getProfile\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"create-greeting\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[\"Hi, \",userInfo.nickname,\" how are you feeling today?\"]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"create-select\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NativeSelect[\"a\" /* default */],{value:feeling,onChange:function onChange(event){return setFeeling(event.target.value);},id:\"create-feeling\",name:\"feeling\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{\"aria-label\":\"None\",value:\"\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"happy\",children:\"Happy \\uD83D\\uDE00 \"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"sad\",children:\"Sad \\u2639\\uFE0F\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"surprise\",children:\"Surprised \\uD83D\\uDE2E\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"meh\",children:\"Meh \\uD83D\\uDE15\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"annoyed\",children:\"Annoyed \\uD83D\\uDE44\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"sleepy\",children:\"Sleepy \\uD83D\\uDE34\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"love\",children:\"Love \\uD83E\\uDD70\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"touched\",children:\"Touched \\uD83D\\uDE2D\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"shy\",children:\"Shy \\uD83D\\uDE0C\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"amazed\",children:\"Amazed \\uD83E\\uDD29\"})]})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"create-textarea\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"textarea\",{placeholder:\"What's on your mind?\",rows:\"10\",value:text,onChange:function onChange(e){return setText(e.target.value);},name:\"text\",id:\"text\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"create-gallery-div\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_photo_gallery_esm[\"a\" /* default */],{photos:uploadedFiles,renderImage:imageRenderer,id:\"create-gallery\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"create-btn-div\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{id:\"create-btn\",onClick:function onClick(){return document.getElementById('create-photo').click();},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AddPhotoAlternate_default.a,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"file\",hidden:true,id:\"create-photo\",onChange:handleUploadFiles}),uploadedFiles.length>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{id:\"create-btn\",onClick:handleDeleteChosenFiles,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Delete_default.a,{})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"create-post-div\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{variant:\"contained\",id:\"create-post-btn\",onClick:togglePost,children:\"Post\"})})]})]});}\n// EXTERNAL MODULE: ./src/css/memoryPost.css\nvar memoryPost = __webpack_require__(341);\n\n// EXTERNAL MODULE: ../node_modules/react-image-gallery/build/image-gallery.js\nvar image_gallery = __webpack_require__(192);\nvar image_gallery_default = /*#__PURE__*/__webpack_require__.n(image_gallery);\n\n// CONCATENATED MODULE: ./src/components/MemoryBook/MemoryPost.js\nfunction MemoryPost(props){var post=props.post,userId=props.userId,setIsEditing=props.setIsEditing,setPostData=props.setPostData,setIsPosting=props.setIsPosting,setPost=props.setPost;var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),openMore=_useState2[0],setOpenMore=_useState2[1];var _useState3=Object(react[\"useState\"])([]),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),url=_useState4[0],setUrl=_useState4[1];var emojiMap={\"happy\":\"😀\",\"sad\":\"☹️\",\"surprise\":\"😮\",\"meh\":\"😕\",\"annoyed\":\"🙄\",\"sleepy\":\"😴\",\"love\":\"🥰\",\"touched\":\"😭\",\"shy\":\"😌\",\"amazed\":\"🤩\"};var monthMap={\"01\":\"January\",\"02\":\"February\",\"03\":\"March\",\"04\":\"April\",\"05\":\"May\",\"06\":\"June\",\"07\":\"July\",\"08\":\"August\",\"09\":\"September\",\"10\":\"October\",\"11\":\"November\",\"12\":\"December\"};Object(react[\"useEffect\"])(/*#__PURE__*/Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var temp;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!post.fileId){_context.next=5;break;}temp=[];_context.next=4;return post.fileId.map(function(id){var url=\"/post/getPostImage/\"+id;temp.push(url);});case 4:setUrl(temp);case 5:case\"end\":return _context.stop();}}},_callee);})),[post]);function constructGalleryUrls(fileId){return fileId.map(function(id){var url=\"/post/getPostImage/\"+id;return{original:url};});}function handleEdit(){setPostData({post:post,url:url});setIsEditing(true);setIsPosting(true);setOpenMore(false);}function deletePost(){return _deletePost.apply(this,arguments);}function _deletePost(){_deletePost=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(){var formdata,i;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:formdata=new FormData();formdata.append('postId',post._id);if(post.fileId){for(i=0;i<post.fileId.length;i++){formdata.append('fileId[]',post.fileId[i]);}}_context2.next=5;return axios_default()({method:'post',url:'/post/deletePost',data:formdata,headers:{'Content-Type':'multipart/form-data'}}).then(function(res){return res.data;}).catch(function(err){return console.log(err);}).then(function(res){if(res.status){setPost(function(prevData){return prevData.filter(function(posts){return posts._id!==post._id;});});alert(\"Memory deleted\");}else{alert(\"Opps something went wrong with the server!\");}});case 5:case\"end\":return _context2.stop();}}},_callee2);}));return _deletePost.apply(this,arguments);}function formatDate(date){var today=new Date(parseInt(Date.parse(date),10));var dd=String(today.getDate()).padStart(2,'0');var mm=String(today.getMonth()+1).padStart(2,'0');//January is 0!\nvar yyyy=today.getFullYear();return dd+\" \"+monthMap[mm]+\" \"+yyyy;}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"post-div\",children:[openMore&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"post-more-div\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"post-more-option edit\",onClick:handleEdit,children:\"Edit Memory\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"post-more-option delete\",onClick:deletePost,children:\"Delete Memory\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{id:\"post-more\",onClick:function onClick(){return setOpenMore(!openMore);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MoreHoriz_default.a,{fontSize:\"medium\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"post-header\",children:[userId===post.userId?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Avatar[\"a\" /* default */],{src:\"/gridFs/getProfile\",id:\"post-avatar\"}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Avatar[\"a\" /* default */],{src:\"/gridFs/getPartnerProfile\",id:\"post-avatar\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"post-desc\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"post-feeling\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:post.nickname}),post.feeling&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h3\",{children:[\" \\xA0\\u2022 \\xA0is feeling \",post.feeling,\"\\xA0\",emojiMap[post.feeling]]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"post-time\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:formatDate(post.timeOfCreation)})})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"post-text\",children:post.text}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"post-images\",children:post.fileId&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(image_gallery_default.a,{items:constructGalleryUrls(post.fileId),showFullscreenButton:false,showPlayButton:false,showThumbnails:false,className:\"post-gallery\"})})]});}\n// CONCATENATED MODULE: ./src/components/MemoryBook/MemoryBook.js\nfunction MemoryBook(){var _useState=Object(react[\"useState\"])(),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),userInfo=_useState2[0],setUserInfo=_useState2[1];var _useState3=Object(react[\"useState\"])(),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),partnerInfo=_useState4[0],setPartnerInfo=_useState4[1];var _useState5=Object(react[\"useState\"])(),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),postData=_useState6[0],setPostData=_useState6[1];var _useState7=Object(react[\"useState\"])(false),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),isEditing=_useState8[0],setIsEditing=_useState8[1];var _useState9=Object(react[\"useState\"])(false),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),isPosting=_useState10[0],setIsPosting=_useState10[1];var _useState11=Object(react[\"useState\"])([]),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),posts=_useState12[0],setPosts=_useState12[1];var _useState13=Object(react[\"useState\"])(false),_useState14=Object(slicedToArray[\"a\" /* default */])(_useState13,2),havePartner=_useState14[0],setHavePartner=_useState14[1];var formRef=Object(react[\"useRef\"])();Object(react[\"useEffect\"])(function(){axios_default.a.get('/auth/isLoggedIn').then(function(res){return res.data;}).catch(function(err){return console.log(err);}).then(function(res){if(res.isLoggedIn){if(res.user.partner!==null){setHavePartner(true);}setUserInfo(res.user);setPartnerInfo(res.partnerInfo);axios_default()({method:'post',url:'/post/getPosts'}).then(function(res){return res.data;}).catch(function(err){return console.log(err);}).then(function(res){if(res.success){setPosts(res.posts);}});}});},[]);function handlePost(){setIsPosting(false);setIsEditing(false);setPostData();}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"memoryBook\",children:[isPosting&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CreatePost,{setPostData:setPostData,setPost:setPosts,postData:postData,handlePost:handlePost,userInfo:userInfo,setIsPosting:setIsPosting,isEditing:isEditing,setIsEditing:setIsEditing}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"memoryBook-div\",id:\"memoryBook\",style:{opacity:isPosting||isEditing?\"0.3\":\"1\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Navbar,{havePartner:havePartner}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"postDiv\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"post-option\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"Post Some Memorable Moment Here\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{variant:\"contained\",id:\"memory-create-post\",onClick:function onClick(){return setIsPosting(true);},children:\"Create Memory \\uD83E\\uDD0D\"})]})}),posts.map(function(post){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MemoryPost,{setPost:setPosts,setPostData:setPostData,setIsPosting:setIsPosting,isEditing:isEditing,setIsEditing:setIsEditing,post:post,userId:userInfo._id},post._id);})]})]});}\n// CONCATENATED MODULE: ./src/App.js\n// import './App.css';\nfunction App(props){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"main\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"c\" /* Switch */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/\",exact:true,component:Home}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/login\",exact:true,component:Login}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/userProfileForm\",exact:true,component:UserProfileForm}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/cinema\",exact:true,component:Cinema}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/memoryBook\",exact:true,component:MemoryBook}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SocketContext_ContextProvider,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/chatRoom\",exact:true,component:ChatRoom})})]})});}\n// CONCATENATED MODULE: ./src/reportWebVitals.js\nvar reportWebVitals=function reportWebVitals(onPerfEntry){if(onPerfEntry&&onPerfEntry instanceof Function){__webpack_require__.e(/* import() */ 3).then(__webpack_require__.bind(null, 403)).then(function(_ref){var getCLS=_ref.getCLS,getFID=_ref.getFID,getFCP=_ref.getFCP,getLCP=_ref.getLCP,getTTFB=_ref.getTTFB;getCLS(onPerfEntry);getFID(onPerfEntry);getFCP(onPerfEntry);getLCP(onPerfEntry);getTTFB(onPerfEntry);});}};/* harmony default export */ var src_reportWebVitals = (reportWebVitals);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/ // <ContextProvider>\nObject(jsx_runtime[\"jsx\"])(react_router_dom[\"a\" /* BrowserRouter */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(App,{})})// </ContextProvider>  \n,document.getElementById('root'));// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nsrc_reportWebVitals();\n\n/***/ })\n\n},[[355,1,2]]]);","inputSourceMap":{"version":3,"sources":["C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\PC\\temp\\couplove\\client\\src\\css\\login.css","C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\PC\\temp\\couplove\\client\\src\\css\\activity.css","C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\PC\\temp\\couplove\\client\\src\\css\\navbar.css","C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\PC\\temp\\couplove\\client\\src\\css\\requestList.css","C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\PC\\temp\\couplove\\client\\src\\css\\home.css","C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\PC\\temp\\couplove\\client\\src\\css\\profileInfo.css","C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\PC\\temp\\couplove\\client\\src\\css\\inputBox.css","C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\PC\\temp\\couplove\\client\\src\\css\\chatroom.css","C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\PC\\temp\\couplove\\client\\src\\css\\chatNav.css","C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\PC\\temp\\couplove\\client\\src\\css\\chatBubble.css","ignored C:\\Users\\PC\\temp\\couplove\\node_modules\\simple-peer\\node_modules\\readable-stream\\lib util","ignored C:\\Users\\PC\\temp\\couplove\\node_modules\\simple-peer\\node_modules\\readable-stream\\lib\\internal\\streams util","C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\PC\\temp\\couplove\\client\\src\\css\\videoCall.css","C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\PC\\temp\\couplove\\client\\src\\css\\videoPlayer.css","C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\PC\\temp\\couplove\\client\\src\\css\\memoryBook.css","C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\PC\\temp\\couplove\\client\\src\\css\\createPost.css","C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\PC\\temp\\couplove\\client\\src\\css\\memoryPost.css","C:/Users/PC/temp/couplove/client/src/components/Login.js","C:/Users/PC/temp/couplove/client/src/components/ActivityPane.js","C:/Users/PC/temp/couplove/client/src/components/RequestInfo.js","C:/Users/PC/temp/couplove/client/src/components/PartnerReq.js","C:/Users/PC/temp/couplove/client/src/components/Navbar.js","C:/Users/PC/temp/couplove/client/src/components/Home.js","C:/Users/PC/temp/couplove/client/src/components/UserProfileForm.js","C:/Users/PC/temp/couplove/client/src/components/InputBox.js","C:/Users/PC/temp/couplove/client/src/components/ChatNav.js","C:/Users/PC/temp/couplove/client/src/components/ChatBubble.js","C:/Users/PC/temp/couplove/client/src/SocketContext.js","C:/Users/PC/temp/couplove/client/src/components/VideoRespond.js","C:/Users/PC/temp/couplove/client/src/components/VideoCall.js","C:/Users/PC/temp/couplove/client/src/components/ChatRoom.js","C:/Users/PC/temp/couplove/client/src/components/VideoList.js","C:/Users/PC/temp/couplove/client/src/components/VideoUploadDiv.js","C:/Users/PC/temp/couplove/client/src/components/Cinema.js","C:/Users/PC/temp/couplove/client/src/components/SelectedImage.js","C:/Users/PC/temp/couplove/client/src/components/MemoryBook/CreatePost.js","C:/Users/PC/temp/couplove/client/src/components/MemoryBook/MemoryPost.js","C:/Users/PC/temp/couplove/client/src/components/MemoryBook/MemoryBook.js","C:/Users/PC/temp/couplove/client/src/App.js","C:/Users/PC/temp/couplove/client/src/reportWebVitals.js","C:/Users/PC/temp/couplove/client/src/index.js"],"names":["Login","handleGoogleClick","window","location","href","ActivityPane","props","title","desc","link","open","RequestInfo","reqInfo","setHavePartner","setRequestList","url","senderId","acceptPartner","event","preventDefault","formdata","FormData","append","axios","method","data","headers","then","res","catch","err","console","log","result","prev","filter","info","declinePartner","header","alert","senderNickname","PartnerReq","requestList","map","Navbar","handleSendReq","formRef","havePartner","isHome","useState","viewList","setViewList","handleChangeBackground","target","files","reload","color","document","getElementById","click","useStyles","makeStyles","theme","formControl","minWidth","large","width","spacing","height","Home","userInfo","setUserInfo","partnerInfo","setPartnerInfo","roomId","setRoomId","reqId","setReqId","dayWidget","setDayWidget","specialWidget","setSpecialWidget","bdayWidget","setBdayWidget","dateOfRelation","setDateOfRelation","isSetting","setIsSetting","Date","date","setDate","totalDay","setTotalDay","userBday","setUserBday","partnerBday","setPartnerBday","yourCountDown","setYourCountDown","partnerCountDown","setPartnerCountDown","upComingEvent","setUpComingEvent","upComingDay","setUpComingDay","backgroundUrl","setBackgroundUrl","setIsHome","useRef","acceptRef","dateRef","monthMap","useEffect","ac","AbortController","get","isLoggedIn","user","nickname","undefined","style","visibility","anniverse","dateOfRelationship","month","getMonth","day","getDate","specialEvent","widget","i","length","type","current","original","difference","getTime","parseInt","partner","formatDate","dateOfBirth","you","date1","date2","setFullYear","getFullYear","temp1","temp2","Math","abs","currentDate","currentYear","closest","temp","round","requests","list","push","cancel","abort","today","parse","dd","String","padStart","mm","yyyy","handleLogout","formData","isSent","status","value","onHoverAddWidget","opacity","offHoverAddWidget","handleCreateWidget","display","handleUpdateDate","onHoverWidget","offHoverWidget","handleDeleteWidget","backgroundImage","DateFnsUtils","borderBottom","genders","label","marginTop","UserProfileForm","setNickname","bio","setBio","croppedUrl","setCroppedUrl","uploaded","setUploaded","dob","setDob","gender","setGender","newProfile","setNewProfile","setPartner","setDateOfRelationship","classes","reader","FileReader","onload","setAttribute","readAsDataURL","handleSubmit","toggleNewFile","file","uploadFile","e","option","marginLeft","InputBox","handleSendMsg","ChatNav","toggleBackHome","partnerStatus","toggleVideoCall","callAccepted","readyDisplay","setReadyDisplay","isOnline","setIsOnline","openMore","setOpenMore","imgRef","_id","toggleChangeBackground","ChatBubble","textInfo","userId","text","SocketContext","createContext","ENDPOINT","socket","isCaller","isAnswered","name","ContextProvider","children","setCallAccepted","callEnded","setCallEnded","stream","setStream","call","setCall","setUserId","newMessage","setNewMessage","partnerId","setPartnerId","isCalling","setIsCalling","noCall","setNoCall","users","setUsers","myVideo","userVideo","connectionRef","io","on","chat","callUser","marginRight","from","callerName","signal","isReceivingCall","leaveCall","startCall","emit","joinRoom","audio","muteAudio","getAudioTracks","enabled","video","muteVideo","getVideoTracks","sendMsg","msg","declineCall","answerCall","navigator","mediaDevices","getUserMedia","currentStream","local","srcObject","peer","Peer","initiator","trickle","to","signalData","destroy","VideoRespond","useContext","initializeVideo","answer","VideoCall","isMuted","setIsMuted","isDisplayed","setIsDisplayed","handleMute","handleDisplay","ChatRoom","setText","userNickname","setUserNickname","messages","setMessages","isUser","setIsUser","setPartnerStatus","scrollDir","setScrollDir","me","onBoth","backgroundSize","chatInfo","chats","reverse","roomInfo","prevData","scrollTo","scrollHeight","index","VideoList","handleChooseMovie","setFiles","dropdown","setDropdown","handleDropDown","state","top","handleDeleteVideo","videoId","filename","aliases","VideoUploadDiv","openUpload","setOpenUpload","uploadProgress","setUploadProgress","handleUploadDiv","displayFileName","textContent","handleUploadVideo","onUploadProgress","progressEvent","progress","loaded","total","Cinema","handle","useFullScreenHandle","ready","setReady","play","setPlay","openUrl","setOpenUrl","setUrl","buffering","setBuffering","volume","setVolume","isLoud","setIsLoud","isFullScreen","setIsFullScreen","videoRef","urlRef","readyToPlay","initialRun","time","getCurrentTime","seekTo","pointed","displayProgress","point","getDuration","left","handleProgressChange","progressBarWidth","choose","nativeEvent","offsetX","offsetWidth","handleVideoState","submitUrl","choosenUrl","handleUrlDiv","handlePlayerVolume","actualVolume","parseFloat","handleBigScreen","controls","enter","bottom","background","exit","Checkmark","selected","position","zIndex","fill","imgStyle","transition","selectedImgStyle","transform","cont","backgroundColor","cursor","overflow","SelectedImage","photo","margin","direction","handleChooseNotToDeleteFile","handleChooseToDeleteFile","isSelected","setIsSelected","actualHeight","sx","sy","handleOnClick","CreatePost","setPost","handlePost","setIsPosting","setIsEditing","isEditing","postData","setPostData","uploadedFiles","setUploadedFiles","feeling","setFeeling","willBeDeletedFiles","setWillBeDeletedFiles","deletedExistingFiles","setDeletedExistingFiles","selectAll","imageRenderer","useCallback","key","post","fileId","id","src","val","handleUploadFiles","re","test","URL","createObjectURL","handleDeleteChosenFiles","tempDeletedFiles","sort","tempUploadedFiles","splice","togglePost","set","j","docs","MemoryPost","emojiMap","constructGalleryUrls","handleEdit","deletePost","posts","timeOfCreation","MemoryBook","isPosting","setPosts","success","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","/* (ignored) */","/* (ignored) */","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","import Button from '@material-ui/core/Button';\r\nimport '../css/login.css';\r\n\r\nexport default function Login(){\r\n\r\n\r\n    function handleGoogleClick()\r\n    {\r\n        window.location.href = \"/auth/google\";\r\n    }\r\n\r\n    return <div className=\"login-page-div\">\r\n        <div className=\"login-page\">\r\n        <div className=\"title\"><h1>Welcome to Couplove!</h1></div>\r\n        <Button variant=\"contained\" onClick={handleGoogleClick} id=\"home-login-btn\">\r\n            <img src=\"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg\" className=\"g-logo\"/>\r\n            &nbsp;&nbsp;Login With Google</Button>\r\n        </div>\r\n    </div>\r\n}","import Button from '@material-ui/core/Button';\r\nimport { useContext } from 'react';\r\nimport '../css/activity.css';\r\n\r\nexport default function ActivityPane(props)\r\n{\r\n    const \r\n    {\r\n        title,\r\n        desc,\r\n        link,\r\n    }=props;\r\n\r\n    return<div className=\"activity-panel\">\r\n        <div className=\"activity-title\">\r\n        <h1>{title}</h1>\r\n        </div>\r\n        <div className=\"activity-desc\">\r\n        <h4>{desc}</h4>\r\n        </div>\r\n        <Button\r\n        variant=\"outlined\"\r\n        id=\"activity-btn\"\r\n        onClick={()=>{\r\n            window.open(link,'_self');\r\n        }}\r\n        >\r\n            Enter\r\n        </Button>\r\n    </div>\r\n}","import ReactAvatar from '@material-ui/core/Avatar';\r\nimport CheckIcon from '@material-ui/icons/Check';\r\nimport { IconButton } from '@material-ui/core';\r\nimport ClearIcon from '@material-ui/icons/Clear';\r\n\r\nimport axios from 'axios';\r\n\r\n\r\n\r\n\r\nexport default function RequestInfo(props)\r\n{\r\n    const {reqInfo,setHavePartner,setRequestList} = props;\r\n    const url = \"/gridFs/getOtherProfile/\"+reqInfo.senderId;\r\n\r\n\r\n    function acceptPartner(event)\r\n    {\r\n      event.preventDefault();\r\n      const formdata = new FormData();\r\n      formdata.append('senderId',reqInfo.senderId);\r\n      axios({\r\n        method:'post',\r\n        url:'/user/acceptRequest',\r\n        data:formdata,\r\n        headers: {'Content-Type': 'multipart/form-data'}\r\n      })\r\n      .then(res=>res.data)\r\n      .catch(err=>console.log(err))\r\n      .then(res=>{\r\n        if(res.result)\r\n        {\r\n          setRequestList(prev=>{\r\n            return prev.filter(info=>{\r\n              return info.senderId!==reqInfo.senderId\r\n            })\r\n          })\r\n          setHavePartner(true);\r\n        }\r\n      })\r\n    }\r\n    async function declinePartner(event)\r\n    {\r\n      event.preventDefault();\r\n      const formdata = new FormData();\r\n      formdata.append('senderId',reqInfo.senderId)\r\n      await axios({\r\n        method:'post',\r\n        url:'/user/declineUser',\r\n        data:formdata,\r\n        header:{'Content-Type': 'multipart/form-data'}\r\n      })\r\n      .then(res=>res.data)\r\n      .catch(err=>console.log(err))\r\n      .then(res=>{\r\n        if(res)\r\n        {\r\n          setRequestList(prev=>{\r\n            return prev.filter(info=>{\r\n              return info.senderId!==reqInfo.senderId\r\n            })\r\n          })\r\n        }\r\n        else\r\n        {\r\n          alert(\"Opps something wrong with the server\")\r\n        }\r\n      })\r\n      \r\n    }\r\n\r\n    return <div className=\"info-div\">\r\n        <div className=\"info-sender-profile-div\">\r\n            <ReactAvatar\r\n            id=\"info-sender-avatar\"\r\n            src={url}\r\n            />\r\n        </div>\r\n        <div className=\"info-sender-desc\">\r\n            {reqInfo.senderNickname} wants to be your partner<br/>\r\n            <IconButton id=\"info-req-option\" onClick={acceptPartner} ><CheckIcon/></IconButton>\r\n            <IconButton id=\"info-req-option\" onClick={declinePartner}><ClearIcon/></IconButton>\r\n        </div>\r\n    </div>\r\n}","import '../css/requestList.css';\r\n\r\nimport RequestInfo from './RequestInfo';\r\n\r\n\r\n\r\n\r\nexport default function PartnerReq(props)\r\n{\r\n    const {requestList,setHavePartner,setRequestList} = props;\r\n    \r\n\r\n    return<div className=\"req-list-div\">\r\n        {requestList.map(info=>{\r\n            return <RequestInfo setRequestList={setRequestList} reqInfo={info} setHavePartner={setHavePartner}/>\r\n        })}\r\n    </div>\r\n}","import '../css/navbar.css';\r\n\r\nimport PartnerReq from  './PartnerReq';\r\nimport PeopleAltIcon from '@material-ui/icons/PeopleAlt';\r\nimport { IconButton } from '@material-ui/core';\r\nimport { useState,useRef } from 'react';\r\nimport PhotoIcon from '@material-ui/icons/Photo';\r\nimport axios from 'axios';\r\n\r\nexport default function Navbar(props)\r\n{\r\n    const {handleSendReq,formRef,havePartner,requestList,setHavePartner,setRequestList,isHome} = props;\r\n    const [viewList,setViewList] = useState(false);\r\n\r\n\r\n    \r\n    async function handleChangeBackground(event)\r\n    {\r\n      await axios({\r\n        method:'post',\r\n        url:'/home/checkExist'\r\n      })\r\n      const formdata = new FormData();\r\n      formdata.append('file',event.target.files[0]);\r\n        await axios({\r\n          method:'post',\r\n          url:'/home/upload',\r\n          data:formdata,\r\n          headers:{'Content-Type':'multipart/formdata'}\r\n        })\r\n        .then(res=>res.data)\r\n        .catch(err=>console.log(err))\r\n        .then(res=>{\r\n            window.location.reload();\r\n        })\r\n    }\r\n\r\n    return<div className=\"nav-div\">\r\n        <div className=\"nav-title\" onClick={()=>window.open('/','_self')}><h3>Couplove</h3></div>\r\n        <div className=\"nav-activity-div\">\r\n        <div className=\"nav-activity logout\"  onClick={()=>window.location.href = \"/auth/logout\"}>Logout</div> \r\n        {isHome&&<IconButton style={{color:\"white\"}} onClick={()=>document.getElementById('background-file').click()}><PhotoIcon/></IconButton>}\r\n        {isHome&&<input type=\"file\"  hidden id=\"background-file\" onChange={handleChangeBackground} name=\"file\"/>}\r\n        <div className=\"nav-activity profile\"  onClick={()=>window.location.href = \"/userProfileForm\"}>Profile</div> \r\n        {havePartner&&<div className=\"nav-activity chat\" onClick={()=>window.open('/chatRoom','_self')}>Chat Room</div>}\r\n        {havePartner&&<div className=\"nav-activity cinema\" onClick={()=>window.open('/cinema','_self')}>Cinema</div>}\r\n        {havePartner&&<div className=\"nav-activity memory\" onClick={()=>window.open('/memoryBook','_self')}>Memory Book</div>}\r\n        {!havePartner&&<div className=\"nav-sendRequest\">\r\n        <form onSubmit={handleSendReq} ref={formRef}>\r\n        <input type=\"text\" id=\"reqId\" name=\"reqId\" placeholder=\"Partner ID\"/>\r\n        <input type=\"submit\" value=\"+\" className=\"nav-submit\" />\r\n        </form>    \r\n        </div>}\r\n        {!havePartner&&<div className=\"nav-request\">\r\n        <IconButton style={{color:\"whitesmoke\"}} onClick={()=>setViewList(!viewList)}><PeopleAltIcon/></IconButton>\r\n        {viewList&&<PartnerReq requestList={requestList} setHavePartner={setHavePartner} setRequestList={setRequestList} />}\r\n        </div>}\r\n        </div>\r\n    </div>\r\n}","import {useEffect, useState, useRef} from 'react';\r\nimport axios from 'axios';\r\nimport ReactAvatar from '@material-ui/core/Avatar';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport Activity from './ActivityPane';\r\nimport Navbar from '../components/Navbar';\r\nimport '../css/home.css';\r\nimport { IconButton } from '@material-ui/core';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport ClearIcon from '@material-ui/icons/Clear';\r\nimport {\r\n  MuiPickersUtilsProvider,\r\n  KeyboardDatePicker,\r\n} from '@material-ui/pickers';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  formControl: {\r\n    minWidth: \"100%\",\r\n  },\r\n  large: {\r\n    width: theme.spacing(17),\r\n    height: theme.spacing(17),\r\n  },\r\n}));\r\nexport default function Home()\r\n{\r\n  const [userInfo,setUserInfo] = useState();\r\n  const [partnerInfo,setPartnerInfo]= useState();\r\n  const [havePartner,setHavePartner] = useState(false);\r\n  const [roomId,setRoomId] = useState();\r\n  const [reqId,setReqId] = useState();\r\n  const [requestList,setRequestList]= useState([]);\r\n  const [dayWidget,setDayWidget] = useState(false);\r\n  const [specialWidget,setSpecialWidget] = useState(false);\r\n  const [bdayWidget,setBdayWidget] = useState(false);\r\n  const [dateOfRelation,setDateOfRelation] = useState(false);\r\n  const [isSetting,setIsSetting] = useState(false);\r\n  const [date,setDate] = useState(new Date());\r\n  const [totalDay,setTotalDay] = useState();\r\n  const [userBday,setUserBday] = useState();\r\n  const [partnerBday,setPartnerBday] = useState();\r\n  const [yourCountDown,setYourCountDown] = useState();\r\n  const [partnerCountDown,setPartnerCountDown] = useState();\r\n  const [upComingEvent,setUpComingEvent] = useState();\r\n  const [upComingDay,setUpComingDay] = useState();\r\n  const [backgroundUrl,setBackgroundUrl] = useState('');\r\n  const [isHome,setIsHome] = useState(true);\r\n\r\n  const formRef = useRef();\r\n  const acceptRef = useRef();\r\n  const dateRef = useRef();\r\n  \r\n\r\n  const monthMap = {\r\n    \"01\": \"January\",\r\n    \"02\": \"February\",\r\n    \"03\": \"March\",\r\n    \"04\": \"April\",\r\n    \"05\": \"May\",\r\n    \"06\": \"June\",\r\n    \"07\": \"July\",\r\n    \"08\": \"August\",\r\n    \"09\": \"September\",\r\n    \"10\": \"October\",\r\n    \"11\": \"November\",\r\n    \"12\": \"December\",\r\n  }\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        const ac = new AbortController();\r\n        axios.get('/auth/isLoggedIn')\r\n        .then(res =>res.data)\r\n        .catch(err => console.log(err))\r\n        .then(res => {\r\n          if (res.isLoggedIn===false)\r\n          {\r\n             window.open('/login','_self');\r\n          }\r\n          else\r\n          {\r\n            if(res.user.nickname===undefined)\r\n            {\r\n              window.open('/userProfileForm','_self');\r\n            }\r\n            else\r\n            {\r\n\r\n              axios.get('/home/getBackground')\r\n              .then(res=>res.data)\r\n              .catch(err=>console.log(err))\r\n              .then(res=>{\r\n                if(!res)\r\n                {\r\n                  setBackgroundUrl('https://s3-us-west-2.amazonaws.com/s.cdpn.io/751678/my-illustration-background.png');\r\n                  document.getElementById('foreground').style.visibility=\"visible\";\r\n                }\r\n                else\r\n                {\r\n                  setBackgroundUrl('/home/getBackground');\r\n                  document.getElementById('foreground').style.visibility=\"hidden\";\r\n                }\r\n              })\r\n\r\n              let anniverse = new Date(res.user.dateOfRelationship);\r\n              let month = anniverse.getMonth()+1;\r\n              let day = anniverse.getDate();\r\n              let date =\"0\"+ month+\"/\"+day;\r\n              const specialEvent = [\r\n                {date:\"02/14\",event:\"Valentines Day\"},\r\n                {date:\"05/20\",event:\"520 Day\"},\r\n                {date:\"12/25\",event:\"Christmas Day\"},\r\n                {date:\"12/31\",event:\"New Year Eve\"},\r\n                {date:date,event:\"Anniversary Day\"},\r\n           \r\n             ]\r\n\r\n              setPartnerInfo(res.partnerInfo);\r\n              setUserInfo(res.user);\r\n              if(res.user.dateOfRelationship!==null)\r\n              {\r\n                setDateOfRelation(true);\r\n                setDate(res.user.dateOfRelationship);\r\n                if(res.widget)\r\n                {\r\n                    for(let i=0;i<res.widget.widget.length;i++)\r\n                    {\r\n                      if(res.widget.widget[i].type===\"day\")\r\n                      {\r\n                        setDayWidget(true);\r\n                        let current = new Date();\r\n                        let original = new Date(res.user.dateOfRelationship);\r\n                        let difference = current.getTime()-original.getTime();\r\n                        let day = difference/ (1000 * 3600 * 24);\r\n                        setTotalDay(parseInt(day)+1);\r\n                      }\r\n                      else if(res.widget.widget[i].type===\"bday\")\r\n                      {\r\n                        \r\n                        const partner = formatDate(res.partnerInfo.dateOfBirth);\r\n                        const you = formatDate(res.user.dateOfBirth);\r\n                        setPartnerBday(partner);\r\n                        setUserBday(you);\r\n                        const current = new Date();\r\n                        const date1 = new Date(res.partnerInfo.dateOfBirth);\r\n                        const date2 = new Date(res.user.dateOfBirth);\r\n                        date1.setFullYear(current.getFullYear());\r\n                        date2.setFullYear(current.getFullYear());\r\n                        if(current>date1)\r\n                        {\r\n                          date1.setFullYear(current.getFullYear()+1);\r\n                        }\r\n                        if(current>date2)\r\n                        {\r\n                          date2.setFullYear(current.getFullYear()+1);\r\n                        }\r\n                        const temp1 = parseInt((date1.getTime()-current.getTime())/ (1000 * 3600 * 24));\r\n                        const temp2 = parseInt((date2.getTime()-current.getTime())/ (1000 * 3600 * 24));\r\n                        if(temp1===0)\r\n                        {\r\n                          setPartnerCountDown(\"Today is your partner's Birthday!\");\r\n                        }\r\n                        else{\r\n                          setPartnerCountDown(Math.abs(temp1));\r\n                        }\r\n                        if(temp2===0)\r\n                        {\r\n                          setYourCountDown(\"Today is your Birthday!\")\r\n                        }\r\n                        else\r\n                        {\r\n                           setYourCountDown(Math.abs(temp2));\r\n                        }\r\n                        setBdayWidget(true);\r\n                      }\r\n                      else if(res.widget.widget[i].type===\"special\")\r\n                      {\r\n                        setSpecialWidget(true);\r\n                        const currentDate = new Date();\r\n                        const currentYear = currentDate.getFullYear();\r\n                        let closest =99999999999;\r\n                        specialEvent.map(date=>{\r\n                          let temp = new Date(currentYear+\"/\"+date.date);\r\n                          if(currentDate>temp)\r\n                          {\r\n                            temp.setFullYear(currentDate+1);\r\n                          }\r\n                          let result = Math.abs((parseInt(currentDate.getTime()-temp.getTime())/ (1000 * 3600 * 24)));\r\n                          if(result<closest)\r\n                          {\r\n                            closest = result+1;\r\n                            setUpComingEvent(date.event);\r\n                          }\r\n                        })\r\n                        if(Math.round(closest)===0)\r\n                        {\r\n                          setUpComingDay(\"Today is \"+date.event+\" !\");\r\n                        }\r\n                        else\r\n                        {\r\n                          setUpComingDay(Math.round(closest));\r\n                        }\r\n                        \r\n                        \r\n                      }\r\n                    }\r\n                }\r\n              }\r\n              axios({\r\n                method:'get',\r\n                url:'/user/getRequest',\r\n                headers: {'Content-Type': 'multipart/form-data'}\r\n              })\r\n              .then(res=>res.data)\r\n              .catch(err=>console.log(err))\r\n              .then(res=>{\r\n                let temp=[];\r\n                res.requests.map(list=>{\r\n                  temp.push({...list});\r\n                })\r\n                setRequestList(temp);\r\n              })\r\n              if(res.user.partner!==null)\r\n              {\r\n                setHavePartner(true); \r\n              }\r\n             \r\n            }\r\n          } \r\n        })\r\n        return function cancel() {\r\n          ac.abort()\r\n        }\r\n      },[dayWidget,specialWidget,bdayWidget]);\r\n\r\n      \r\n      function formatDate(date) {\r\n        const today = new Date(parseInt(Date.parse(date), 10));\r\n        var dd = String(today.getDate()).padStart(2, '0');\r\n        var mm = String(today.getMonth() + 1).padStart(2, '0'); //January is 0!\r\n        var yyyy = today.getFullYear();\r\n        // return mm + '/' + dd + '/' + yyyy;\r\n        return dd + \" \" + monthMap[mm] \r\n      }\r\n      function handleLogout()\r\n      {\r\n        window.location.href = \"/auth/logout\";\r\n      }\r\n      function handleSendReq(event)\r\n      {\r\n        event.preventDefault();\r\n        const formData = new FormData(formRef.current);\r\n        axios({\r\n          method:'post',\r\n          url:'/user/sendRequest',\r\n          data:formData,\r\n          headers: {'Content-Type': 'multipart/form-data'}\r\n        })\r\n        .then(res=>res.data)\r\n        .catch(err=>console.log(err))\r\n        .then(res=>{\r\n          if(res.isSent)\r\n          {\r\n             alert(\"sent!\");\r\n          }\r\n          else\r\n          {\r\n            alert(res.status);\r\n            console.log(res)\r\n          }\r\n        })\r\n        document.getElementById('reqId').value = \"\";\r\n      }\r\n      requestList.map(list=>{\r\n        console.log(list);\r\n      })\r\n\r\n      \r\n\r\n      function onHoverAddWidget(type)\r\n      {\r\n        if(type===\"special\")\r\n        {\r\n          document.getElementById('hover-special').style.opacity=\"1\";\r\n        }\r\n        else if(type===\"day\")\r\n        {\r\n          document.getElementById('hover-day').style.opacity=\"1\";\r\n        }\r\n        else if(type===\"bday\")\r\n        {\r\n          document.getElementById('hover-bday').style.opacity=\"1\";\r\n        }\r\n      }\r\n\r\n      function offHoverAddWidget(type)\r\n      {\r\n        if(type===\"special\")\r\n        {\r\n          document.getElementById('hover-special').style.opacity=\"0\";\r\n        }\r\n        else if(type===\"day\")\r\n        {\r\n          document.getElementById('hover-day').style.opacity=\"0\";\r\n        }\r\n        else if(type===\"bday\")\r\n        {\r\n          document.getElementById('hover-bday').style.opacity=\"0\";\r\n        }\r\n      }\r\n\r\n      async function handleCreateWidget(type)\r\n      {\r\n        if(type===\"day\")\r\n        {\r\n          if(dateOfRelation)\r\n          {\r\n            const formdata = new FormData();\r\n            formdata.append('type',type);\r\n            await axios({\r\n              method:'post',\r\n              url:'/widget/createWidget',\r\n              data:formdata,\r\n              headers:{'Content-Type': 'multipart/form-data'}\r\n            })\r\n            .then(res=>res.data)\r\n            .catch(err=>console.log(err))\r\n            .then(res=>{\r\n              setDayWidget(true);\r\n            })  \r\n          }\r\n          else\r\n          {\r\n            document.getElementById(\"noDayWidget\").style.display=\"none\";\r\n            setIsSetting(true);\r\n          }\r\n        }\r\n        else if(type===\"bday\")\r\n        {\r\n          const formdata = new FormData();\r\n          formdata.append('type',\"bday\");\r\n          await axios({\r\n            method:'post',\r\n            url:'/widget/createWidget',\r\n            data:formdata,\r\n            headers:{'Content-Type': 'multipart/form-data'}\r\n          })\r\n          .then(res=>res.data)\r\n          .catch(err=>console.log(err))\r\n          .then(res=>{\r\n            if(res)\r\n            {\r\n              setBdayWidget(true);\r\n            }\r\n          })\r\n        }\r\n        else if(type===\"special\")\r\n        {\r\n          const formdata = new FormData();\r\n          formdata.append('type',\"special\");\r\n          await axios({\r\n            method:'post',\r\n            url:'/widget/createWidget',\r\n            data:formdata,\r\n            headers:{'Content-Type':'multipart/formdata'}\r\n          })\r\n          .then(res=>res.data)\r\n          .catch(err=>console.log(err))\r\n          .then(res=>{\r\n            if(res)\r\n            {\r\n              setSpecialWidget(true);\r\n            }\r\n          })\r\n        }\r\n      }\r\n\r\n      async function handleUpdateDate(event)\r\n      {\r\n        event.preventDefault();\r\n        const formdata = new FormData(dateRef.current);\r\n        formdata.append('type',\"day\");\r\n        await axios({\r\n          method:'post',\r\n          url:'/widget/createWidget',\r\n          data:formdata,\r\n          headers:{'Content-Type': 'multipart/form-data'}\r\n        })\r\n        .then(res=>res.data)\r\n        .catch(err=>console.log(err))\r\n        .then(res=>{\r\n          setIsSetting(false);\r\n          setDayWidget(true);\r\n        })\r\n      }\r\n\r\n      function onHoverWidget(type)\r\n      {\r\n        if(type===\"day\")\r\n        {\r\n          document.getElementById(\"home-delete-dayWidget\").style.visibility = \"visible\";\r\n        }\r\n        else if(type===\"bday\")\r\n        {\r\n          document.getElementById('home-delete-bdayWidget').style.visibility = \"visible\";\r\n        }\r\n        else if(type===\"special\")\r\n        {\r\n          document.getElementById('home-delete-specialWidget').style.visibility = \"visible\";\r\n        }\r\n      }\r\n      function offHoverWidget()\r\n      {\r\n        if(dayWidget)\r\n        document.getElementById(\"home-delete-dayWidget\").style.visibility = \"hidden\";\r\n        if(bdayWidget)\r\n        document.getElementById('home-delete-bdayWidget').style.visibility =\"hidden\";\r\n        if(specialWidget)\r\n        document.getElementById('home-delete-specialWidget').style.visibility = \"hidden\";\r\n      }\r\n\r\n      async function handleDeleteWidget(type)\r\n      {\r\n         const formdata = new FormData();\r\n         formdata.append('type',type);\r\n         await axios({\r\n           method:'post',\r\n           url:'/widget/deleteWidget',\r\n           data:formdata,\r\n           headers:{'Content-Type': 'multipart/form-data'}\r\n         })\r\n         .then(res=>res.data)\r\n         .catch(err=>console.log(err))\r\n         .then(res=>{\r\n           if(res)\r\n           {\r\n             if(type===\"day\")\r\n             setDayWidget(false)\r\n             if(type===\"bday\")\r\n             setBdayWidget(false)\r\n             if(type===\"special\")\r\n             setSpecialWidget(false)\r\n           }\r\n         })\r\n      }\r\n\r\n\r\n    return <div className=\"home-div\">\r\n      <Navbar isHome={isHome} setRequestList={setRequestList} setHavePartner={setHavePartner}  requestList={requestList} havePartner={havePartner} handleSendReq={handleSendReq} formRef = {formRef} handleLogout={handleLogout} handleSendReq={handleSendReq} acceptRef={acceptRef}/>\r\n      <div className=\"home-background\" style={{backgroundImage:\"url(\"+backgroundUrl+\")\"}}>\r\n        <div className=\"home-overlay\">\r\n            <div className=\"home-widget anniverse\">\r\n            {!havePartner&&<div className=\"home-noPartner\">You need to have a partner to access this widget</div>}\r\n            {specialWidget?\r\n            <div className=\"home-event-div\" onMouseOut={offHoverWidget} onMouseOver={()=>onHoverWidget(\"special\")}>\r\n              <IconButton id=\"home-delete-specialWidget\" onClick={()=>handleDeleteWidget(\"special\")}><ClearIcon/></IconButton>\r\n              <div className=\"home-event-title\">\r\n                <h3>Up Coming Event:</h3><br/>\r\n                <h1>{upComingEvent}</h1>\r\n              </div>\r\n              <div className=\"home-event-day\">\r\n              <h1>{upComingDay} days left</h1>\r\n              </div>\r\n            </div>\r\n            :\r\n            <div className=\"home-noWidget\">\r\n              <IconButton id=\"home-add-widget\" onClick={()=>handleCreateWidget(\"special\")} onMouseOver={()=>onHoverAddWidget(\"special\")} onMouseOut={()=>offHoverAddWidget(\"special\")}><AddIcon fontSize=\"large\"/></IconButton>\r\n              <div className=\"home-add-hover\" id=\"hover-special\">Add this widget to get to know up coming special events</div>\r\n            </div>}\r\n            </div>\r\n            <div className=\"home-widget days\">\r\n            {!havePartner&&<div className=\"home-noPartner\">You need to have a partner to access this widget</div>}\r\n            {dayWidget?\r\n            <div className=\"home-totalDay-widget\"  onMouseOut={offHoverWidget} onMouseOver={()=>onHoverWidget(\"day\")}><IconButton id=\"home-delete-dayWidget\" onClick={()=>handleDeleteWidget(\"day\")}><ClearIcon/></IconButton><h1>{totalDay} DAYS</h1></div>\r\n            :\r\n            <div className=\"home-noWidget\"  id=\"noDayWidget\">\r\n              <IconButton id=\"home-add-widget\"  onClick={()=>handleCreateWidget(\"day\")} onMouseOver={()=>onHoverAddWidget(\"day\")} onMouseOut={()=>offHoverAddWidget(\"day\")}><AddIcon fontSize=\"large\"/></IconButton>\r\n              <div className=\"home-add-hover\" id=\"hover-day\">Add this widget to get to know total days together</div>\r\n            </div>}\r\n            {isSetting&&<div className=\"home-setDate\">\r\n              <div className=\"home-setDate-title\"><h2>Please set the date of you with your partner</h2></div>\r\n            <form onSubmit={handleUpdateDate} ref={dateRef}>\r\n            <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n            <KeyboardDatePicker\r\n              margin=\"normal\"\r\n              id=\"dateOfRelation\"\r\n              label=\"Date of Relationship\"\r\n              name=\"dateOfRelation\"\r\n              format=\"MM/dd/yyyy\"\r\n              value={date}\r\n              onChange={(date) => {setDate(date)}}\r\n              KeyboardButtonProps={{\r\n                'aria-label': 'change date',\r\n              }}\r\n            />\r\n          </MuiPickersUtilsProvider>\r\n          <Button type=\"submit\" id=\"home-submit-day\">SUBMIT</Button>\r\n          </form>\r\n            </div>}\r\n            </div>\r\n            <div className=\"home-widget special\">\r\n              {!havePartner&&<div className=\"home-noPartner\">You need to have a partner to access this widget</div>}\r\n            {bdayWidget?\r\n            <div className=\"home-dob-div\" onMouseOut={offHoverWidget} onMouseOver={()=>onHoverWidget(\"bday\")}>\r\n              <IconButton id=\"home-delete-bdayWidget\" onClick={()=>handleDeleteWidget(\"bday\")}><ClearIcon/></IconButton>\r\n              <div className=\"home-bday-div you\">\r\n              <div className=\"home-bday-name\"><h1>{userInfo.nickname}</h1></div>\r\n                <div className=\"home-bday-border\">\r\n                  <div className=\"home-bday-calander\">\r\n                    <h2 style={{borderBottom:\"1px solid white\"}}>{userBday}</h2><br/><br/><br/>\r\n                    <h1>{yourCountDown} days left</h1>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"home-bday-div partner\">\r\n              <div className=\"home-bday-name\"><h1>{partnerInfo.nickname}</h1></div>\r\n                <div className=\"home-bday-border\">\r\n                  <div className=\"home-bday-calander\">\r\n                    <h2 style={{borderBottom:\"1px solid white\"}}>{partnerBday}</h2><br/><br/><br/>\r\n                    <h1>{partnerCountDown} days left</h1>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n            </div>\r\n            :\r\n            <div className=\"home-noWidget\">\r\n              <IconButton id=\"home-add-widget\" onClick={()=>handleCreateWidget(\"bday\")} onMouseOver={()=>onHoverAddWidget(\"bday\")} onMouseOut={()=>offHoverAddWidget(\"bday\")}><AddIcon fontSize=\"large\"/></IconButton>\r\n              <div className=\"home-add-hover\" id=\"hover-bday\">Add this widget to get to know each other birthdays</div>\r\n            </div>}\r\n            </div>\r\n\r\n        </div>\r\n            <div className=\"foreground\" id=\"foreground\"></div>\r\n      </div>\r\n\r\n    </div>\r\n    \r\n}","import {useEffect, useState, useRef} from 'react';\r\nimport axios from 'axios';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport 'date-fns';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport {\r\n  MuiPickersUtilsProvider,\r\n  KeyboardDatePicker,\r\n} from '@material-ui/pickers';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport '../css/profileInfo.css';\r\nimport ReactAvatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport AddAPhotoIcon from '@material-ui/icons/AddAPhoto';\r\nimport IconButton from '@material-ui/core/IconButton';\r\n\r\nconst genders = [\r\n    {\r\n      value: 'male',\r\n      label: 'male',\r\n    },\r\n    {\r\n      value: 'female',\r\n      label: 'female',\r\n    },\r\n  ];\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    formControl: {\r\n      marginTop:20,\r\n      minWidth: \"90%\",\r\n    },\r\n  }));\r\nexport default function UserProfileForm()\r\n{\r\n    const [nickname,setNickname] = useState(\"\");\r\n    const [bio,setBio] = useState(\"\");\r\n    const [croppedUrl, setCroppedUrl] = useState();\r\n    const [uploaded,setUploaded] = useState(false);\r\n    const [dob,setDob] = useState(new Date());\r\n    const [gender,setGender] = useState('male');\r\n    const [newProfile,setNewProfile]=useState(false);\r\n    const [partner,setPartner] = useState();\r\n    const [dateOfRelationship,setDateOfRelationship] = useState();\r\n    const formRef = useRef();\r\n    const classes = useStyles();\r\n\r\n    useEffect(() => {\r\n        const ac = new AbortController();\r\n        axios.get('/auth/isLoggedIn')\r\n        .then(res =>res.data)\r\n        .catch(err => console.log(err))\r\n        .then(res => {\r\n          if (res.isLoggedIn === false) {\r\n            window.open('/login', '_self');\r\n          } \r\n          else if(res.user.nickname)\r\n          {\r\n            setNickname(res.user.nickname);\r\n            setDob(res.user.dateOfBirth);\r\n            setGender(res.user.gender);\r\n            setBio(res.user.bio);\r\n            if(res.user.partner!==null)\r\n            {\r\n            setPartner(res.user.partner);\r\n            if(res.user.dateOfRelationship)\r\n            {\r\n                setDateOfRelationship(res.user.dateOfRelationship);\r\n            }\r\n            }\r\n          }\r\n        })\r\n        return function cancel() {\r\n          ac.abort()\r\n        }\r\n      },[]);\r\n      useEffect(() => {\r\n        const ac = new AbortController();\r\n      axios({\r\n        method:'get',\r\n        url:'/gridFs/checkExists',\r\n        headers: {'Content-Type': 'multipart/form-data'}\r\n      })\r\n      .then(res=>res.data)\r\n      .catch(err=>console.log(err))\r\n      .then(res=>{\r\n        if(res===true)\r\n        {\r\n           document.getElementById(\"overlay\").style.visibility=\"hidden\";\r\n        }\r\n      })\r\n      return function cancel() {\r\n        ac.abort()\r\n      }\r\n    },[]);\r\n      if(uploaded)\r\n      {\r\n        const reader = new FileReader();\r\n        reader.onload = function(event){\r\n          if(event.target.result===null)\r\n          {\r\n            return;\r\n          }\r\n          document.getElementById(\"avatarImg\").setAttribute(\"src\",event.target.result);\r\n        }\r\n        reader.readAsDataURL(croppedUrl);\r\n       \r\n      }\r\n      async function handleSubmit(event) {\r\n        if(uploaded){axios.get('/gridFs/deleteImg');}\r\n        event.preventDefault();\r\n        \r\n        const formData = new FormData(formRef.current); \r\n        partner&&formData.append('partner',partner);\r\n         await  axios({\r\n            method:'post',\r\n            url:'/user/info',\r\n            data:formData,\r\n            headers: {'Content-Type': 'multipart/form-data'}\r\n          })\r\n          window.location.href = \"/\";\r\n      }\r\n\r\n      function toggleNewFile(event)\r\n      {\r\n        const file = event.target.files[0];\r\n         if(file===undefined)\r\n        {\r\n          return;\r\n        }\r\n        else\r\n        {\r\n         document.getElementById(\"overlay\").style.visibility=\"hidden\";\r\n         setCroppedUrl(file);\r\n         setUploaded(true);\r\n        }\r\n      }\r\n      \r\n      function uploadFile()\r\n      {\r\n         document.getElementById(\"file\").click();\r\n      }\r\n\r\n    return <div className=\"infoForm\" id=\"infoForm\">\r\n        \r\n    <form onSubmit={handleSubmit} ref={formRef}>\r\n      <div id=\"avatar\">\r\n       <ReactAvatar\r\n        id=\"overlay\"\r\n      />\r\n       <img src={uploaded?\"\":\"/gridFs/getProfile\"} id=\"avatarImg\"/>\r\n      </div>\r\n      <div className=\"fileIpt\">\r\n          <input type=\"file\" name=\"file\" id=\"file\" onChange={toggleNewFile}/>\r\n          <IconButton\r\n          id=\"uploadBtn\"\r\n          onClick={uploadFile}\r\n          >\r\n            <AddAPhotoIcon/>\r\n          </IconButton>\r\n      </div>\r\n          <br/>\r\n          <div className=\"infoDiv\">\r\n            <TextField\r\n            id=\"nickname\"\r\n            className=\"inputFields\"\r\n            label=\"Nickname\"\r\n            variant=\"outlined\"\r\n            name=\"nickname\"\r\n            value={nickname}\r\n            onChange={(e) => {setNickname(e.target.value)}}/>\r\n            <br/>\r\n            <FormControl variant=\"outlined\" className={classes.formControl}>\r\n            <InputLabel id=\"demo-simple-select-outlined-label\">Gender</InputLabel>\r\n            <Select\r\n              labelId=\"demo-simple-select-outlined-label\"\r\n              id=\"demo-simple-select-outlined\"\r\n              value={gender}\r\n              onChange={(e) => {setGender(e.target.value)}}\r\n              label=\"Gender\"\r\n              name=\"gender\"\r\n            >\r\n              {genders.map((option) => (\r\n                <MenuItem key={option.value} value={option.value}>\r\n                  {option.label}\r\n                </MenuItem>\r\n              ))}\r\n            </Select>\r\n          </FormControl> \r\n          <br />\r\n          <MuiPickersUtilsProvider utils={DateFnsUtils} style={{marginLeft:\"10px\"}}>\r\n            <KeyboardDatePicker\r\n              margin=\"normal\"\r\n              id=\"dateOfBirth\"\r\n              label=\"Date of birth (mm/dd/yyyy)\"\r\n              name=\"dateOfBirth\"\r\n              format=\"MM/dd/yyyy\"\r\n              value={dob}\r\n              onChange={(date) => {setDob(date)}}\r\n              KeyboardButtonProps={{\r\n                'aria-label': 'change date',\r\n              }}\r\n            />\r\n          </MuiPickersUtilsProvider>\r\n          {dateOfRelationship&&<MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n            <KeyboardDatePicker\r\n              margin=\"normal\"\r\n              id=\"dateOfRelation\"\r\n              label=\"Date of relationship\"\r\n              name=\"dateOfRelationship\"\r\n              format=\"MM/dd/yyyy\"\r\n              value={dateOfRelationship}\r\n              onChange={(date) => {setDateOfRelationship(date)}}\r\n              KeyboardButtonProps={{\r\n                'aria-label': 'change date',\r\n              }}\r\n            />\r\n          </MuiPickersUtilsProvider>}\r\n          \r\n          <br/>    \r\n        \r\n     \r\n          <TextField\r\n            id=\"bio\"\r\n            label=\"Bio\"\r\n            variant=\"outlined\"\r\n            name=\"bio\"\r\n            className=\"inputFields\"\r\n            value={bio}\r\n            onChange={(e) => {setBio(e.target.value)}}/>\r\n            <br/>\r\n            \r\n          <Button type=\"submit\" id=\"submitInfo\">\r\n              submit\r\n          </Button>\r\n          </div>\r\n        </form>\r\n    </div>\r\n}","import '../css/inputBox.css';\r\nimport SendIcon from '@material-ui/icons/Send';\r\nimport InsertEmoticonIcon from '@material-ui/icons/InsertEmoticon';\r\nimport IconButton from '@material-ui/core/IconButton';\r\n\r\nexport default function InputBox(props)\r\n{\r\n    const {handleSendMsg} = props\r\n\r\n\r\n    return<div className=\"foot\">\r\n        <form onSubmit={handleSendMsg} className=\"input-form\">\r\n        <input type=\"text\" className=\"msg\" placeholder=\"Type a message...\" id=\"chat\"/>\r\n        <IconButton type=\"submit\" id=\"sendIcon\"><SendIcon/></IconButton>\r\n        </form>\r\n    \r\n    </div>\r\n}","import '../css/chatNav.css';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport VideocamIcon from '@material-ui/icons/Videocam';\r\nimport MoreHorizIcon from '@material-ui/icons/MoreHoriz';\r\nimport PhotoIcon from '@material-ui/icons/Photo';\r\nimport { useEffect, useState,useRef } from 'react';\r\nimport axios from 'axios';\r\n\r\nexport default function ChatNav(props)\r\n{\r\n    const {toggleBackHome,partnerInfo,partnerStatus,toggleVideoCall,callAccepted,setBackgroundUrl} = props\r\n\tconst [readyDisplay,setReadyDisplay] = useState(false);\r\n\tconst [isOnline,setIsOnline] = useState(false);\r\n\tconst [openMore,setOpenMore] = useState(false);\r\n\r\n\r\n\tconst imgRef = useRef();\r\n\r\n\tuseEffect(()=>{\r\n\t\tconst ac = new AbortController();\r\n\t\tif(partnerInfo)\r\n\t\t{\r\n\t\t\tsetReadyDisplay(true);\r\n\t\t}\r\n\t\treturn function cancel() {\r\n            ac.abort();\r\n          }\r\n\t},[partnerInfo])\r\n\r\n\t\tif(partnerStatus&&partnerInfo)\r\n\t\t{\r\n\t\t\tpartnerStatus.map(user=>{\r\n\t\t\t\tif(user===partnerInfo._id)\r\n\t\t\t\t{\t\r\n\t\t\t\t\tsetIsOnline(true);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\t\r\n\r\n\tasync function toggleChangeBackground(event)\r\n\t{\r\n\t\tawait axios.get('/chat/deleteBackground')\r\n\t\tconst formdata = new FormData();\r\n\t\tformdata.append('file',event.target.files[0])\r\n\t\tawait axios({\r\n\t\t\tmethod:'post',\r\n\t\t\turl:'/chat/uploadChatImg',\r\n\t\t\tdata:formdata,\r\n\t\t\theaders:{'Content-Type': 'multipart/form-data'}\r\n\t\t})\r\n\t\twindow.location.reload();\r\n\t}\r\n\r\n    return<div className=\"chatNav-div\">\r\n\t\t{isOnline&&<h1>ONLINE</h1>}\r\n\t\t{openMore&&<div className=\"chatNav-moreOption\">\r\n\t\t\t<div className=\"chatNav-changeBackground\" onClick={()=>document.getElementById('chatNav-file').click()}> \r\n\t\t\t\t<PhotoIcon/>\r\n\t\t\t\t<input type=\"file\" name=\"file\" hidden id=\"chatNav-file\" onChange={toggleChangeBackground}/>\t\r\n\t\t\t</div>\r\n\t\t</div>}\r\n        <div className=\"head\">\r\n\t\t\t\t<div className=\"user\">\r\n\t\t\t\t\t<div className=\"avatar\" id=\"avatarStatus\">\r\n\t\t\t\t\t\t<img src=\"/gridFs/getPartnerProfile\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t\t{readyDisplay&&<div className=\"name\">{partnerInfo.nickname}</div>}\r\n\t\t\t\t</div>\r\n\t\t\t\t<ul id=\"bar_tool\">\r\n\t\t\t\t\t<IconButton id=\"iconBtn\" onClick={toggleVideoCall}><span className=\"alink\"><VideocamIcon id=\"contact\"/></span></IconButton>\r\n\t\t\t\t\t<IconButton id=\"iconBtn\" onClick={()=>setOpenMore(!openMore)}><span className=\"alink\"><MoreHorizIcon id=\"contact\"/></span></IconButton>\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n    </div>\r\n}","import {useEffect, useState} from 'react';\r\nimport '../css/chatBubble.css';\r\n\r\n\r\nexport default function ChatBubble(props)\r\n{\r\n    const{textInfo,user}= props;\r\n    if(textInfo&&textInfo.userId===user._id)\r\n    {       \r\n        return<div className=\"bubble-div righter\">\r\n           <div className = \"context\">\r\n            <p>{textInfo&&textInfo.text}</p>\r\n           </div>\r\n        </div>\r\n    }\r\n    else{\r\n        return<div className=\"bubble-div lefter\">\r\n            <div className=\"img-div\">\r\n            <img src=\"/gridFs/getPartnerProfile\"/>\r\n            </div>\r\n            <div className = \"context\">\r\n            <p>{textInfo&&textInfo.text}</p>\r\n           </div>\r\n        </div>\r\n    }\r\n}","import React, { createContext, useState, useRef, useEffect } from 'react';\r\nimport { io } from 'socket.io-client';\r\nimport Peer from 'simple-peer';\r\n\r\nconst SocketContext = createContext();\r\n\r\nconst ENDPOINT='localhost:5000';\r\nlet socket;\r\nlet isCaller = false;\r\nlet isAnswered = false;\r\nlet name ;\r\nconst ContextProvider = ({ children }) => {\r\n  const [callAccepted, setCallAccepted] = useState(false);\r\n  const [callEnded, setCallEnded] = useState(false);\r\n  const [stream, setStream] = useState();\r\n  // const [name, setName] = useState('');\r\n  const [call, setCall] = useState({});\r\n  const [userId,setUserId] = useState('');\r\n  const [roomId,setRoomId] = useState('');\r\n  const [newMessage,setNewMessage] = useState([]);\r\n  const [partnerId,setPartnerId] = useState();\r\n  const [isCalling,setIsCalling] = useState(false);\r\n  const [noCall,setNoCall] = useState(false);\r\n  const [isOnline,setIsOnline] = useState(true);\r\n  const [users,setUsers] = useState();\r\n\r\n  const myVideo = useRef();\r\n  const userVideo = useRef();\r\n  const connectionRef = useRef();\r\n\r\n\r\n   \r\n\r\n  useEffect(() => {\r\n\r\n    socket = io(ENDPOINT);\r\n     \r\n    socket.on('chatMsg',(chat)=>{\r\n        setNewMessage(chat);\r\n    })\r\n\r\n    socket.on('startCalling',e=>{\r\n      callUser();\r\n    })\r\n    socket.on('start',e=>{\r\n      setIsCalling(true);\r\n    })\r\n\r\n    socket.on('no',e=>{\r\n      setNoCall(true);\r\n      alert('your partner is not online!')\r\n    })\r\n  }, []);\r\n\r\n  useEffect(()=>{\r\n    \r\n    \r\n\r\n    if(!isCalling)\r\n    {\r\n      return null;\r\n    }\r\n     \r\n\r\n   socket.on('returnDiv',e=>{\r\n      document.getElementById('chat-body').style.marginRight = \"auto\";\r\n      document.getElementById('chat-body').style.marginLeft = \"auto\";\r\n      document.getElementById(\"video-div\").style.visibility = \"hidden\";\r\n      \r\n   })\r\n\r\n   socket.on('calluser',async ({ from, name: callerName, signal })=> {\r\n    setCall({ isReceivingCall: true, from, name: callerName, signal });\r\n    \r\n  });\r\n\r\n   socket.on('moveDiv',e=>{\r\n    document.getElementById('chat-body').style.marginRight = \"auto\";\r\n    document.getElementById('chat-body').style.marginLeft = \"10px\";\r\n    document.getElementById(\"video-div\").style.visibility = \"visible\";\r\n      \r\n      \r\n   })\r\n\r\n    socket.on('dc',e=>{\r\n      leaveCall();\r\n    })\r\n\r\n  },[isCalling])\r\n\r\n  // useEffect(()=>{\r\n  //   if(callAccepted)\r\n  //   {\r\n  //     navigator.mediaDevices.getUserMedia({ video: true, audio: true })\r\n  //     .then((currentStream) => {\r\n  //     setStream(currentStream);\r\n  //     myVideo.current.srcObject = currentStream;\r\n  //     });\r\n  //   }\r\n  // },[callAccepted])\r\n\r\n  const startCall  =()=>{\r\n    socket.emit('calling');\r\n  }\r\n  \r\n  const joinRoom = (roomId,userId,nickname) =>{\r\n      socket.emit('join',{userId,roomId});\r\n      setUserId(userId);\r\n      setRoomId(roomId);\r\n      // setName(nickname); \r\n      name=nickname;\r\n  }\r\n  let audio =true;\r\n  const muteAudio = ()=>{\r\n    audio  = !audio;\r\n    stream.getAudioTracks()[0].enabled = audio;\r\n  }\r\n\r\n  let video =true;\r\n  const muteVideo = ()=>{\r\n    video  = !video;\r\n    stream.getVideoTracks()[0].enabled = video;\r\n  }\r\n\r\n  const sendMsg = (msg,nickname) =>{\r\n      socket.emit('sendMsg',{msg,userId,nickname,roomId})\r\n  }\r\n\r\n  const declineCall = ()=>{\r\n    setCallEnded(true);\r\n    if(isCaller)\r\n    {\r\n      document.getElementById('chat-body').style.marginRight = \"auto\";\r\n      document.getElementById('chat-body').style.marginLeft = \"auto\";\r\n      document.getElementById(\"video-div\").style.visibility = \"hidden\";\r\n    }\r\n    setIsCalling(false);\r\n    window.location.reload();\r\n  }\r\n\r\n  const answerCall = async() => {\r\n    let local;\r\n    await navigator.mediaDevices.getUserMedia({ video: true, audio: true })\r\n    .then((currentStream) => {\r\n    setStream(currentStream);\r\n    local = currentStream;\r\n    myVideo.current.srcObject = currentStream;\r\n    }); \r\n    isAnswered = true;\r\n    setCallAccepted(true);\r\n    const peer = new Peer({ initiator: false, trickle: false, stream:local });\r\n    peer.on('signal', (data) => {\r\n      socket.emit('answercall', { signal: data, to: call.from });\r\n    });\r\n\r\n    peer.on('stream', (currentStream) => {\r\n      console.log(\"this is the remote stream: \" + currentStream);\r\n      userVideo.current.srcObject = currentStream;\r\n    });\r\n\r\n    peer.signal(call.signal);\r\n    connectionRef.current = peer;\r\n  };\r\n\r\n\r\n  const callUser = async() => {\r\n    if(noCall)\r\n    {\r\n      return null;\r\n    }\r\n    let local;\r\n    await navigator.mediaDevices.getUserMedia({ video: true, audio: true })\r\n    .then((currentStream) => {\r\n    setStream(currentStream);\r\n    local = currentStream;\r\n    myVideo.current.srcObject = currentStream;\r\n    }); \r\n    isCaller = true;\r\n    const peer = new Peer({ initiator: true, trickle: false, stream:local });\r\n    peer.on('signal', (data) => {\r\n      socket.emit('calluser', {  signalData: data,  name });\r\n    });\r\n    peer.on('stream', (currentStream) => {\r\n      userVideo.current.srcObject = currentStream;\r\n    });\r\n\r\n    socket.on('callaccepted', (signal) => {\r\n      console.log('call accepted: ' + signal);\r\n      setCallAccepted(true);\r\n      peer.signal(signal);\r\n    });\r\n\r\n    connectionRef.current = peer;\r\n  };\r\n\r\n  const leaveCall = () => {\r\n    setCallEnded(true);\r\n    if(isCaller)\r\n    {\r\n      document.getElementById('chat-body').style.marginRight = \"auto\";\r\n      document.getElementById('chat-body').style.marginLeft = \"auto\";\r\n      document.getElementById(\"video-div\").style.visibility = \"hidden\";\r\n    }\r\n    connectionRef.current.destroy();\r\n\r\n    window.location.reload();\r\n  };\r\n\r\n  return (\r\n    <SocketContext.Provider value={{\r\n      call,\r\n      callAccepted,\r\n      myVideo,\r\n      newMessage,\r\n      sendMsg,\r\n      joinRoom,\r\n      userVideo,\r\n      stream,\r\n      name,\r\n      callEnded,\r\n      callUser,\r\n      leaveCall,\r\n      answerCall,\r\n      users,\r\n      isOnline,\r\n      startCall,\r\n      muteAudio,\r\n      muteVideo,\r\n      declineCall,\r\n      isCaller,\r\n      isAnswered,\r\n    }}\r\n    >\r\n      {children}\r\n    </SocketContext.Provider>\r\n  );\r\n};\r\n\r\nexport { ContextProvider, SocketContext };","import DoneIcon from '@material-ui/icons/Done';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport { useContext, useEffect } from 'react';\r\nimport {SocketContext} from '../SocketContext';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport { Icon } from '@material-ui/core';\r\nimport ClearIcon from '@material-ui/icons/Clear';\r\n\r\nexport default function VideoRespond(props)\r\n{\r\n\r\n    const{answerCall,leaveCall,call,initializeVideo,callUser,declineCall,isCaller,isAnswered} = useContext(SocketContext);\r\n\r\n\r\n   \r\n\r\n\r\n   async function answer()\r\n    {\r\n        document.getElementById('chat-body').style.marginRight = \"auto\";\r\n        document.getElementById('chat-body').style.marginLeft = \"10px\";\r\n        document.getElementById(\"video-div\").style.visibility = \"visible\";\r\n        answerCall();\r\n        \r\n    }\r\n    return <div className=\"respond\">\r\n        <Avatar src=\"/gridFs/getPartnerProfile\" id=\"caller\"/>\r\n        <div className=\"description\">\r\n            <h3>{call.name} wants to call you</h3>\r\n        </div>\r\n        <div className=\"choice\">\r\n        <IconButton id=\"choice-btn\" onClick={answer}><DoneIcon/></IconButton>\r\n        <IconButton id=\"choice-canc\" onClick={declineCall}><ClearIcon/></IconButton>\r\n        </div>\r\n    </div>\r\n}","import { useContext, useEffect,useRef, useState } from \"react\"\r\nimport { SocketContext } from \"../SocketContext\";\r\nimport '../css/videoCall.css';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport VideocamOffIcon from '@material-ui/icons/VideocamOff';\r\nimport MicIcon from '@material-ui/icons/Mic';\r\nimport CallEndIcon from '@material-ui/icons/CallEnd';\r\nimport MicOffIcon from '@material-ui/icons/MicOff';\r\nimport VideocamIcon from '@material-ui/icons/Videocam';\r\n\r\nexport default function VideoCall()\r\n{\r\n    const {name,callAccepted,myVideo,userVideo,callEnded,stream,callUser,leaveCall,initializeVideo,muteAudio,muteVideo,declineCall,isAnswered} = useContext(SocketContext);\r\n        const [isMuted,setIsMuted] = useState(false);\r\n        const [isDisplayed,setIsDisplayed] = useState(true);\r\n   \r\n \r\n   \r\n   function handleMute()\r\n   {\r\n           setIsMuted(!isMuted);\r\n           muteAudio();\r\n   }\r\n   function handleDisplay()\r\n   {\r\n           setIsDisplayed(!isDisplayed);\r\n           muteVideo();\r\n   }\r\n       console.log(isAnswered);\r\n        return <div className=\"video-div\" id=\"video-div\">\r\n\r\n                \r\n                <div className=\"vid-call\">\r\n                 <video playsInline muted ref={myVideo} autoPlay />        \r\n                </div>\r\n                {callAccepted&&!callEnded&&\r\n                <div className=\"vid-call1\">\r\n                <video playsInline muted ref={userVideo} autoPlay />\r\n                </div>}\r\n                <div className=\"option-div\">\r\n                <IconButton onClick={handleDisplay} className=\"option-btn\" id=\"display\">{isDisplayed?<VideocamIcon/>:<VideocamOffIcon/>}</IconButton>\r\n                <IconButton onClick={isAnswered?leaveCall:declineCall} className=\"option-btn\" id=\"end\"><CallEndIcon fontSize=\"inherit\"/></IconButton>\r\n                <IconButton onClick={handleMute} className=\"option-btn\">{isMuted?<MicOffIcon/>:<MicIcon/>}</IconButton>\r\n                </div>\r\n        </div>\r\n}","import {useEffect, useState,useRef, useContext} from 'react';\r\nimport io from 'socket.io-client';\r\nimport axios from 'axios';\r\nimport InputBox from './InputBox';\r\nimport '../css/chatroom.css';\r\nimport ChatNav from './ChatNav';\r\nimport ChatBubble from './ChatBubble';\r\nimport { Scrollbars } from 'react-custom-scrollbars-2';\r\nimport { SocketContext } from \"../SocketContext\";\r\nimport VideoRespond from './VideoRespond';\r\nimport VideoCall from './VideoCall';\r\nimport NavBar from './Navbar';\r\n\r\n\r\nexport default function ChatRoom(props)\r\n{\r\n    const ENDPOINT = 'localhost:5000';\r\n    const [userInfo,setUserInfo] = useState();\r\n    const [userId,setUserId] = useState();\r\n    const [roomId,setRoomId] = useState();\r\n    const [text,setText] = useState(\"\");\r\n    const [userNickname,setUserNickname] = useState();\r\n    const [messages,setMessages] = useState([]);\r\n    const [partnerInfo,setPartnerInfo] = useState([]);\r\n    const [isUser,setIsUser] = useState(false);\r\n    const [partnerStatus,setPartnerStatus] = useState();\r\n    const [havePartner,setHavePartner] = useState(false);\r\n    const [scrollDir,setScrollDir] = useState(-1);\r\n    const [backgroundUrl,setBackgroundUrl] = useState('');\r\n\r\n    // const [isCalling,setIsCalling] = useState();\r\n    const {joinRoom,sendMsg,newMessage,callUser,call,me,callAccepted,onBoth,startCall} = useContext(SocketContext);\r\n\r\n    useEffect(()=>{\r\n        const ac = new AbortController();\r\n        axios.get('/auth/isLoggedIn')\r\n        .then(res =>res.data)\r\n        .catch(err => console.log(err))\r\n        .then(res => {\r\n            if(res.isLoggedIn)\r\n            {\r\n              axios.get('/chat/checkExist')\r\n              .then(res.data)\r\n              .catch(err=>console.log(err))\r\n              .then(res=>{\r\n                if(res.data)\r\n                {\r\n                  document.getElementById('msgBox').style.backgroundImage ='url(\"/chat/getChatBackground\")';\r\n                  document.getElementById('msgBox').style.backgroundSize ='cover';\r\n                }\r\n                else\r\n                {\r\n                  document.getElementById('msgBox').style.backgroundImage = 'url(\"https://wallpapercave.com/wp/wp4779329.png\")';\r\n                }\r\n              })\r\n              \r\n              let userId = res.user._id;\r\n              let partner = res.user.partner;\r\n              let nickname = res.user.nickname;\r\n              setPartnerInfo(res.partnerInfo)\r\n                if(res.user.partner!==null)\r\n                { \r\n                  setHavePartner(true);\r\n                  axios({ \r\n                    method:'get',\r\n                    url:'/user/getRoomId',\r\n                    headers: {'Content-Type': 'multipart/form-data'}\r\n                  })\r\n                  .then(res=>res.data)\r\n                  .catch(err=>console.log(err))\r\n                  .then(res=>{\r\n                    setMessages(res.chatInfo.chats.reverse().map(chat=>{\r\n                      return chat;\r\n                    }))\r\n                    let roomId = res.roomInfo._id;\r\n                    setRoomId(roomId);\r\n                    if(nickname)\r\n                    {\r\n                       joinRoom(roomId,userId,nickname);  \r\n                    }\r\n                  })\r\n                }\r\n                setUserId(res.user._id);\r\n                setUserInfo({...res.user});\r\n                setUserNickname(res.user.nickname);\r\n            }\r\n        });\r\n        return function cancel() {\r\n            ac.abort();\r\n          }\r\n    },[])\r\n\r\n    useEffect(()=>{\r\n      setMessages(prevData=>{\r\n        return[...prevData,newMessage]\r\n      })\r\n    },[newMessage]);\r\n    useEffect(()=>{\r\n      if(scrollDir===-1)\r\n      {\r\n        document.getElementById('msgBox').scrollTo(0,document.getElementById('msgBox').scrollHeight);      \r\n      }\r\n    },[messages])\r\n    \r\n    function handleSendMsg(event)\r\n    {\r\n      let msg = document.getElementById(\"chat\").value;\r\n      event.preventDefault();\r\n      if(msg.length>0&&roomId)\r\n      {\r\n        sendMsg(msg,userId,userNickname,roomId);\r\n        setText(\"\");\r\n      }\r\n      else{\r\n        console.log(\"You cant send anything\")\r\n      }\r\n      document.getElementById(\"chat\").value = null;\r\n    }\r\n\r\n    function toggleBackHome()\r\n    {\r\n      window.open('/','_self');\r\n    }\r\n\r\n    async function toggleVideoCall()\r\n    {\r\n      await startCall();\r\n      // await callUser();\r\n    };\r\n\r\n\r\n    return<div className=\"chat-div\">\r\n      <NavBar havePartner={havePartner}/>\r\n        {call.isReceivingCall &&!callAccepted&&<VideoRespond/>}\r\n     <VideoCall/>\r\n     <div className=\"chat-container\">\r\n     <div className=\"chat-body\" id=\"chat-body\">\r\n     <ChatNav  toggleBackHome={toggleBackHome} partnerInfo={partnerInfo} partnerStatus={partnerStatus} toggleVideoCall={toggleVideoCall}/>\r\n    <div className=\"chat-messageBox-div\" id=\"msgBox\">\r\n        <div className=\"chat-messageBox\">\r\n      {messages&&userInfo&&messages.map((chat,index)=>{\r\n              return <ChatBubble key={index}textInfo={chat} user={userInfo}/>\r\n      })} \r\n       </div>\r\n    </div>\r\n    <InputBox handleSendMsg={handleSendMsg}/>\r\n     </div>\r\n     </div>\r\n  </div>\r\n}","import { useEffect, useState } from \"react\";\r\nimport axios from 'axios';\r\nimport Button from '@material-ui/core/Button';\r\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\r\nimport ArrowDropUpIcon from '@material-ui/icons/ArrowDropUp';\r\nimport IconButton from '@material-ui/core/IconButton';\r\n\r\nexport default function VideoList(props)\r\n{\r\n    const {handleChooseMovie,socket} = props;\r\n    const [files,setFiles] = useState([]);\r\n    const [dropdown,setDropdown] = useState(false);\r\n    useEffect(()=>{\r\n        axios.get('/videoFs/getAllVideos')\r\n        .then(res=>res.data)\r\n        .catch(err=>console.log(err))\r\n        .then(res=>{\r\n            let temp = [];\r\n            for(let i=0;i<res.length;i++)\r\n            {\r\n                temp.push(res[i]);\r\n            }\r\n            setFiles(temp);\r\n        })\r\n\r\n    },[])   \r\n    function handleDropDown()\r\n    {\r\n        let state = !dropdown;\r\n        if(state)\r\n        {\r\n            document.getElementById('video-file').style.top=0;\r\n        }\r\n        else\r\n        {\r\n            document.getElementById('video-file').style.top  = \"-68px\";\r\n        }\r\n        setDropdown(!dropdown);\r\n    }\r\n    async function handleDeleteVideo(videoId)\r\n    {\r\n        const formdata = new FormData();\r\n        formdata.append('videoId',videoId);\r\n        await axios({\r\n            method:'post',\r\n            url:'/videoFs/deleteVideo',\r\n            data:formdata,\r\n            headers:{'Content-Type': 'multipart/form-data'}\r\n        })\r\n        .then(res=>res.data)\r\n        .catch(err=>console.log(err))\r\n        .then(res=>{\r\n            console.log(res);\r\n            if(res)\r\n            {\r\n              setFiles(prev=>{\r\n                  return prev.filter(file=>{\r\n                      return file._id!==videoId\r\n                  })\r\n              })\r\n              if(socket)socket.emit('deletedVideo');\r\n           }\r\n        })\r\n    }\r\n\r\n    return<div className=\"video-file\" id=\"video-file\">\r\n        <div className=\"video-scroll\">\r\n        {files.map(file=>{\r\n            return<div className=\"video-list-div\">\r\n                \r\n                <Button key={file._id} variant=\"outlined\" onClick={()=>handleChooseMovie(file.filename)} id=\"list\">{file.aliases}</Button> \r\n                <button id=\"video-delete\" onClick={()=>handleDeleteVideo(file._id)}>x</button>\r\n            </div>  \r\n        })} \r\n        </div>\r\n        <IconButton\r\n        size=\"small\"\r\n        id=\"drop-down\"\r\n        onClick={handleDropDown}\r\n        >\r\n        {dropdown?<ArrowDropUpIcon/>:<ArrowDropDownIcon/>}\r\n        </IconButton>\r\n    </div>\r\n\r\n}","import ArrowLeftIcon from '@material-ui/icons/ArrowLeft';\r\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\r\nimport ArrowRightIcon from '@material-ui/icons/ArrowRight';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Button from '@material-ui/core/Button';\r\nimport { useState,useRef } from 'react';\r\nimport axios from 'axios';\r\n\r\nexport default function VideoUploadDiv(props)\r\n{\r\n    const [openUpload,setOpenUpload] = useState(false);\r\n    const [uploadProgress,setUploadProgress] = useState(false);\r\n\r\n    const formRef = useRef();\r\n\r\n    function handleUploadDiv()\r\n    {\r\n      let state = !openUpload;\r\n      if(state)\r\n      {\r\n          document.getElementById('upload-file').style.marginLeft=0;\r\n      }\r\n      else\r\n      {\r\n          document.getElementById('upload-file').style.marginLeft=\"-380px\";\r\n      }\r\n      setOpenUpload(!openUpload);\r\n    }\r\n\r\n    function displayFileName(event)\r\n  {\r\n     document.getElementById('file-name').textContent= event.target.files[0].name;\r\n  }\r\n\r\n  async function handleUploadVideo(event)\r\n  {\r\n      event.preventDefault();\r\n      if(document.getElementById('video').value===\"\")\r\n      {\r\n          return;\r\n      }\r\n      setUploadProgress(true);\r\n      const formdata = new FormData(formRef.current);\r\n      await axios({\r\n          method:'post',\r\n          url:'/videoFs/upload',\r\n          data:formdata,\r\n          headers: {'Content-Type': 'multipart/form-data'},\r\n          onUploadProgress:progressEvent=>{\r\n            const progress=(progressEvent.loaded/progressEvent.total)*100\r\n            document.getElementById(\"uploadFileProgress\").style.width = progress+\"%\";\r\n            if(progress===100)\r\n            {\r\n                window.location.reload();\r\n            }\r\n          },\r\n      })\r\n  }\r\n\r\n    return <div className=\"upload-file\" id=\"upload-file\">\r\n        <form onSubmit={handleUploadVideo} ref={formRef}>\r\n        <IconButton\r\n        size=\"medium\"\r\n        onClick={()=>document.getElementById('video').click()}\r\n        style={{color:\"white\"}}\r\n        >\r\n        <CloudUploadIcon/>\r\n        </IconButton>\r\n        <input type=\"file\" name=\"video\" id=\"video\" hidden onChange={displayFileName}/>\r\n        <Button\r\n        variant=\"contained\"\r\n        color=\"default\"\r\n        type=\"submit\"   \r\n      >\r\n        Upload\r\n      </Button> \r\n        </form>\r\n        <p id=\"file-name\" style={{color:\"rgb(56, 245, 71)\"}}></p>\r\n        {uploadProgress&&\r\n        <div className=\"uploadProgress\">   \r\n            <div className=\"progressBar\" id=\"uploadFileProgress\"> \r\n            </div>\r\n        </div>}\r\n        <IconButton\r\n        size=\"small\"\r\n        id=\"openUploadDiv\"\r\n        onClick={handleUploadDiv}\r\n        >{openUpload?\r\n            <ArrowLeftIcon/>\r\n            :\r\n            <ArrowRightIcon/>\r\n         }\r\n        </IconButton>\r\n    </div>\r\n}","import ReactPlayer from 'react-player'\r\nimport '../css/videoPlayer.css';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport PlayArrowIcon from '@material-ui/icons/PlayArrow';\r\nimport PauseIcon from '@material-ui/icons/Pause';\r\nimport Button from '@material-ui/core/Button';\r\nimport ArrowLeftIcon from '@material-ui/icons/ArrowLeft';\r\nimport VideoList from './VideoList';\r\nimport VideoUploadDiv from './VideoUploadDiv';\r\nimport ArrowRightIcon from '@material-ui/icons/ArrowRight';\r\nimport VolumeMuteIcon from '@material-ui/icons/VolumeMute';\r\nimport VolumeOffIcon from '@material-ui/icons/VolumeOff'; \r\nimport VolumeUpIcon from '@material-ui/icons/VolumeUp';\r\nimport FullscreenIcon from '@material-ui/icons/Fullscreen';\r\nimport FullscreenExitIcon from '@material-ui/icons/FullscreenExit';\r\nimport HomeIcon from '@material-ui/icons/Home';\r\n\r\nimport { FullScreen, useFullScreenHandle } from \"react-full-screen\";\r\nimport io from 'socket.io-client';\r\nimport { useEffect, useRef, useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nlet socket;\r\nexport default function Cinema()\r\n{\r\n  const ENDPOINT = 'localhost:5000';\r\n  const handle = useFullScreenHandle();\r\n  const [ready,setReady] = useState(false);\r\n  const [play,setPlay] =useState(false);\r\n  const [openUrl,setOpenUrl] = useState(false);\r\n  const [url,setUrl] = useState();\r\n  const [buffering,setBuffering] = useState(true);\r\n  const [volume,setVolume] = useState(0.5);\r\n  const [isMuted,setIsMuted] = useState(false);\r\n  const [isLoud,setIsLoud] = useState(false);\r\n  const [isFullScreen,setIsFullScreen] = useState(false);\r\n\r\n  const videoRef = useRef();\r\n  const urlRef = useRef(\"\");\r\n  const readyToPlay = useRef(false);\r\n  const initialRun = useRef(true);\r\n\r\n\r\n  useEffect(async()=>{\r\n      const ac = new AbortController();\r\n        socket = io(ENDPOINT);\r\n        if(initialRun.current)\r\n        {\r\n            await axios.get('/user/getRoomId')\r\n            .then(res=>res.data)\r\n            .catch(err=>console.log(err))\r\n            .then(res=>{\r\n                socket.emit('join',res.roomInfo._id);\r\n            });\r\n            \r\n            initialRun.current = false;\r\n        }\r\n        socket.on('changeState',state=>{\r\n            setPlay(state);\r\n        });\r\n        socket.on('refreshPage',e=>{\r\n            window.location.reload();\r\n        })\r\n        socket.on('update',time=>{\r\n            if(urlRef.current===\"\")\r\n            {\r\n                urlRef.current = time.url;\r\n                setReady(true);\r\n                readyToPlay.current = true;\r\n                setBuffering(false);\r\n                return;\r\n            }\r\n            if(readyToPlay.current)\r\n            {\r\n                if(time.time>videoRef.current.getCurrentTime())\r\n                {\r\n                    if(videoRef.current.getCurrentTime()<(time.time)-1){\r\n                        videoRef.current.seekTo(String(time.time),'seconds');\r\n                    }\r\n                }\r\n            }\r\n        })\r\n\r\n        socket.on('updateProgress',pointed=>{\r\n            videoRef.current.seekTo(pointed,'seconds');\r\n        })\r\n\r\n        socket.on('onlineUrl',data=>{\r\n            if(data===\"\")\r\n            {\r\n                document.getElementById('url').value = \"\";\r\n                return;\r\n            }\r\n            setReady(true);\r\n            urlRef.current=data;\r\n            setUrl(data);\r\n            document.getElementById('url').value = \"\";\r\n        })\r\n\r\n      return function cancel(){\r\n          ac.abort();\r\n      }\r\n  },[])\r\n\r\n  function displayProgress()\r\n  {\r\n      socket.emit('keepUpdate',{time:videoRef.current.getCurrentTime(),url:url});\r\n      const point = document.getElementById('progress-point');\r\n      const value = videoRef.current.getCurrentTime()/(videoRef.current.getDuration()/100);\r\n      point.style.left = value+\"%\";\r\n  }\r\n   \r\n  function handleProgressChange(event)\r\n  {\r\n      const progressBarWidth = document.getElementById(\"progress-bar\");\r\n      const choose = event.nativeEvent.offsetX;\r\n      const pointed = (choose/progressBarWidth.offsetWidth)*videoRef.current.getDuration();     \r\n      socket.emit('changeProgress',pointed) \r\n      setPlay(true);\r\n  }\r\n  function handleVideoState()\r\n  {\r\n    socket.emit('changeVideoState',play);\r\n  }\r\n  \r\n  function submitUrl(event){\r\n    event.preventDefault();\r\n    const choosenUrl = document.getElementById('url').value;\r\n    socket.emit('onlineUrl',choosenUrl);\r\n  }\r\n\r\n  async function handleChooseMovie(filename)\r\n  {\r\n    \r\n    setReady(true);\r\n    const choosenUrl = \"/videoFs/choose/\"+filename;\r\n    socket.emit('onlineUrl',choosenUrl);\r\n  }\r\n  function handleUrlDiv()\r\n  {\r\n      let state = !openUrl;\r\n    if(state)\r\n    {\r\n        document.getElementById('submitUrl').style.marginLeft =0;\r\n    }\r\n    else\r\n    {\r\n        document.getElementById('submitUrl').style.marginLeft =\"-380px\";\r\n    };\r\n      setOpenUrl(!openUrl);  \r\n  }\r\n\r\n    function handlePlayerVolume()\r\n    {\r\n        const value=document.getElementById(\"volume\").value;\r\n        const actualVolume = parseFloat(value/100);\r\n        if(actualVolume===0)\r\n        {\r\n            setIsMuted(true);\r\n        }\r\n        else\r\n        {\r\n            setIsMuted(false);\r\n        }\r\n        if(value>50)\r\n        {\r\n            setIsLoud(true);\r\n        }\r\n        else\r\n        {\r\n            setIsLoud(false);\r\n        }\r\n        setVolume(actualVolume);\r\n    }\r\n    function handleMute()\r\n    {\r\n        let state = !isMuted;\r\n        if(state)\r\n        {\r\n            setVolume(0);\r\n            document.getElementById('volume').value =0;\r\n        }\r\n        else\r\n        {\r\n            setVolume(0.5);\r\n            document.getElementById('volume').value =50;\r\n        }\r\n        setIsMuted(!isMuted);\r\n    }\r\n\r\n    function handleBigScreen()\r\n    {\r\n        let state = !isFullScreen;\r\n        const controls = document.getElementById('controls');\r\n        if(state)\r\n        {\r\n            handle.enter();\r\n            controls.style.bottom=\"-150px\";\r\n            document.getElementById('progress-point').style.background=\"white\";\r\n            document.getElementById('control-btn').style.color=\"white\";\r\n            document.getElementById('control-vlm').style.color=\"white\";\r\n            document.getElementById('fullscreen-btn').style.color=\"white\";\r\n        }\r\n        else\r\n        {\r\n            handle.exit();\r\n            controls.style.bottom=\"-50px\";\r\n            document.getElementById('progress-point').style.background=\"black\";\r\n            document.getElementById('control-btn').style.color=\"black\";\r\n            document.getElementById('control-vlm').style.color=\"black\";\r\n            document.getElementById('fullscreen-btn').style.color=\"black\";\r\n        }\r\n        setIsFullScreen(!isFullScreen);\r\n    }\r\n    return <div className=\"cinema-div\">\r\n        <VideoList handleChooseMovie={handleChooseMovie} socket={socket}/>\r\n        \r\n        <VideoUploadDiv/>\r\n        <div className=\"submit-url\" id=\"submitUrl\">\r\n            <form onSubmit={submitUrl}>\r\n            <input type=\"text\" id=\"url\" placeholder=\"enter url\"/>\r\n            <Button\r\n                type=\"submit\"\r\n                variant=\"outlined\"\r\n                id=\"submit-url-btn\"\r\n            > submit</Button>\r\n            </form>\r\n            <IconButton size=\"small\" id=\"handleUrlDiv\" onClick={handleUrlDiv}>\r\n                {openUrl?<ArrowLeftIcon/>:<ArrowRightIcon/>}\r\n            </IconButton>\r\n        </div>\r\n        <Button variant=\"outlined\" color=\"black\" href=\"/\" id=\"homeBtn\">\r\n        <HomeIcon/>\r\n         </Button>\r\n        <FullScreen\r\n        handle={handle}\r\n        >\r\n        <div className=\"video-player\" id=\"video-player\">\r\n        {buffering&&ready&&<div className=\"no-video\">\r\n            <h1>Loading....</h1>\r\n        </div>}\r\n        {ready?\r\n        <ReactPlayer \r\n            ref={videoRef}\r\n            playing={play}\r\n            height=\"100%\"\r\n            width= \"100%\"\r\n            url={urlRef.current}\r\n            volume={volume}\r\n            onProgress={displayProgress}\r\n            onReady ={()=>setBuffering(false)}   \r\n            onError={()=>setReady(false)}\r\n        />:\r\n        <div className=\"no-video\">\r\n            <h2>No Video</h2>\r\n        </div>\r\n        }\r\n        {/* <video src=\"/videoFs/getVideos\" type=\"video/mp4\"/> */}\r\n            <div style={{display:\"flex\"}} className=\"progress-bar-div\" id=\"controls\">\r\n                <IconButton onClick={handleVideoState} id=\"control-btn\" style={{color:\"black\"}}>{play?<PauseIcon/>:<PlayArrowIcon/>}</IconButton>\r\n                <IconButton onClick={handleMute} id=\"control-vlm\" style={{color:\"black\"}}>{isMuted?<VolumeOffIcon/>:isLoud?<VolumeUpIcon/>:<VolumeMuteIcon/>}</IconButton>\r\n                <input type=\"range\" min=\"0\" max=\"100\" id=\"volume\" onChange={handlePlayerVolume}/>\r\n                <div id=\"progress-bar\" className=\"progress-bar status\" onClick={ready?handleProgressChange:\"\"}>\r\n                <div id=\"progress-point\" className=\"progress-point\"></div>\r\n                </div>\r\n                <IconButton onClick={handleBigScreen} id=\"fullscreen-btn\" style={{color:\"black\"}}>{isFullScreen?<FullscreenExitIcon/>:<FullscreenIcon/>}</IconButton>\r\n            </div>\r\n        </div>\r\n        </FullScreen>\r\n    </div>\r\n}","import React, { useState, useEffect } from \"react\";\r\n\r\nconst Checkmark = ({ selected }) => (\r\n  <div\r\n    style={\r\n      selected\r\n        ? { left: \"4px\", top: \"4px\", position: \"absolute\", zIndex: \"1\" }\r\n        : { display: \"none\" }\r\n    }\r\n  >\r\n    <svg\r\n      style={{ fill: \"white\", position: \"absolute\" }}\r\n      width=\"24px\"\r\n      height=\"24px\"\r\n    >\r\n      <circle cx=\"12.5\" cy=\"12.2\" r=\"8.292\" />\r\n    </svg>\r\n    <svg\r\n      style={{ fill: \"#06befa\", position: \"absolute\" }}\r\n      width=\"24px\"\r\n      height=\"24px\"\r\n    >\r\n      <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\" />\r\n    </svg>\r\n  </div>\r\n);\r\n\r\nconst imgStyle = {\r\n  transition: \"transform .135s cubic-bezier(0.0,0.0,0.2,1),opacity linear .15s\"\r\n};\r\nconst selectedImgStyle = {\r\n  transform: \"translateZ(0px) scale3d(0.9, 0.9, 1)\",\r\n  transition: \"transform .135s cubic-bezier(0.0,0.0,0.2,1),opacity linear .15s\"\r\n};\r\nconst cont = {\r\n  backgroundColor: \"#eee\",\r\n  cursor: \"pointer\",\r\n  overflow: \"hidden\",\r\n  position: \"relative\"\r\n};\r\n\r\nconst SelectedImage = ({\r\n  index,\r\n  photo,\r\n  margin,\r\n  direction,\r\n  top,\r\n  left,\r\n  selected,\r\n  handleChooseNotToDeleteFile,\r\n  handleChooseToDeleteFile\r\n}) => {\r\n  const [isSelected, setIsSelected] = useState(selected);\r\n  const actualHeight = (200-photo.height)-photo.height;\r\n  //calculate x,y scale\r\n  const sx = (100 - (30 / photo.width) * 100) / 100;\r\n  const sy = (100 - (30 / photo.height) * 100) / 100;\r\n  selectedImgStyle.transform = `translateZ(0px) scale3d(${sx}, ${sy}, 1)`;\r\n\r\n  if (direction === \"column\") {\r\n    cont.position = \"absolute\";\r\n    cont.left = left;\r\n    cont.top = top;\r\n  }\r\n\r\n  const handleOnClick = e => {\r\n    setIsSelected(!isSelected);\r\n    if(!isSelected)\r\n    {\r\n        handleChooseToDeleteFile(index);\r\n    }\r\n    else{\r\n        handleChooseNotToDeleteFile(index);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    setIsSelected(selected);\r\n  }, [selected]);\r\n\r\n  return (\r\n    <div\r\n      style={{ margin, height: actualHeight, width: photo.width, ...cont }}\r\n      className={!isSelected ? \"not-selected\" : \"\"}\r\n    >\r\n      <Checkmark selected={isSelected ? true : false} />\r\n      <img\r\n        alt={photo.title}\r\n        style={\r\n          isSelected ? { ...imgStyle, ...selectedImgStyle } : { ...imgStyle }\r\n        }\r\n        {...photo}\r\n        onClick={handleOnClick}\r\n      />\r\n      <style>{`.not-selected:hover{outline:2px solid #06befa}`}</style>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SelectedImage;\r\n","import '../../css/createPost.css';\r\n\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport NativeSelect from '@material-ui/core/NativeSelect';\r\nimport ReactAvatar from '@material-ui/core/Avatar';\r\nimport React, { useState,useCallback, useRef ,useEffect } from 'react';\r\nimport Gallery from 'react-photo-gallery';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport AddPhotoAlternateIcon from '@material-ui/icons/AddPhotoAlternate';\r\nimport SelectedImage from '../SelectedImage';\r\nimport Button from '@material-ui/core/Button';  \r\nimport axios from 'axios';\r\n\r\nexport default function CreatePost(props)\r\n{\r\n    const{setPost,handlePost,userInfo,setIsPosting,setIsEditing,isEditing,postData,setPostData} = props;\r\n\r\n    const [text,setText] = useState('');\r\n    const [uploadedFiles,setUploadedFiles] = useState([]);\r\n    const [feeling,setFeeling] = useState();\r\n    const [willBeDeletedFiles, setWillBeDeletedFiles] = useState([]);\r\n    const [deletedExistingFiles, setDeletedExistingFiles] = useState([]);\r\n    const [selectAll] = useState(false);\r\n\r\n    const formRef = useRef();\r\n\r\n    const imageRenderer = useCallback(\r\n        ({ index, left, top, key, photo }) => (\r\n          <SelectedImage\r\n            selected={selectAll ? true : false}\r\n            key={key}\r\n            margin={\"2px\"}\r\n            index={index}\r\n            photo={photo}\r\n            left={left}\r\n            top={top}\r\n            handleChooseNotToDeleteFile={handleChooseNotToDeleteFile}\r\n            handleChooseToDeleteFile={handleChooseToDeleteFile}\r\n          />\r\n        ),\r\n        [selectAll,handleChooseNotToDeleteFile,handleChooseToDeleteFile]\r\n      );\r\n\r\n          useEffect(()=>{\r\n            if(isEditing)\r\n            {\r\n              setText(postData.post.text);\r\n              setFeeling(postData.post.feeling);\r\n              if(postData.post.fileId){\r\n              setUploadedFiles(postData.post.fileId.map((id,index)=>{\r\n                // console.log(postData.url[index]);\r\n                return {src:postData.url[index],width:1,height:1,fileId:id};\r\n              }))\r\n            }\r\n            }\r\n          },[])\r\n\r\n    function handleChooseToDeleteFile(index) {\r\n        setWillBeDeletedFiles(prevData => {\r\n          return [...prevData, index];\r\n        })\r\n      }\r\n  \r\n      function handleChooseNotToDeleteFile(index) {\r\n        setWillBeDeletedFiles(prevData => {\r\n          return prevData.filter(val => {\r\n            return val !== index;\r\n          })\r\n        })\r\n      }\r\n\r\n    function handleUploadFiles(event)\r\n    {\r\n        const file = event.target.files[0];\r\n        if(file)\r\n        {\r\n            const re =  /\\.(gif|jpe?g|tiff?|png|webp|bmp)$/i;\r\n            if (re.test(file.name)) {\r\n                setUploadedFiles(prevData => {\r\n                  return [...prevData, {src: URL.createObjectURL(file), file: file, width:1,height:1}];\r\n                })\r\n              } else {\r\n                alert('only upload image files.')\r\n              }\r\n        }\r\n\r\n    }\r\n\r\n    async function handleDeleteChosenFiles() {\r\n        const tempDeletedFiles = [...willBeDeletedFiles].sort();\r\n        const tempUploadedFiles = [...uploadedFiles];\r\n        for (var i = tempDeletedFiles.length - 1; i >= 0; i--) {\r\n          if (tempUploadedFiles[tempDeletedFiles[i]].fileId) {\r\n            await setDeletedExistingFiles(prevData => {\r\n              return [...prevData, tempUploadedFiles[tempDeletedFiles[i]].fileId];\r\n            })\r\n          }\r\n          tempUploadedFiles.splice(tempDeletedFiles[i], 1);\r\n        }\r\n        setUploadedFiles(tempUploadedFiles);\r\n        setWillBeDeletedFiles([]);\r\n      }\r\n\r\n      async function togglePost()\r\n      {\r\n        if(text==='')\r\n        {\r\n          alert(\"Please enter some text\");\r\n          return;\r\n        }\r\n        const formdata = new FormData(formRef.current);\r\n        if(isEditing)\r\n        { \r\n          formdata.set('postId',postData.post._id);\r\n          formdata.set('text',text);\r\n          formdata.set('feeling',feeling);\r\n          for (var i = 0; i < deletedExistingFiles.length; i++) {\r\n            formdata.append('deletedFile[]', deletedExistingFiles[i]);\r\n          }\r\n          for (var j = 0; j < uploadedFiles.length; j++) {\r\n            if (uploadedFiles[j].file) {\r\n              formdata.append('fileInput[]', uploadedFiles[j].file);\r\n            } else {\r\n              formdata.append('fileInput[]', uploadedFiles[j].fileId);\r\n            }\r\n          }\r\n          await axios({\r\n            method:'post',\r\n            url:'/post/editPost',\r\n            data:formdata,\r\n            headers:{'Content-Type': 'multipart/form-data'}\r\n          })\r\n          .then(res=>res.data)\r\n          .catch(err=>console.log(err))\r\n          .then(res=>{\r\n            if(res.result)\r\n            {\r\n              setPost(prevData=>{\r\n                const temp=[];\r\n                for(let i =0;i<prevData.length;i++)\r\n                {\r\n                  if(prevData[i]._id===res.result.docs._id)\r\n                  {\r\n                    temp.push(res.result.docs)\r\n                  }\r\n                  else\r\n                  {\r\n                    temp.push(prevData[i]);\r\n                  }\r\n                }\r\n                return temp;\r\n              })\r\n              handlePost();\r\n            }\r\n            else\r\n            {\r\n              alert(\"Failed to edit post\");\r\n            }\r\n          })\r\n          .catch(err=>console.log(err));\r\n        }\r\n        else\r\n        {\r\n            const formdata = new FormData(formRef.current);\r\n            for(let i =0;i<uploadedFiles.length;i++)\r\n            {\r\n                formdata.append('fileInput[]',uploadedFiles[i].file);\r\n            }\r\n            \r\n            await axios({\r\n                method:'post',\r\n                url:'/post/createPost',\r\n                data:formdata\r\n            })\r\n            .then(res=>res.data)\r\n            .catch(err=>console.log(err))\r\n            .then(res=>{\r\n              if(res)\r\n              {\r\n                alert(\"Memory Created!\");\r\n                setPost(prevData=>{\r\n                  return[res,...prevData];\r\n                })\r\n              }\r\n              else\r\n              {\r\n                alert(\"Opps something went wrong\")\r\n              }\r\n            })\r\n            .catch(err=>console.log(err))\r\n            handlePost();\r\n        }\r\n      }\r\n    return<div className=\"create-div\">\r\n           <div className=\"create-title\">\r\n               <h3>{isEditing?\"Edit\":\"Create\"} Memory</h3>\r\n               <IconButton onClick={handlePost} id=\"create-close-btn\"><CloseIcon/></IconButton>\r\n            </div>\r\n            <form ref={formRef} >\r\n                <div className=\"create-feeling-div\">\r\n                    <div className=\"create-profile-pic\">\r\n                    <ReactAvatar\r\n                    src=\"/gridFs/getProfile\"\r\n                    />\r\n                    </div>\r\n                    <div className=\"create-greeting\">\r\n                        <p>Hi, {userInfo.nickname} how are you feeling today?</p>\r\n                    </div>\r\n                    <div className=\"create-select\">\r\n                        <NativeSelect\r\n                        value={feeling}\r\n                        onChange={(event)=>setFeeling(event.target.value)}\r\n                        id=\"create-feeling\"\r\n                        name=\"feeling\"\r\n                        >\r\n                        <option aria-label=\"None\" value=\"\" />\r\n                        <option value=\"happy\">Happy 😀 </option>\r\n                        <option value=\"sad\">Sad ☹️</option>\r\n                        <option value=\"surprise\">Surprised 😮</option>\r\n                        <option value=\"meh\">Meh 😕</option>\r\n                        <option value=\"annoyed\">Annoyed 🙄</option>\r\n                        <option value=\"sleepy\">Sleepy 😴</option>\r\n                        <option value=\"love\">Love 🥰</option>\r\n                        <option value=\"touched\">Touched 😭</option>\r\n                        <option value=\"shy\">Shy 😌</option>\r\n                        <option value=\"amazed\">Amazed 🤩</option>\r\n                        </NativeSelect>\r\n                    </div>\r\n                </div>\r\n                <div className=\"create-textarea\">\r\n                        <textarea placeholder=\"What's on your mind?\" rows=\"10\" value={text} onChange={(e)=>setText(e.target.value)} name=\"text\" id=\"text\"/>\r\n                </div>\r\n                <div className=\"create-gallery-div\">\r\n                <Gallery photos={uploadedFiles} renderImage={imageRenderer} id=\"create-gallery\"/> \r\n                </div>\r\n                <div className=\"create-btn-div\">\r\n                <IconButton id=\"create-btn\" onClick={()=>document.getElementById('create-photo').click()}><AddPhotoAlternateIcon/></IconButton>\r\n                <input type=\"file\" hidden id=\"create-photo\" onChange={handleUploadFiles}/>\r\n                {uploadedFiles.length>0&&<IconButton id=\"create-btn\" onClick={handleDeleteChosenFiles}><DeleteIcon/></IconButton>}\r\n                </div>\r\n                <div className=\"create-post-div\">\r\n                <Button variant=\"contained\" id=\"create-post-btn\" onClick={togglePost}>\r\n                Post\r\n                </Button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n}","import '../../css/memoryPost.css'\r\nimport ReactAvatar from '@material-ui/core/Avatar';\r\nimport MoreHorizIcon from '@material-ui/icons/MoreHoriz';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport ImageGallery from \"react-image-gallery\";\r\nimport { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\n\r\n\r\nexport default function MemoryPost(props)\r\n{\r\n    const{post,userId,setIsEditing,setPostData,setIsPosting,setPost} = props\r\n    const [openMore,setOpenMore] = useState(false);\r\n    const [url,setUrl] = useState([]);\r\n\r\n    const emojiMap={\r\n        \"happy\": \"😀\",\r\n        \"sad\": \"☹️\",\r\n        \"surprise\": \"😮\",\r\n        \"meh\": \"😕\",\r\n        \"annoyed\": \"🙄\",\r\n        \"sleepy\": \"😴\",\r\n        \"love\": \"🥰\",\r\n        \"touched\": \"😭\",\r\n        \"shy\": \"😌\",\r\n        \"amazed\": \"🤩\"\r\n    }\r\n\r\n    const monthMap = {\r\n        \"01\": \"January\",\r\n        \"02\": \"February\",\r\n        \"03\": \"March\",\r\n        \"04\": \"April\",\r\n        \"05\": \"May\",\r\n        \"06\": \"June\",\r\n        \"07\": \"July\",\r\n        \"08\": \"August\",\r\n        \"09\": \"September\",\r\n        \"10\": \"October\",\r\n        \"11\": \"November\",\r\n        \"12\": \"December\",\r\n      }\r\n    \r\n\r\n    useEffect(async()=>{\r\n        if(post.fileId)\r\n        {\r\n        let temp =[];\r\n       await post.fileId.map(id=>{\r\n            let url = \"/post/getPostImage/\"+id;\r\n            temp.push(url);\r\n        })\r\n        setUrl(temp);\r\n        }\r\n    },[post])\r\n    \r\n    function constructGalleryUrls(fileId)\r\n    {\r\n        return fileId.map(id=>{\r\n            let url = \"/post/getPostImage/\"+id;\r\n            return {original:url};\r\n        })\r\n        \r\n    }\r\n    function handleEdit()\r\n    {\r\n        setPostData({post:post,url:url});\r\n        setIsEditing(true);\r\n        setIsPosting(true);\r\n        setOpenMore(false);\r\n    }\r\n    async function deletePost()\r\n    {\r\n        const formdata = new FormData();\r\n        formdata.append('postId',post._id);\r\n        if(post.fileId)\r\n        {\r\n            for(let i=0;i<post.fileId.length;i++)\r\n            {\r\n                formdata.append('fileId[]',post.fileId[i])\r\n            }\r\n        }\r\n        await axios({\r\n            method:'post',\r\n            url:'/post/deletePost',\r\n            data:formdata,\r\n            headers:{'Content-Type': 'multipart/form-data'}\r\n        })\r\n        .then(res=>res.data)\r\n        .catch(err=>console.log(err))\r\n        .then(res=>{\r\n            if(res.status)\r\n            {\r\n                setPost(prevData=>{\r\n                    return prevData.filter(posts=>{\r\n                        return posts._id !== post._id;\r\n                    })\r\n                })\r\n\r\n                alert(\"Memory deleted\");\r\n            }\r\n            else{\r\n                alert(\"Opps something went wrong with the server!\")\r\n            }\r\n        })\r\n    }\r\n\r\n    function formatDate(date) {\r\n        const today = new Date(parseInt(Date.parse(date), 10));\r\n        var dd = String(today.getDate()).padStart(2, '0');\r\n        var mm = String(today.getMonth() + 1).padStart(2, '0'); //January is 0!\r\n        var yyyy = today.getFullYear();\r\n        return dd + \" \" + monthMap[mm]+\" \"+yyyy\r\n      }\r\n\r\n    return<div className=\"post-div\">\r\n        {openMore&&<div className=\"post-more-div\">\r\n            <div className=\"post-more-option edit\" onClick={handleEdit}>\r\n            Edit Memory\r\n            </div>\r\n            <div className=\"post-more-option delete\" onClick={deletePost}>\r\n            Delete Memory\r\n            </div>\r\n            </div>}\r\n        <IconButton id=\"post-more\" onClick={()=>setOpenMore(!openMore)}><MoreHorizIcon fontSize=\"medium\"/></IconButton>\r\n        <div className=\"post-header\">\r\n            {userId===post.userId?<ReactAvatar src=\"/gridFs/getProfile\" id=\"post-avatar\"/>:<ReactAvatar src=\"/gridFs/getPartnerProfile\" id=\"post-avatar\"/>}\r\n           <div className=\"post-desc\">\r\n            <div className=\"post-feeling\">\r\n                <h3>{post.nickname}</h3>\r\n                {post.feeling&&<h3> &nbsp;• &nbsp;is feeling {post.feeling}&nbsp;{emojiMap[post.feeling]}</h3>}  \r\n            </div>\r\n              <div className=\"post-time\">\r\n                <p>{formatDate(post.timeOfCreation)}</p>\r\n              </div>\r\n            </div> \r\n        </div>\r\n        <div className=\"post-text\">\r\n        {post.text}\r\n        </div>\r\n        <div className=\"post-images\">\r\n        {post.fileId&&\r\n            <ImageGallery items={constructGalleryUrls(post.fileId)} showFullscreenButton={false} showPlayButton={false} showThumbnails={false} className=\"post-gallery\" />\r\n        }\r\n        </div>\r\n    </div>\r\n}","import {useEffect, useState, useRef} from 'react';\r\nimport axios from 'axios';\r\nimport NavBar from '../Navbar';\r\nimport '../../css/memoryBook.css';\r\nimport CreatePost from './CreatePost';\r\nimport MemoryPost from './MemoryPost';\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline';\r\nimport IconButton from '@material-ui/core/IconButton';\r\n\r\nexport default function MemoryBook()\r\n{\r\n    const [userInfo,setUserInfo] = useState();\r\n    const [partnerInfo,setPartnerInfo] = useState();\r\n    const [postData,setPostData] = useState();\r\n    const [isEditing,setIsEditing] = useState(false);\r\n    const [isPosting,setIsPosting] = useState(false);\r\n    const [posts,setPosts] = useState([]);\r\n    const [havePartner,setHavePartner] = useState(false);\r\n\r\n    const formRef = useRef();\r\n\r\n\r\n   \r\n\r\n\r\n    useEffect(()=>{\r\n         axios.get('/auth/isLoggedIn')\r\n        .then(res=>res.data)\r\n        .catch(err=>console.log(err))\r\n        .then(res=>{\r\n            if(res.isLoggedIn)\r\n            {\r\n                if(res.user.partner!==null)\r\n                {\r\n                    setHavePartner(true);\r\n                }\r\n                setUserInfo(res.user);\r\n                setPartnerInfo(res.partnerInfo);\r\n\r\n                axios({\r\n                    method:'post',\r\n                    url:'/post/getPosts',\r\n                })\r\n                .then(res=>res.data)\r\n                .catch(err=>console.log(err))\r\n                .then(res=>{\r\n                    if(res.success)\r\n                    {\r\n                        setPosts(res.posts)\r\n                    }\r\n                })\r\n            }\r\n        })\r\n    },[])  \r\n\r\n    function handlePost()\r\n    {\r\n        setIsPosting(false);\r\n        setIsEditing(false);\r\n        setPostData();\r\n    }\r\n    return <div className=\"memoryBook\">\r\n        {isPosting&&<CreatePost  setPostData={setPostData} setPost={setPosts} postData={postData} handlePost={handlePost} userInfo={userInfo} setIsPosting={setIsPosting} isEditing={isEditing} setIsEditing={setIsEditing}/>}\r\n        <div className=\"memoryBook-div\" id=\"memoryBook\" style={{opacity:isPosting||isEditing?\"0.3\":\"1\"}}>\r\n            <NavBar havePartner={havePartner}/>\r\n                <div className=\"postDiv\">\r\n                    <div className=\"post-option\">\r\n                    <h3>Post Some Memorable Moment Here</h3>\r\n                    <Button variant=\"contained\" id=\"memory-create-post\" onClick={()=>setIsPosting(true)}>\r\n                    Create Memory 🤍\r\n                    </Button>\r\n                    </div>\r\n            </div>\r\n            {posts.map(post=>{\r\n              return  <MemoryPost key={post._id}  setPost={setPosts} setPostData={setPostData} setIsPosting={setIsPosting} isEditing={isEditing} setIsEditing={setIsEditing} post={post} userId={userInfo._id}/>\r\n            })}\r\n        </div>\r\n    </div>\r\n}","import { Route, Switch } from 'react-router-dom';\r\nimport Login from './components/Login';\r\nimport Home from './components/Home';\r\nimport UserProfileForm from './components/UserProfileForm';\r\nimport ChatRoom from './components/ChatRoom';\r\nimport {ContextProvider} from './SocketContext';\r\nimport Cinema from './components/Cinema';\r\nimport MemoryBook from './components/MemoryBook/MemoryBook';\r\n// import './App.css';\r\n\r\nexport default function App(props) {\r\n  return (\r\n    <main>\r\n      <Switch>\r\n        <Route path=\"/\" exact component={Home}/>\r\n        <Route path=\"/login\" exact component={Login}/>\r\n        <Route path=\"/userProfileForm\" exact component={UserProfileForm}/>\r\n        <Route path=\"/cinema\" exact component={Cinema}/>\r\n        <Route path=\"/memoryBook\" exact component={MemoryBook}/>\r\n        <ContextProvider>\r\n        <Route path=\"/chatRoom\" exact component={ChatRoom}/>\r\n        </ContextProvider>\r\n      </Switch>\r\n    </main>\r\n  )\r\n}\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n \r\n  // <ContextProvider>\r\n  <BrowserRouter>\r\n    <App />\r\n  </BrowserRouter>\r\n  // </ContextProvider>  \r\n  ,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"]}}