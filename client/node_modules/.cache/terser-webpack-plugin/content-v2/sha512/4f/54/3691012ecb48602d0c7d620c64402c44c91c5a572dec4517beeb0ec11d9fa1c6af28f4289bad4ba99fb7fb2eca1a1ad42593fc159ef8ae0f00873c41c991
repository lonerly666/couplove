{"code":"(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{220:function(e,t,n){},244:function(e,t,n){},245:function(e,t,n){},246:function(e,t,n){},248:function(e,t,n){},280:function(e,t,n){},281:function(e,t,n){},282:function(e,t,n){},283:function(e,t,n){},307:function(e,t){},309:function(e,t){},318:function(e,t,n){},337:function(e,t,n){},338:function(e,t,n){},339:function(e,t,n){},340:function(e,t,n){},354:function(e,t,n){\"use strict\";n.r(t);var a=n(18),c=n.n(a),r=n(116),i=n(19),s=n(382),o=(n(220),n(1));function l(){return Object(o.jsx)(\"div\",{className:\"login-page-div\",children:Object(o.jsxs)(\"div\",{className:\"login-page\",children:[Object(o.jsx)(\"div\",{className:\"title\",children:Object(o.jsx)(\"h1\",{children:\"Welcome to Couplove!\"})}),Object(o.jsxs)(s.a,{variant:\"contained\",onClick:function(){window.location.href=\"/auth/google\"},id:\"home-login-btn\",children:[Object(o.jsx)(\"img\",{src:\"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg\",className:\"g-logo\"}),\"\\xa0\\xa0Login With Google\"]})]})})}var d=n(8),u=n.n(d),j=n(81),b=n(11),h=n(42),m=n(6),f=n(0),O=n(9),p=n.n(O),v=(n(244),n(245),n(394)),g=n(166),x=n.n(g),y=n(386),w=n(55),I=n.n(w);function k(e){var t=e.reqInfo,n=e.setHavePartner,a=e.setRequestList,c=\"/gridFs/getOtherProfile/\"+t.senderId;function r(){return(r=Object(b.a)(u.a.mark((function e(n){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),(c=new FormData).append(\"senderId\",t.senderId),e.next=5,p()({method:\"post\",url:\"/user/declineRequest\",data:c,header:{\"Content-Type\":\"multipart/form-data\"}}).then((function(e){return e.data})).catch((function(e){return console.log(e)})).then((function(e){console.log(e),e?a((function(e){return e.filter((function(e){return e.senderId!==t.senderId}))})):alert(\"Opps something wrong with the server\")}));case 5:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}return Object(o.jsxs)(\"div\",{className:\"info-div\",children:[Object(o.jsx)(\"div\",{className:\"info-sender-profile-div\",children:Object(o.jsx)(v.a,{id:\"info-sender-avatar\",src:c})}),Object(o.jsxs)(\"div\",{className:\"info-sender-desc\",children:[t.senderNickname,\" wants to be your partner\",Object(o.jsx)(\"br\",{}),Object(o.jsx)(y.a,{id:\"info-req-option\",onClick:function(e){e.preventDefault();var c=new FormData;c.append(\"senderId\",t.senderId),p()({method:\"post\",url:\"/user/acceptRequest\",data:c,headers:{\"Content-Type\":\"multipart/form-data\"}}).then((function(e){return e.data})).catch((function(e){return console.log(e)})).then((function(e){e.result&&(a((function(e){return e.filter((function(e){return e.senderId!==t.senderId}))})),n(!0))}))},children:Object(o.jsx)(x.a,{})}),Object(o.jsx)(y.a,{id:\"info-req-option\",onClick:function(e){return r.apply(this,arguments)},children:Object(o.jsx)(I.a,{})})]})]})}function N(e){var t=e.requestList,n=e.setHavePartner,a=e.setRequestList;return Object(o.jsx)(\"div\",{className:\"req-list-div\",children:t.map((function(e){return Object(o.jsx)(k,{setRequestList:a,reqInfo:e,setHavePartner:n})}))})}var C=n(167),S=n.n(C),B=n(96),E=n.n(B);function D(e){var t=e.handleSendReq,n=e.formRef,a=e.havePartner,c=e.requestList,r=e.setHavePartner,i=e.setRequestList,s=e.isHome,l=Object(f.useState)(!1),d=Object(m.a)(l,2),j=d[0],h=d[1];function O(){return(O=Object(b.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p()({method:\"post\",url:\"/home/checkExist\"});case 2:return(n=new FormData).append(\"file\",t.target.files[0]),e.next=6,p()({method:\"post\",url:\"/home/upload\",data:n,headers:{\"Content-Type\":\"multipart/formdata\"}}).then((function(e){return e.data})).catch((function(e){return console.log(e)})).then((function(e){window.location.reload()}));case 6:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}return Object(o.jsxs)(\"div\",{className:\"nav-div\",children:[Object(o.jsx)(\"div\",{className:\"nav-title\",onClick:function(){return window.open(\"/\",\"_self\")},children:Object(o.jsx)(\"h3\",{children:\"Couplove\"})}),Object(o.jsxs)(\"div\",{className:\"nav-activity-div\",children:[Object(o.jsx)(\"div\",{className:\"nav-activity logout\",onClick:function(){return window.location.href=\"/auth/logout\"},children:\"Logout\"}),s&&Object(o.jsx)(y.a,{style:{color:\"white\"},onClick:function(){return document.getElementById(\"background-file\").click()},children:Object(o.jsx)(E.a,{})}),s&&Object(o.jsx)(\"input\",{type:\"file\",hidden:!0,id:\"background-file\",onChange:function(e){return O.apply(this,arguments)},name:\"file\"}),Object(o.jsx)(\"div\",{className:\"nav-activity profile\",onClick:function(){return window.location.href=\"/userProfileForm\"},children:\"Profile\"}),a&&Object(o.jsx)(\"div\",{className:\"nav-activity chat\",onClick:function(){return window.open(\"/chatRoom\",\"_self\")},children:\"Chat Room\"}),a&&Object(o.jsx)(\"div\",{className:\"nav-activity cinema\",onClick:function(){return window.open(\"/cinema\",\"_self\")},children:\"Cinema\"}),a&&Object(o.jsx)(\"div\",{className:\"nav-activity memory\",onClick:function(){return window.open(\"/memoryBook\",\"_self\")},children:\"Memory Book\"}),!a&&Object(o.jsx)(\"div\",{className:\"nav-sendRequest\",children:Object(o.jsxs)(\"form\",{onSubmit:t,ref:n,children:[Object(o.jsx)(\"input\",{type:\"text\",id:\"reqId\",name:\"reqId\",placeholder:\"Partner ID\"}),Object(o.jsx)(\"input\",{type:\"submit\",value:\"+\",className:\"nav-submit\"})]})}),!a&&Object(o.jsxs)(\"div\",{className:\"nav-request\",children:[Object(o.jsx)(y.a,{style:{color:\"whitesmoke\"},onClick:function(){return h(!j)},children:Object(o.jsx)(S.a,{})}),j&&Object(o.jsx)(N,{requestList:c,setHavePartner:r,setRequestList:i})]})]})]})}n(246);var P=n(104),F=n.n(P),R=n(23),M=n(391),T=n(83);function L(){var e,t=Object(f.useState)(),n=Object(m.a)(t,2),a=n[0],c=n[1],r=Object(f.useState)(),i=Object(m.a)(r,2),l=i[0],d=i[1],O=Object(f.useState)(!1),v=Object(m.a)(O,2),g=v[0],x=v[1],w=Object(f.useState)([]),k=Object(m.a)(w,2),N=k[0],C=k[1],S=Object(f.useState)(!1),B=Object(m.a)(S,2),E=B[0],P=B[1],L=Object(f.useState)(!1),_=Object(m.a)(L,2),q=_[0],A=_[1],W=Object(f.useState)(!1),z=Object(m.a)(W,2),U=z[0],Y=z[1],V=Object(f.useState)(!1),H=Object(m.a)(V,2),J=H[0],G=H[1],K=Object(f.useState)(!1),Z=Object(m.a)(K,2),X=Z[0],$=Z[1],Q=Object(f.useState)(),ee=Object(m.a)(Q,2),te=ee[0],ne=ee[1],ae=Object(f.useState)(),ce=Object(m.a)(ae,2),re=ce[0],ie=ce[1],se=Object(f.useState)(),oe=Object(m.a)(se,2),le=oe[0],de=oe[1],ue=Object(f.useState)(),je=Object(m.a)(ue,2),be=je[0],he=je[1],me=Object(f.useState)(),fe=Object(m.a)(me,2),Oe=fe[0],pe=fe[1],ve=Object(f.useState)(),ge=Object(m.a)(ve,2),xe=ge[0],ye=ge[1],we=Object(f.useState)(),Ie=Object(m.a)(we,2),ke=Ie[0],Ne=Ie[1],Ce=Object(f.useState)(\"\"),Se=Object(m.a)(Ce,2),Be=Se[0],Ee=Se[1],De=Object(f.useState)(!0),Pe=Object(m.a)(De,2),Fe=Pe[0],Re=(Pe[1],Object(f.useState)()),Me=Object(m.a)(Re,2),Te=Me[0],Le=Me[1],_e=Object(f.useRef)(),qe=Object(f.useRef)(),Ae=Object(f.useRef)(),We={\"01\":\"January\",\"02\":\"February\",\"03\":\"March\",\"04\":\"April\",\"05\":\"May\",\"06\":\"June\",\"07\":\"July\",\"08\":\"August\",\"09\":\"September\",10:\"October\",11:\"November\",12:\"December\"};function ze(e){var t=new Date(parseInt(Date.parse(e),10)),n=String(t.getDate()).padStart(2,\"0\"),a=String(t.getMonth()+1).padStart(2,\"0\");t.getFullYear();return n+\" \"+We[a]}function Ue(e){e.preventDefault();var t=new FormData(_e.current);p()({method:\"post\",url:\"/user/sendRequest\",data:t,headers:{\"Content-Type\":\"multipart/form-data\"}}).then((function(e){return e.data})).catch((function(e){return console.log(e)})).then((function(e){e.isSent?alert(\"sent!\"):(alert(e.status),console.log(e))})),document.getElementById(\"reqId\").value=\"\"}function Ye(e){\"special\"===e?document.getElementById(\"hover-special\").style.opacity=\"1\":\"day\"===e?document.getElementById(\"hover-day\").style.opacity=\"1\":\"bday\"===e&&(document.getElementById(\"hover-bday\").style.opacity=\"1\")}function Ve(e){\"special\"===e?document.getElementById(\"hover-special\").style.opacity=\"0\":\"day\"===e?document.getElementById(\"hover-day\").style.opacity=\"0\":\"bday\"===e&&(document.getElementById(\"hover-bday\").style.opacity=\"0\")}function He(e){return Je.apply(this,arguments)}function Je(){return(Je=Object(b.a)(u.a.mark((function e(t){var n,a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(\"day\"!==t){e.next=12;break}if(!J){e.next=8;break}return(n=new FormData).append(\"type\",t),e.next=6,p()({method:\"post\",url:\"/widget/createWidget\",data:n,headers:{\"Content-Type\":\"multipart/form-data\"}}).then((function(e){return e.data})).catch((function(e){return console.log(e)})).then((function(e){P(!0)}));case 6:e.next=10;break;case 8:document.getElementById(\"noDayWidget\").style.display=\"none\",$(!0);case 10:e.next=24;break;case 12:if(\"bday\"!==t){e.next=19;break}return(a=new FormData).append(\"type\",\"bday\"),e.next=17,p()({method:\"post\",url:\"/widget/createWidget\",data:a,headers:{\"Content-Type\":\"multipart/form-data\"}}).then((function(e){return e.data})).catch((function(e){return console.log(e)})).then((function(e){e&&Y(!0)}));case 17:e.next=24;break;case 19:if(\"special\"!==t){e.next=24;break}return(c=new FormData).append(\"type\",\"special\"),e.next=24,p()({method:\"post\",url:\"/widget/createWidget\",data:c,headers:{\"Content-Type\":\"multipart/formdata\"}}).then((function(e){return e.data})).catch((function(e){return console.log(e)})).then((function(e){e&&A(!0)}));case 24:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function Ge(){return(Ge=Object(b.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(n=new FormData(Ae.current)).append(\"type\",\"day\"),e.next=5,p()({method:\"post\",url:\"/widget/createWidget\",data:n,headers:{\"Content-Type\":\"multipart/form-data\"}}).then((function(e){return e.data})).catch((function(e){return console.log(e)})).then((function(e){$(!1),P(!0)}));case 5:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function Ke(e){\"day\"===e?document.getElementById(\"home-delete-dayWidget\").style.visibility=\"visible\":\"bday\"===e?document.getElementById(\"home-delete-bdayWidget\").style.visibility=\"visible\":\"special\"===e&&(document.getElementById(\"home-delete-specialWidget\").style.visibility=\"visible\")}function Ze(){E&&(document.getElementById(\"home-delete-dayWidget\").style.visibility=\"hidden\"),U&&(document.getElementById(\"home-delete-bdayWidget\").style.visibility=\"hidden\"),q&&(document.getElementById(\"home-delete-specialWidget\").style.visibility=\"hidden\")}function Xe(e){return $e.apply(this,arguments)}function $e(){return($e=Object(b.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append(\"type\",t),e.next=4,p()({method:\"post\",url:\"/widget/deleteWidget\",data:n,headers:{\"Content-Type\":\"multipart/form-data\"}}).then((function(e){return e.data})).catch((function(e){return console.log(e)})).then((function(e){e&&(\"day\"===t&&P(!1),\"bday\"===t&&Y(!1),\"special\"===t&&A(!1))}));case 4:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}return Object(f.useEffect)((function(){var e=new AbortController;return p.a.get(\"/auth/isLoggedIn\").then((function(e){return e.data})).catch((function(e){return console.log(e)})).then((function(e){if(!1===e.isLoggedIn)window.open(\"/login\",\"_self\");else if(void 0===e.user.nickname)window.open(\"/userProfileForm\",\"_self\");else{p.a.get(\"/home/getBackground\").then((function(e){return e.data})).catch((function(e){return console.log(e)})).then((function(e){e?(Ee(\"/home/getBackground\"),document.getElementById(\"foreground\").style.visibility=\"hidden\"):(Ee(\"https://s3-us-west-2.amazonaws.com/s.cdpn.io/751678/my-illustration-background.png\"),document.getElementById(\"foreground\").style.visibility=\"visible\")}));var t=new Date(e.user.dateOfRelationship),n=\"0\"+(t.getMonth()+1)+\"/\"+t.getDate(),a=[{date:\"02/14\",event:\"Valentines Day\"},{date:\"05/20\",event:\"520 Day\"},{date:\"12/25\",event:\"Christmas Day\"},{date:\"12/31\",event:\"New Year Eve\"},{date:n,event:\"Anniversary Day\"}];if(d(e.partnerInfo),c(e.user),null!==e.user.dateOfRelationship&&(G(!0),Le(e.user.dateOfRelationship),e.widget))for(var r=0;r<e.widget.widget.length;r++)if(\"day\"===e.widget.widget[r].type){P(!0);var i=new Date,s=new Date(e.user.dateOfRelationship),o=i.getTime()-s.getTime();ne(parseInt(o/864e5)+1)}else if(\"bday\"===e.widget.widget[r].type){var l=ze(e.partnerInfo.dateOfBirth),u=ze(e.user.dateOfBirth);de(l),ie(u);var j=new Date,b=new Date(e.partnerInfo.dateOfBirth),m=new Date(e.user.dateOfBirth);b.setFullYear(j.getFullYear()),m.setFullYear(j.getFullYear()),j>b&&b.setFullYear(j.getFullYear()+1),j>m&&m.setFullYear(j.getFullYear()+1);var f=parseInt((b.getTime()-j.getTime())/864e5),O=parseInt((m.getTime()-j.getTime())/864e5);pe(0===f?\"Today is your partner's Birthday!\":Math.abs(f)),he(0===O?\"Today is your Birthday!\":Math.abs(O)),Y(!0)}else\"special\"===e.widget.widget[r].type&&function(){A(!0);var e=new Date,t=e.getFullYear(),c=99999999999;a.map((function(n){var a=new Date(t+\"/\"+n.date);e>a&&a.setFullYear(e+1);var r=Math.abs(parseInt(e.getTime()-a.getTime())/864e5);r<c&&(c=r+1,ye(n.event))})),0===Math.round(c)?Ne(\"Today is \"+n.event+\" !\"):Ne(Math.round(c))}();p()({method:\"get\",url:\"/user/getRequest\",headers:{\"Content-Type\":\"multipart/form-data\"}}).then((function(e){return e.data})).catch((function(e){return console.log(e)})).then((function(e){var t=[];e.requests.map((function(e){t.push(Object(h.a)({},e))})),C(t)})),null!==e.user.partner&&x(!0)}})),function(){e.abort()}}),[E,q,U]),N.map((function(e){console.log(e)})),Object(o.jsxs)(\"div\",{className:\"home-div\",children:[Object(o.jsx)(D,(e={isHome:Fe,setRequestList:C,setHavePartner:x,requestList:N,havePartner:g,handleSendReq:Ue,formRef:_e,handleLogout:function(){window.location.href=\"/auth/logout\"}},Object(j.a)(e,\"handleSendReq\",Ue),Object(j.a)(e,\"acceptRef\",qe),e)),Object(o.jsxs)(\"div\",{className:\"home-background\",style:{backgroundImage:\"url(\"+Be+\")\"},children:[Object(o.jsxs)(\"div\",{className:\"home-overlay\",children:[Object(o.jsxs)(\"div\",{className:\"home-widget anniverse\",children:[!g&&Object(o.jsx)(\"div\",{className:\"home-noPartner\",children:\"You need to have a partner to access this widget\"}),q?Object(o.jsxs)(\"div\",{className:\"home-event-div\",onMouseOut:Ze,onMouseOver:function(){return Ke(\"special\")},children:[Object(o.jsx)(y.a,{id:\"home-delete-specialWidget\",onClick:function(){return Xe(\"special\")},children:Object(o.jsx)(I.a,{})}),Object(o.jsxs)(\"div\",{className:\"home-event-title\",children:[Object(o.jsx)(\"h3\",{children:\"Up Coming Event:\"}),Object(o.jsx)(\"br\",{}),Object(o.jsx)(\"h1\",{children:xe})]}),Object(o.jsx)(\"div\",{className:\"home-event-day\",children:Object(o.jsxs)(\"h1\",{children:[ke,\" days left\"]})})]}):Object(o.jsxs)(\"div\",{className:\"home-noWidget\",children:[Object(o.jsx)(y.a,{id:\"home-add-widget\",onClick:function(){return He(\"special\")},onMouseOver:function(){return Ye(\"special\")},onMouseOut:function(){return Ve(\"special\")},children:Object(o.jsx)(F.a,{fontSize:\"large\"})}),Object(o.jsx)(\"div\",{className:\"home-add-hover\",id:\"hover-special\",children:\"Add this widget to get to know up coming special events\"})]})]}),Object(o.jsxs)(\"div\",{className:\"home-widget days\",children:[!g&&Object(o.jsx)(\"div\",{className:\"home-noPartner\",children:\"You need to have a partner to access this widget\"}),E?Object(o.jsxs)(\"div\",{className:\"home-totalDay-widget\",onMouseOut:Ze,onMouseOver:function(){return Ke(\"day\")},children:[Object(o.jsx)(y.a,{id:\"home-delete-dayWidget\",onClick:function(){return Xe(\"day\")},children:Object(o.jsx)(I.a,{})}),Object(o.jsxs)(\"h1\",{children:[te,\" DAYS\"]})]}):Object(o.jsxs)(\"div\",{className:\"home-noWidget\",id:\"noDayWidget\",children:[Object(o.jsx)(y.a,{id:\"home-add-widget\",onClick:function(){return He(\"day\")},onMouseOver:function(){return Ye(\"day\")},onMouseOut:function(){return Ve(\"day\")},children:Object(o.jsx)(F.a,{fontSize:\"large\"})}),Object(o.jsx)(\"div\",{className:\"home-add-hover\",id:\"hover-day\",children:\"Add this widget to get to know total days together\"})]}),X&&Object(o.jsxs)(\"div\",{className:\"home-setDate\",children:[Object(o.jsx)(\"div\",{className:\"home-setDate-title\",children:Object(o.jsx)(\"h2\",{children:\"Please set the date of you with your partner\"})}),Object(o.jsxs)(\"form\",{onSubmit:function(e){return Ge.apply(this,arguments)},ref:Ae,children:[Object(o.jsx)(R.a,{utils:T.a,children:Object(o.jsx)(M.a,{margin:\"normal\",id:\"dateOfRelation\",label:\"Date of Relationship\",name:\"dateOfRelation\",format:\"MM/dd/yyyy\",value:Te,onChange:function(e){Le(e)},KeyboardButtonProps:{\"aria-label\":\"change date\"}})}),Object(o.jsx)(s.a,{type:\"submit\",id:\"home-submit-day\",children:\"SUBMIT\"})]})]})]}),Object(o.jsxs)(\"div\",{className:\"home-widget special\",children:[!g&&Object(o.jsx)(\"div\",{className:\"home-noPartner\",children:\"You need to have a partner to access this widget\"}),U?Object(o.jsxs)(\"div\",{className:\"home-dob-div\",onMouseOut:Ze,onMouseOver:function(){return Ke(\"bday\")},children:[Object(o.jsx)(y.a,{id:\"home-delete-bdayWidget\",onClick:function(){return Xe(\"bday\")},children:Object(o.jsx)(I.a,{})}),Object(o.jsxs)(\"div\",{className:\"home-bday-div you\",children:[Object(o.jsx)(\"div\",{className:\"home-bday-name\",children:Object(o.jsx)(\"h1\",{children:a.nickname})}),Object(o.jsx)(\"div\",{className:\"home-bday-border\",children:Object(o.jsxs)(\"div\",{className:\"home-bday-calander\",children:[Object(o.jsx)(\"h2\",{style:{borderBottom:\"1px solid white\"},children:re}),Object(o.jsx)(\"br\",{}),Object(o.jsx)(\"br\",{}),Object(o.jsx)(\"br\",{}),Object(o.jsxs)(\"h1\",{children:[be,\" days left\"]})]})})]}),Object(o.jsxs)(\"div\",{className:\"home-bday-div partner\",children:[Object(o.jsx)(\"div\",{className:\"home-bday-name\",children:Object(o.jsx)(\"h1\",{children:l.nickname})}),Object(o.jsx)(\"div\",{className:\"home-bday-border\",children:Object(o.jsxs)(\"div\",{className:\"home-bday-calander\",children:[Object(o.jsx)(\"h2\",{style:{borderBottom:\"1px solid white\"},children:le}),Object(o.jsx)(\"br\",{}),Object(o.jsx)(\"br\",{}),Object(o.jsx)(\"br\",{}),Object(o.jsxs)(\"h1\",{children:[Oe,\" days left\"]})]})})]})]}):Object(o.jsxs)(\"div\",{className:\"home-noWidget\",children:[Object(o.jsx)(y.a,{id:\"home-add-widget\",onClick:function(){return He(\"bday\")},onMouseOver:function(){return Ye(\"bday\")},onMouseOut:function(){return Ve(\"bday\")},children:Object(o.jsx)(F.a,{fontSize:\"large\"})}),Object(o.jsx)(\"div\",{className:\"home-add-hover\",id:\"hover-bday\",children:\"Add this widget to get to know each other birthdays\"})]})]})]}),Object(o.jsx)(\"div\",{className:\"foreground\",id:\"foreground\"})]})]})}var _=n(395),q=n(387),A=n(396),W=n(390),z=n(392),U=n(397),Y=(n(248),n(169)),V=n.n(Y),H=[{value:\"male\",label:\"male\"},{value:\"female\",label:\"female\"}],J=Object(q.a)((function(e){return{formControl:{marginTop:20,minWidth:\"90%\"}}}));function G(){var e=Object(f.useState)(\"\"),t=Object(m.a)(e,2),n=t[0],a=t[1],c=Object(f.useState)(\"\"),r=Object(m.a)(c,2),i=r[0],l=r[1],d=Object(f.useState)(),j=Object(m.a)(d,2),h=j[0],O=j[1],g=Object(f.useState)(!1),x=Object(m.a)(g,2),w=x[0],I=x[1],k=Object(f.useState)(new Date),N=Object(m.a)(k,2),C=N[0],S=N[1],B=Object(f.useState)(\"male\"),E=Object(m.a)(B,2),D=E[0],P=E[1],F=Object(f.useState)(!1),L=Object(m.a)(F,2),q=(L[0],L[1],Object(f.useState)()),Y=Object(m.a)(q,2),G=Y[0],K=Y[1],Z=Object(f.useState)(),X=Object(m.a)(Z,2),$=X[0],Q=X[1],ee=Object(f.useState)(),te=Object(m.a)(ee,2),ne=te[0],ae=te[1],ce=Object(f.useRef)(),re=J();if(Object(f.useEffect)((function(){var e=new AbortController;return p.a.get(\"/auth/isLoggedIn\").then((function(e){return e.data})).catch((function(e){return console.log(e)})).then((function(e){!1===e.isLoggedIn?window.open(\"/login\",\"_self\"):e.user.nickname&&(ae(e.user._id),a(e.user.nickname),S(e.user.dateOfBirth),P(e.user.gender),l(e.user.bio),null!==e.user.partner&&(K(e.user.partner),e.user.dateOfRelationship&&Q(e.user.dateOfRelationship)))})),function(){e.abort()}}),[]),Object(f.useEffect)((function(){var e=new AbortController;return p()({method:\"get\",url:\"/gridFs/checkExists\",headers:{\"Content-Type\":\"multipart/form-data\"}}).then((function(e){return e.data})).catch((function(e){return console.log(e)})).then((function(e){!0===e&&(document.getElementById(\"overlay\").style.visibility=\"hidden\")})),function(){e.abort()}}),[]),w){var ie=new FileReader;ie.onload=function(e){null!==e.target.result&&document.getElementById(\"avatarImg\").setAttribute(\"src\",e.target.result)},ie.readAsDataURL(h)}function se(){return(se=Object(b.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w&&p.a.get(\"/gridFs/deleteImg\"),t.preventDefault(),n=new FormData(ce.current),G&&n.append(\"partner\",G),e.next=6,p()({method:\"post\",url:\"/user/info\",data:n,headers:{\"Content-Type\":\"multipart/form-data\"}});case 6:window.location.href=\"/\";case 7:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}return Object(o.jsx)(\"div\",{className:\"infoForm\",id:\"infoForm\",children:Object(o.jsxs)(\"form\",{onSubmit:function(e){return se.apply(this,arguments)},ref:ce,children:[Object(o.jsxs)(\"div\",{id:\"avatar\",children:[Object(o.jsx)(v.a,{id:\"overlay\"}),Object(o.jsx)(\"img\",{src:w?\"\":\"/gridFs/getProfile\",id:\"avatarImg\"})]}),Object(o.jsxs)(\"div\",{className:\"fileIpt\",children:[Object(o.jsx)(\"input\",{type:\"file\",name:\"file\",id:\"file\",onChange:function(e){var t=e.target.files[0];void 0!==t&&(document.getElementById(\"overlay\").style.visibility=\"hidden\",O(t),I(!0))}}),Object(o.jsx)(y.a,{id:\"uploadBtn\",onClick:function(){document.getElementById(\"file\").click()},children:Object(o.jsx)(V.a,{})})]}),Object(o.jsx)(\"br\",{}),Object(o.jsxs)(\"div\",{className:\"infoDiv\",children:[Object(o.jsxs)(\"div\",{className:\"home-userId\",children:[Object(o.jsx)(\"h3\",{children:\"Your ID: \"}),ne]}),Object(o.jsx)(\"br\",{}),Object(o.jsx)(_.a,{id:\"nickname\",className:\"inputFields\",label:\"Nickname\",variant:\"outlined\",name:\"nickname\",value:n,onChange:function(e){a(e.target.value)}}),Object(o.jsx)(\"br\",{}),Object(o.jsxs)(W.a,{variant:\"outlined\",className:re.formControl,children:[Object(o.jsx)(A.a,{id:\"demo-simple-select-outlined-label\",children:\"Gender\"}),Object(o.jsx)(z.a,{labelId:\"demo-simple-select-outlined-label\",id:\"demo-simple-select-outlined\",value:D,onChange:function(e){P(e.target.value)},label:\"Gender\",name:\"gender\",children:H.map((function(e){return Object(o.jsx)(U.a,{value:e.value,children:e.label},e.value)}))})]}),Object(o.jsx)(\"br\",{}),Object(o.jsx)(R.a,{utils:T.a,style:{marginLeft:\"10px\"},children:Object(o.jsx)(M.a,{margin:\"normal\",id:\"dateOfBirth\",label:\"Date of birth (mm/dd/yyyy)\",name:\"dateOfBirth\",format:\"MM/dd/yyyy\",value:C,onChange:function(e){S(e)},KeyboardButtonProps:{\"aria-label\":\"change date\"}})}),$&&Object(o.jsx)(R.a,{utils:T.a,children:Object(o.jsx)(M.a,{margin:\"normal\",id:\"dateOfRelation\",label:\"Date of relationship\",name:\"dateOfRelationship\",format:\"MM/dd/yyyy\",value:$,onChange:function(e){Q(e)},KeyboardButtonProps:{\"aria-label\":\"change date\"}})}),Object(o.jsx)(\"br\",{}),Object(o.jsx)(_.a,{id:\"bio\",label:\"Bio\",variant:\"outlined\",name:\"bio\",className:\"inputFields\",value:i,onChange:function(e){l(e.target.value)}}),Object(o.jsx)(\"br\",{}),Object(o.jsx)(s.a,{type:\"submit\",id:\"submitInfo\",children:\"submit\"})]})]})})}var K=n(49),Z=n(78),X=n.n(Z),$=(n(280),n(170)),Q=n.n($);function ee(e){var t=e.handleSendMsg;return Object(o.jsx)(\"div\",{className:\"foot\",children:Object(o.jsxs)(\"form\",{onSubmit:t,className:\"input-form\",children:[Object(o.jsx)(\"input\",{type:\"text\",className:\"msg\",placeholder:\"Type a message...\",id:\"chat\"}),Object(o.jsx)(y.a,{type:\"submit\",id:\"sendIcon\",children:Object(o.jsx)(Q.a,{})})]})})}n(281),n(282);var te=n(100),ne=n.n(te),ae=n(101),ce=n.n(ae);function re(e){e.toggleBackHome;var t=e.partnerInfo,n=e.partnerStatus,a=e.toggleVideoCall,c=(e.callAccepted,e.setBackgroundUrl,Object(f.useState)(!1)),r=Object(m.a)(c,2),i=r[0],s=r[1],l=Object(f.useState)(!1),d=Object(m.a)(l,2),j=d[0],h=d[1],O=Object(f.useState)(!1),v=Object(m.a)(O,2),g=v[0],x=v[1];Object(f.useRef)();function w(){return(w=Object(b.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get(\"/chat/deleteBackground\");case 2:return(n=new FormData).append(\"file\",t.target.files[0]),e.next=6,p()({method:\"post\",url:\"/chat/uploadChatImg\",data:n,headers:{\"Content-Type\":\"multipart/form-data\"}});case 6:window.location.reload();case 7:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}return Object(f.useEffect)((function(){var e=new AbortController;return t&&s(!0),function(){e.abort()}}),[t]),n&&t&&n.map((function(e){e===t._id&&h(!0)})),Object(o.jsxs)(\"div\",{className:\"chatNav-div\",children:[j&&Object(o.jsx)(\"h1\",{children:\"ONLINE\"}),g&&Object(o.jsx)(\"div\",{className:\"chatNav-moreOption\",children:Object(o.jsxs)(\"div\",{className:\"chatNav-changeBackground\",onClick:function(){return document.getElementById(\"chatNav-file\").click()},children:[Object(o.jsx)(E.a,{}),Object(o.jsx)(\"input\",{type:\"file\",name:\"file\",hidden:!0,id:\"chatNav-file\",onChange:function(e){return w.apply(this,arguments)}})]})}),Object(o.jsxs)(\"div\",{className:\"head\",children:[Object(o.jsxs)(\"div\",{className:\"user\",children:[Object(o.jsx)(\"div\",{className:\"avatar\",id:\"avatarStatus\",children:Object(o.jsx)(\"img\",{src:\"/gridFs/getPartnerProfile\"})}),i&&Object(o.jsx)(\"div\",{className:\"name\",children:t.nickname})]}),Object(o.jsxs)(\"ul\",{id:\"bar_tool\",children:[Object(o.jsx)(y.a,{id:\"iconBtn\",onClick:a,children:Object(o.jsx)(\"span\",{className:\"alink\",children:Object(o.jsx)(ne.a,{id:\"contact\"})})}),Object(o.jsx)(y.a,{id:\"iconBtn\",onClick:function(){return x(!g)},children:Object(o.jsx)(\"span\",{className:\"alink\",children:Object(o.jsx)(ce.a,{id:\"contact\"})})})]})]})]})}n(283);function ie(e){var t=e.textInfo,n=e.user;return t&&t.userId===n._id?Object(o.jsx)(\"div\",{className:\"bubble-div righter\",children:Object(o.jsx)(\"div\",{className:\"context\",children:Object(o.jsx)(\"p\",{children:t&&t.text})})}):Object(o.jsxs)(\"div\",{className:\"bubble-div lefter\",children:[Object(o.jsx)(\"div\",{className:\"img-div\",children:Object(o.jsx)(\"img\",{src:\"/gridFs/getPartnerProfile\"})}),Object(o.jsx)(\"div\",{className:\"context\",children:Object(o.jsx)(\"p\",{children:t&&t.text})})]})}n(284);var se,oe,le=n(117),de=n.n(le),ue=Object(f.createContext)(),je=!1,be=function(e){var t=e.children,n=Object(f.useState)(!1),a=Object(m.a)(n,2),c=a[0],r=a[1],i=Object(f.useState)(!1),s=Object(m.a)(i,2),l=s[0],d=s[1],j=Object(f.useState)(),h=Object(m.a)(j,2),O=h[0],p=h[1],v=Object(f.useState)({}),g=Object(m.a)(v,2),x=g[0],y=g[1],w=Object(f.useState)(\"\"),I=Object(m.a)(w,2),k=I[0],N=I[1],C=Object(f.useState)(\"\"),S=Object(m.a)(C,2),B=S[0],E=S[1],D=Object(f.useState)([]),P=Object(m.a)(D,2),F=P[0],R=P[1],M=Object(f.useState)(),T=Object(m.a)(M,2),L=(T[0],T[1],Object(f.useState)(!1)),_=Object(m.a)(L,2),q=_[0],A=_[1],W=Object(f.useState)(!1),z=Object(m.a)(W,2),U=z[0],Y=z[1],V=Object(f.useState)(!0),H=Object(m.a)(V,2),J=H[0],G=(H[1],Object(f.useState)()),K=Object(m.a)(G,2),X=K[0],$=(K[1],Object(f.useRef)()),Q=Object(f.useRef)(),ee=Object(f.useRef)();Object(f.useEffect)((function(){(se=Object(Z.io)(\"localhost:5000\")).on(\"chatMsg\",(function(e){R(e)})),se.on(\"startCalling\",(function(e){ce()})),se.on(\"start\",(function(e){A(!0)})),se.on(\"no\",(function(e){Y(!0),alert(\"your partner is not online!\")}))}),[]),Object(f.useEffect)((function(){if(!q)return null;se.on(\"returnDiv\",(function(e){document.getElementById(\"chat-body\").style.marginRight=\"auto\",document.getElementById(\"chat-body\").style.marginLeft=\"auto\",document.getElementById(\"video-div\").style.visibility=\"hidden\"})),se.on(\"calluser\",function(){var e=Object(b.a)(u.a.mark((function e(t){var n,a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.from,a=t.name,c=t.signal,y({isReceivingCall:!0,from:n,name:a,signal:c});case 2:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),se.on(\"moveDiv\",(function(e){document.getElementById(\"chat-body\").style.marginRight=\"auto\",document.getElementById(\"chat-body\").style.marginLeft=\"10px\",document.getElementById(\"video-div\").style.visibility=\"visible\"})),se.on(\"dc\",(function(e){re()}))}),[q]);var te=!0,ne=!0,ae=function(){var e=Object(b.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then((function(e){p(e),t=e,$.current.srcObject=e}));case 2:r(!0),(n=new de.a({initiator:!1,trickle:!1,stream:t})).on(\"signal\",(function(e){se.emit(\"answercall\",{signal:e,to:x.from})})),n.on(\"stream\",(function(e){console.log(\"this is the remote stream: \"+e),Q.current.srcObject=e})),n.signal(x.signal),ee.current=n;case 8:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ce=function(){var e=Object(b.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!U){e.next=2;break}return e.abrupt(\"return\",null);case 2:return e.next=4,navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then((function(e){p(e),t=e,$.current.srcObject=e}));case 4:je=!0,(n=new de.a({initiator:!0,trickle:!1,stream:t})).on(\"signal\",(function(e){se.emit(\"calluser\",{signalData:e,name:oe})})),n.on(\"stream\",(function(e){Q.current.srcObject=e})),se.on(\"callaccepted\",(function(e){console.log(\"call accepted: \"+e),r(!0),n.signal(e)})),ee.current=n;case 10:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=function(){d(!0),je&&(document.getElementById(\"chat-body\").style.marginRight=\"auto\",document.getElementById(\"chat-body\").style.marginLeft=\"auto\",document.getElementById(\"video-div\").style.visibility=\"hidden\"),ee.current&&ee.current.destroy(),window.location.reload()};return Object(o.jsx)(ue.Provider,{value:{call:x,callAccepted:c,myVideo:$,newMessage:F,sendMsg:function(e,t){se.emit(\"sendMsg\",{msg:e,userId:k,nickname:t,roomId:B})},joinRoom:function(e,t,n){se.emit(\"join\",{userId:t,roomId:e}),N(t),E(e),oe=n},userVideo:Q,stream:O,name:oe,callEnded:l,callUser:ce,leaveCall:re,answerCall:ae,users:X,isOnline:J,startCall:function(){se.emit(\"calling\")},muteAudio:function(){te=!te,O.getAudioTracks()[0].enabled=te},muteVideo:function(){ne=!ne,O.getVideoTracks()[0].enabled=ne},declineCall:function(){d(!0),je&&(document.getElementById(\"chat-body\").style.marginRight=\"auto\",document.getElementById(\"chat-body\").style.marginLeft=\"auto\",document.getElementById(\"video-div\").style.visibility=\"hidden\"),A(!1),window.location.reload()},isCaller:je},children:t})},he=n(171),me=n.n(he);function fe(e){var t=Object(f.useContext)(ue),n=t.answerCall,a=t.call,c=t.declineCall;function r(){return(r=Object(b.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document.getElementById(\"chat-body\").style.marginRight=\"auto\",document.getElementById(\"chat-body\").style.marginLeft=\"10px\",document.getElementById(\"video-div\").style.visibility=\"visible\",n();case 4:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}return Object(o.jsxs)(\"div\",{className:\"respond\",children:[Object(o.jsx)(v.a,{src:\"/gridFs/getPartnerProfile\",id:\"caller\"}),Object(o.jsx)(\"div\",{className:\"description\",children:Object(o.jsxs)(\"h3\",{children:[a.name,\" wants to call you\"]})}),Object(o.jsxs)(\"div\",{className:\"choice\",children:[Object(o.jsx)(y.a,{id:\"choice-btn\",onClick:function(){return r.apply(this,arguments)},children:Object(o.jsx)(me.a,{})}),Object(o.jsx)(y.a,{id:\"choice-canc\",onClick:c,children:Object(o.jsx)(I.a,{})})]})]})}n(318);var Oe=n(172),pe=n.n(Oe),ve=n(175),ge=n.n(ve),xe=n(173),ye=n.n(xe),we=n(174),Ie=n.n(we);function ke(){var e=Object(f.useContext)(ue),t=e.callAccepted,n=e.myVideo,a=e.userVideo,c=e.callEnded,r=e.leaveCall,i=e.muteAudio,s=e.muteVideo,l=e.declineCall,d=Object(f.useState)(!1),u=Object(m.a)(d,2),j=u[0],b=u[1],h=Object(f.useState)(!0),O=Object(m.a)(h,2),p=O[0],v=O[1];return Object(o.jsxs)(\"div\",{className:\"video-div\",id:\"video-div\",children:[Object(o.jsx)(\"div\",{className:\"vid-call\",children:Object(o.jsx)(\"video\",{playsInline:!0,muted:!0,ref:n,autoPlay:!0})}),t&&!c&&Object(o.jsx)(\"div\",{className:\"vid-call1\",children:Object(o.jsx)(\"video\",{playsInline:!0,muted:!0,ref:a,autoPlay:!0})}),Object(o.jsxs)(\"div\",{className:\"option-div\",children:[Object(o.jsx)(y.a,{onClick:function(){v(!p),s()},className:\"option-btn\",id:\"display\",children:p?Object(o.jsx)(ne.a,{}):Object(o.jsx)(pe.a,{})}),Object(o.jsx)(y.a,{onClick:t?r:l,className:\"option-btn\",id:\"end\",children:Object(o.jsx)(ye.a,{fontSize:\"inherit\"})}),Object(o.jsx)(y.a,{onClick:function(){b(!j),i()},className:\"option-btn\",children:j?Object(o.jsx)(Ie.a,{}):Object(o.jsx)(ge.a,{})})]})]})}function Ne(e){var t=Object(f.useState)(),n=Object(m.a)(t,2),a=n[0],c=n[1],r=Object(f.useState)(),i=Object(m.a)(r,2),s=i[0],l=i[1],d=Object(f.useState)(),j=Object(m.a)(d,2),O=j[0],v=j[1],g=Object(f.useState)(\"\"),x=Object(m.a)(g,2),y=(x[0],x[1]),w=Object(f.useState)(),I=Object(m.a)(w,2),k=I[0],N=I[1],C=Object(f.useState)([]),S=Object(m.a)(C,2),B=S[0],E=S[1],P=Object(f.useState)([]),F=Object(m.a)(P,2),R=F[0],M=F[1],T=Object(f.useState)(),L=Object(m.a)(T,2),_=L[0],q=(L[1],Object(f.useState)(!1)),A=Object(m.a)(q,2),W=A[0],z=A[1],U=Object(f.useState)(-1),Y=Object(m.a)(U,2),V=Y[0],H=(Y[1],Object(f.useContext)(ue)),J=H.joinRoom,G=H.sendMsg,Z=H.newMessage,X=H.call,$=H.callAccepted,Q=H.startCall;function te(){return(te=Object(b.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q();case 2:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}return Object(f.useEffect)((function(){var e=new AbortController;return p.a.get(\"/auth/isLoggedIn\").then((function(e){return e.data})).catch((function(e){return console.log(e)})).then((function(e){if(e.isLoggedIn){p.a.get(\"/chat/checkExist\").then(e.data).catch((function(e){return console.log(e)})).then((function(e){e.data?(document.getElementById(\"msgBox\").style.backgroundImage='url(\"/chat/getChatBackground\")',document.getElementById(\"msgBox\").style.backgroundSize=\"cover\"):document.getElementById(\"msgBox\").style.backgroundImage='url(\"https://wallpapercave.com/wp/wp4779329.png\")'}));var t=e.user._id,n=(e.user.partner,e.user.nickname);M(e.partnerInfo),null!==e.user.partner&&(z(!0),p()({method:\"get\",url:\"/user/getRoomId\",headers:{\"Content-Type\":\"multipart/form-data\"}}).then((function(e){return e.data})).catch((function(e){return console.log(e)})).then((function(e){E(e.chatInfo.chats.reverse().map((function(e){return e})));var a=e.roomInfo._id;v(a),n&&J(a,t,n)}))),l(e.user._id),c(Object(h.a)({},e.user)),N(e.user.nickname)}})),function(){e.abort()}}),[]),Object(f.useEffect)((function(){E((function(e){return[].concat(Object(K.a)(e),[Z])}))}),[Z]),Object(f.useEffect)((function(){-1===V&&document.getElementById(\"msgBox\").scrollTo(0,document.getElementById(\"msgBox\").scrollHeight)}),[B]),Object(o.jsxs)(\"div\",{className:\"chat-div\",children:[Object(o.jsx)(D,{havePartner:W}),X.isReceivingCall&&!$&&Object(o.jsx)(fe,{}),Object(o.jsx)(ke,{}),Object(o.jsx)(\"div\",{className:\"chat-container\",children:Object(o.jsxs)(\"div\",{className:\"chat-body\",id:\"chat-body\",children:[Object(o.jsx)(re,{toggleBackHome:function(){window.open(\"/\",\"_self\")},partnerInfo:R,partnerStatus:_,toggleVideoCall:function(){return te.apply(this,arguments)}}),Object(o.jsx)(\"div\",{className:\"chat-messageBox-div\",id:\"msgBox\",children:Object(o.jsx)(\"div\",{className:\"chat-messageBox\",children:B&&a&&B.map((function(e,t){return Object(o.jsx)(ie,{textInfo:e,user:a},t)}))})}),Object(o.jsx)(ee,{handleSendMsg:function(e){var t=document.getElementById(\"chat\").value;e.preventDefault(),t.length>0&&O?(G(t,s,k,O),y(\"\")):alert(\"You must type something\"),document.getElementById(\"chat\").value=null}})]})})]})}var Ce=n(176),Se=n.n(Ce),Be=(n(337),n(182)),Ee=n.n(Be),De=n(181),Pe=n.n(De),Fe=n(102),Re=n.n(Fe),Me=n(178),Te=n.n(Me),Le=n(177),_e=n.n(Le);function qe(e){var t=e.handleChooseMovie,n=e.socket,a=Object(f.useState)([]),c=Object(m.a)(a,2),r=c[0],i=c[1],l=Object(f.useState)(!1),d=Object(m.a)(l,2),j=d[0],h=d[1];function O(){return(O=Object(b.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append(\"videoId\",t),e.next=4,p()({method:\"post\",url:\"/videoFs/deleteVideo\",data:a,headers:{\"Content-Type\":\"multipart/form-data\"}}).then((function(e){return e.data})).catch((function(e){return console.log(e)})).then((function(e){console.log(e),e&&(i((function(e){return e.filter((function(e){return e._id!==t}))})),n&&n.emit(\"deletedVideo\"))}));case 4:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}return Object(f.useEffect)((function(){p.a.get(\"/videoFs/getAllVideos\").then((function(e){return e.data})).catch((function(e){return console.log(e)})).then((function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);i(t)}))}),[]),Object(o.jsxs)(\"div\",{className:\"video-file\",id:\"video-file\",children:[Object(o.jsx)(\"div\",{className:\"video-scroll\",children:r.map((function(e){return Object(o.jsxs)(\"div\",{className:\"video-list-div\",children:[Object(o.jsx)(s.a,{variant:\"outlined\",onClick:function(){return t(e.filename)},id:\"list\",children:e.aliases},e._id),Object(o.jsx)(\"button\",{id:\"video-delete\",onClick:function(){return function(e){return O.apply(this,arguments)}(e._id)},children:\"x\"})]})}))}),Object(o.jsx)(y.a,{size:\"small\",id:\"drop-down\",onClick:function(){var e=!j;document.getElementById(\"video-file\").style.top=e?0:\"-68px\",h(!j)},children:j?Object(o.jsx)(_e.a,{}):Object(o.jsx)(Te.a,{})})]})}var Ae=n(179),We=n.n(Ae),ze=n(103),Ue=n.n(ze);function Ye(e){var t=Object(f.useState)(!1),n=Object(m.a)(t,2),a=n[0],c=n[1],r=Object(f.useState)(!1),i=Object(m.a)(r,2),l=i[0],d=i[1],j=Object(f.useRef)();function h(){return(h=Object(b.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),\"\"!==document.getElementById(\"video\").value){e.next=3;break}return e.abrupt(\"return\");case 3:return d(!0),n=new FormData(j.current),e.next=7,p()({method:\"post\",url:\"/videoFs/upload\",data:n,headers:{\"Content-Type\":\"multipart/form-data\"},onUploadProgress:function(e){var t=e.loaded/e.total*100;document.getElementById(\"uploadFileProgress\").style.width=t+\"%\",100===t&&window.location.reload()}});case 7:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}return Object(o.jsxs)(\"div\",{className:\"upload-file\",id:\"upload-file\",children:[Object(o.jsxs)(\"form\",{onSubmit:function(e){return h.apply(this,arguments)},ref:j,children:[Object(o.jsx)(y.a,{size:\"medium\",onClick:function(){return document.getElementById(\"video\").click()},style:{color:\"white\"},children:Object(o.jsx)(We.a,{})}),Object(o.jsx)(\"input\",{type:\"file\",name:\"video\",id:\"video\",hidden:!0,onChange:function(e){document.getElementById(\"file-name\").textContent=e.target.files[0].name}}),Object(o.jsx)(s.a,{variant:\"contained\",color:\"default\",type:\"submit\",children:\"Upload\"})]}),Object(o.jsx)(\"p\",{id:\"file-name\",style:{color:\"rgb(56, 245, 71)\"}}),l&&Object(o.jsx)(\"div\",{className:\"uploadProgress\",children:Object(o.jsx)(\"div\",{className:\"progressBar\",id:\"uploadFileProgress\"})}),Object(o.jsx)(y.a,{size:\"small\",id:\"openUploadDiv\",onClick:function(){var e=!a;document.getElementById(\"upload-file\").style.marginLeft=e?0:\"-380px\",c(!a)},children:a?Object(o.jsx)(Re.a,{}):Object(o.jsx)(Ue.a,{})})]})}var Ve,He=n(185),Je=n.n(He),Ge=n(183),Ke=n.n(Ge),Ze=n(184),Xe=n.n(Ze),$e=n(187),Qe=n.n($e),et=n(186),tt=n.n(et),nt=n(180),at=n.n(nt),ct=n(120);function rt(){var e=Object(ct.b)(),t=Object(f.useState)(!1),n=Object(m.a)(t,2),a=n[0],c=n[1],r=Object(f.useState)(!1),i=Object(m.a)(r,2),l=i[0],d=i[1],j=Object(f.useState)(!1),h=Object(m.a)(j,2),O=h[0],v=h[1],g=Object(f.useState)(),x=Object(m.a)(g,2),w=x[0],I=x[1],k=Object(f.useState)(!0),N=Object(m.a)(k,2),C=N[0],S=N[1],B=Object(f.useState)(.5),E=Object(m.a)(B,2),D=E[0],P=E[1],F=Object(f.useState)(!1),R=Object(m.a)(F,2),M=R[0],T=R[1],L=Object(f.useState)(!1),_=Object(m.a)(L,2),q=_[0],A=_[1],W=Object(f.useState)(!1),z=Object(m.a)(W,2),U=z[0],Y=z[1],V=Object(f.useRef)(),H=Object(f.useRef)(\"\"),J=Object(f.useRef)(!1),G=Object(f.useRef)(!0);function K(){return(K=Object(b.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c(!0),n=\"/videoFs/choose/\"+t,Ve.emit(\"onlineUrl\",n);case 3:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}return Object(f.useEffect)(Object(b.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=new AbortController,Ve=X()(\"localhost:5000\"),!G.current){e.next=6;break}return e.next=5,p.a.get(\"/user/getRoomId\").then((function(e){return e.data})).catch((function(e){return console.log(e)})).then((function(e){Ve.emit(\"join\",{roomId:e.roomInfo._id})}));case 5:G.current=!1;case 6:return Ve.on(\"changeState\",(function(e){d(e)})),Ve.on(\"refreshPage\",(function(e){window.location.reload()})),Ve.on(\"update\",(function(e){if(\"\"===H.current)return H.current=e.url,c(!0),J.current=!0,void S(!1);J.current&&e.time>V.current.getCurrentTime()&&V.current.getCurrentTime()<e.time-1&&V.current.seekTo(String(e.time),\"seconds\")})),Ve.on(\"updateProgress\",(function(e){V.current.seekTo(e,\"seconds\")})),Ve.on(\"onlineUrl\",(function(e){\"\"!==e?(c(!0),H.current=e,I(e),document.getElementById(\"url\").value=\"\"):document.getElementById(\"url\").value=\"\"})),e.abrupt(\"return\",(function(){t.abort()}));case 12:case\"end\":return e.stop()}}),e)}))),[]),Object(o.jsxs)(\"div\",{className:\"cinema-div\",children:[Object(o.jsx)(qe,{handleChooseMovie:function(e){return K.apply(this,arguments)},socket:Ve}),Object(o.jsx)(Ye,{}),Object(o.jsxs)(\"div\",{className:\"submit-url\",id:\"submitUrl\",children:[Object(o.jsxs)(\"form\",{onSubmit:function(e){e.preventDefault();var t=document.getElementById(\"url\").value;Ve.emit(\"onlineUrl\",t)},children:[Object(o.jsx)(\"input\",{type:\"text\",id:\"url\",placeholder:\"enter url\"}),Object(o.jsx)(s.a,{type:\"submit\",variant:\"outlined\",id:\"submit-url-btn\",children:\" submit\"})]}),Object(o.jsx)(y.a,{size:\"small\",id:\"handleUrlDiv\",onClick:function(){var e=!O;document.getElementById(\"submitUrl\").style.marginLeft=e?0:\"-380px\",v(!O)},children:O?Object(o.jsx)(Re.a,{}):Object(o.jsx)(Ue.a,{})})]}),Object(o.jsx)(s.a,{variant:\"outlined\",color:\"black\",href:\"/\",id:\"homeBtn\",children:Object(o.jsx)(at.a,{})}),Object(o.jsx)(ct.a,{handle:e,children:Object(o.jsxs)(\"div\",{className:\"video-player\",id:\"video-player\",children:[C&&a&&Object(o.jsx)(\"div\",{className:\"no-video\",children:Object(o.jsx)(\"h1\",{children:\"Loading....\"})}),a?Object(o.jsx)(Se.a,{ref:V,playing:l,height:\"100%\",width:\"100%\",url:H.current,volume:D,onProgress:function(){Ve.emit(\"keepUpdate\",{time:V.current.getCurrentTime(),url:w});var e=document.getElementById(\"progress-point\"),t=V.current.getCurrentTime()/(V.current.getDuration()/100);e.style.left=t+\"%\"},onReady:function(){return S(!1)},onError:function(){return c(!1)}}):Object(o.jsx)(\"div\",{className:\"no-video\",children:Object(o.jsx)(\"h2\",{children:\"No Video\"})}),Object(o.jsxs)(\"div\",{style:{display:\"flex\"},className:\"progress-bar-div\",id:\"controls\",children:[Object(o.jsx)(y.a,{onClick:function(){Ve.emit(\"changeVideoState\",l)},id:\"control-btn\",style:{color:\"black\"},children:l?Object(o.jsx)(Pe.a,{}):Object(o.jsx)(Ee.a,{})}),Object(o.jsx)(y.a,{onClick:function(){!M?(P(0),document.getElementById(\"volume\").value=0):(P(.5),document.getElementById(\"volume\").value=50),T(!M)},id:\"control-vlm\",style:{color:\"black\"},children:M?Object(o.jsx)(Ke.a,{}):q?Object(o.jsx)(Xe.a,{}):Object(o.jsx)(Je.a,{})}),Object(o.jsx)(\"input\",{type:\"range\",min:\"0\",max:\"100\",id:\"volume\",onChange:function(){var e=document.getElementById(\"volume\").value,t=parseFloat(e/100);T(0===t),A(e>50),P(t)}}),Object(o.jsx)(\"div\",{id:\"progress-bar\",className:\"progress-bar status\",onClick:a?function(e){var t=document.getElementById(\"progress-bar\"),n=e.nativeEvent.offsetX/t.offsetWidth*V.current.getDuration();Ve.emit(\"changeProgress\",n),d(!0)}:\"\",children:Object(o.jsx)(\"div\",{id:\"progress-point\",className:\"progress-point\"})}),Object(o.jsx)(y.a,{onClick:function(){var t=!U,n=document.getElementById(\"controls\");t?(e.enter(),n.style.bottom=\"-150px\",document.getElementById(\"progress-point\").style.background=\"white\",document.getElementById(\"control-btn\").style.color=\"white\",document.getElementById(\"control-vlm\").style.color=\"white\",document.getElementById(\"fullscreen-btn\").style.color=\"white\"):(e.exit(),n.style.bottom=\"-50px\",document.getElementById(\"progress-point\").style.background=\"black\",document.getElementById(\"control-btn\").style.color=\"black\",document.getElementById(\"control-vlm\").style.color=\"black\",document.getElementById(\"fullscreen-btn\").style.color=\"black\"),Y(!U)},id:\"fullscreen-btn\",style:{color:\"black\"},children:U?Object(o.jsx)(tt.a,{}):Object(o.jsx)(Qe.a,{})})]})]})})]})}n(338),n(339);var it=n(189),st=n.n(it),ot=n(168),lt=n(188),dt=n(191),ut=n.n(dt),jt=n(190),bt=n.n(jt),ht=function(e){var t=e.selected;return Object(o.jsxs)(\"div\",{style:t?{left:\"4px\",top:\"4px\",position:\"absolute\",zIndex:\"1\"}:{display:\"none\"},children:[Object(o.jsx)(\"svg\",{style:{fill:\"white\",position:\"absolute\"},width:\"24px\",height:\"24px\",children:Object(o.jsx)(\"circle\",{cx:\"12.5\",cy:\"12.2\",r:\"8.292\"})}),Object(o.jsx)(\"svg\",{style:{fill:\"#06befa\",position:\"absolute\"},width:\"24px\",height:\"24px\",children:Object(o.jsx)(\"path\",{d:\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"})})]})},mt={transition:\"transform .135s cubic-bezier(0.0,0.0,0.2,1),opacity linear .15s\"},ft={transform:\"translateZ(0px) scale3d(0.9, 0.9, 1)\",transition:\"transform .135s cubic-bezier(0.0,0.0,0.2,1),opacity linear .15s\"},Ot={backgroundColor:\"#eee\",cursor:\"pointer\",overflow:\"hidden\",position:\"relative\"},pt=function(e){var t=e.index,n=e.photo,a=e.margin,c=e.direction,r=e.top,i=e.left,s=e.selected,l=e.handleChooseNotToDeleteFile,d=e.handleChooseToDeleteFile,u=Object(f.useState)(s),j=Object(m.a)(u,2),b=j[0],O=j[1],p=200-n.height-n.height,v=(100-30/n.width*100)/100,g=(100-30/n.height*100)/100;ft.transform=\"translateZ(0px) scale3d(\".concat(v,\", \").concat(g,\", 1)\"),\"column\"===c&&(Ot.position=\"absolute\",Ot.left=i,Ot.top=r);return Object(f.useEffect)((function(){O(s)}),[s]),Object(o.jsxs)(\"div\",{style:Object(h.a)({margin:a,height:p,width:n.width},Ot),className:b?\"\":\"not-selected\",children:[Object(o.jsx)(ht,{selected:!!b}),Object(o.jsx)(\"img\",Object(h.a)(Object(h.a)({alt:n.title,style:b?Object(h.a)(Object(h.a)({},mt),ft):Object(h.a)({},mt)},n),{},{onClick:function(e){O(!b),b?l(t):d(t)}})),Object(o.jsx)(\"style\",{children:\".not-selected:hover{outline:2px solid #06befa}\"})]})};function vt(e){var t=e.setPost,n=e.handlePost,a=e.userInfo,c=(e.setIsPosting,e.setIsEditing,e.isEditing),r=e.postData,i=(e.setPostData,Object(f.useState)(\"\")),l=Object(m.a)(i,2),d=l[0],j=l[1],h=Object(f.useState)([]),O=Object(m.a)(h,2),g=O[0],x=O[1],w=Object(f.useState)(),I=Object(m.a)(w,2),k=I[0],N=I[1],C=Object(f.useState)([]),S=Object(m.a)(C,2),B=S[0],E=S[1],D=Object(f.useState)([]),P=Object(m.a)(D,2),F=P[0],R=P[1],M=Object(f.useState)(!1),T=Object(m.a)(M,1)[0],L=Object(f.useRef)(),_=Object(f.useCallback)((function(e){var t=e.index,n=e.left,a=e.top,c=e.key,r=e.photo;return Object(o.jsx)(pt,{selected:!!T,margin:\"2px\",index:t,photo:r,left:n,top:a,handleChooseNotToDeleteFile:A,handleChooseToDeleteFile:q},c)}),[T,A,q]);function q(e){E((function(t){return[].concat(Object(K.a)(t),[e])}))}function A(e){E((function(t){return t.filter((function(t){return t!==e}))}))}function W(){return(W=Object(b.a)(u.a.mark((function e(){var t,n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object(K.a)(B).sort(),n=Object(K.a)(g),a=t.length-1;case 3:if(!(a>=0)){e.next=11;break}if(!n[t[a]].fileId){e.next=7;break}return e.next=7,R((function(e){return[].concat(Object(K.a)(e),[n[t[a]].fileId])}));case 7:n.splice(t[a],1);case 8:a--,e.next=3;break;case 11:x(n),E([]);case 13:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function z(){return(z=Object(b.a)(u.a.mark((function e(){var a,i,s,o,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(\"\"!==d){e.next=3;break}return alert(\"Please enter some text\"),e.abrupt(\"return\");case 3:if(a=new FormData(L.current),!c){e.next=14;break}for(a.set(\"postId\",r.post._id),a.set(\"text\",d),a.set(\"feeling\",k),i=0;i<F.length;i++)a.append(\"deletedFile[]\",F[i]);for(s=0;s<g.length;s++)g[s].file?a.append(\"fileInput[]\",g[s].file):a.append(\"fileInput[]\",g[s].fileId);return e.next=12,p()({method:\"post\",url:\"/post/editPost\",data:a,headers:{\"Content-Type\":\"multipart/form-data\"}}).then((function(e){return e.data})).catch((function(e){return console.log(e)})).then((function(e){e.result?(t((function(t){for(var n=[],a=0;a<t.length;a++)t[a]._id===e.result.docs._id?n.push(e.result.docs):n.push(t[a]);return n})),n()):alert(\"Failed to edit post\")})).catch((function(e){return console.log(e)}));case 12:e.next=19;break;case 14:for(o=new FormData(L.current),l=0;l<g.length;l++)o.append(\"fileInput[]\",g[l].file);return e.next=18,p()({method:\"post\",url:\"/post/createPost\",data:o}).then((function(e){return e.data})).catch((function(e){return console.log(e)})).then((function(e){e?(alert(\"Memory Created!\"),t((function(t){return[e].concat(Object(K.a)(t))}))):alert(\"Opps something went wrong\")})).catch((function(e){return console.log(e)}));case 18:n();case 19:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}return Object(f.useEffect)((function(){c&&(j(r.post.text),N(r.post.feeling),r.post.fileId&&x(r.post.fileId.map((function(e,t){return{src:r.url[t],width:1,height:1,fileId:e}}))))}),[]),Object(o.jsxs)(\"div\",{className:\"create-div\",children:[Object(o.jsxs)(\"div\",{className:\"create-title\",children:[Object(o.jsxs)(\"h3\",{children:[c?\"Edit\":\"Create\",\" Memory\"]}),Object(o.jsx)(y.a,{onClick:n,id:\"create-close-btn\",children:Object(o.jsx)(st.a,{})})]}),Object(o.jsxs)(\"form\",{ref:L,children:[Object(o.jsxs)(\"div\",{className:\"create-feeling-div\",children:[Object(o.jsx)(\"div\",{className:\"create-profile-pic\",children:Object(o.jsx)(v.a,{src:\"/gridFs/getProfile\"})}),Object(o.jsx)(\"div\",{className:\"create-greeting\",children:Object(o.jsxs)(\"p\",{children:[\"Hi, \",a.nickname,\" how are you feeling today?\"]})}),Object(o.jsx)(\"div\",{className:\"create-select\",children:Object(o.jsxs)(ot.a,{value:k,onChange:function(e){return N(e.target.value)},id:\"create-feeling\",name:\"feeling\",children:[Object(o.jsx)(\"option\",{\"aria-label\":\"None\",value:\"\"}),Object(o.jsx)(\"option\",{value:\"happy\",children:\"Happy \\ud83d\\ude00 \"}),Object(o.jsx)(\"option\",{value:\"sad\",children:\"Sad \\u2639\\ufe0f\"}),Object(o.jsx)(\"option\",{value:\"surprise\",children:\"Surprised \\ud83d\\ude2e\"}),Object(o.jsx)(\"option\",{value:\"meh\",children:\"Meh \\ud83d\\ude15\"}),Object(o.jsx)(\"option\",{value:\"annoyed\",children:\"Annoyed \\ud83d\\ude44\"}),Object(o.jsx)(\"option\",{value:\"sleepy\",children:\"Sleepy \\ud83d\\ude34\"}),Object(o.jsx)(\"option\",{value:\"love\",children:\"Love \\ud83e\\udd70\"}),Object(o.jsx)(\"option\",{value:\"touched\",children:\"Touched \\ud83d\\ude2d\"}),Object(o.jsx)(\"option\",{value:\"shy\",children:\"Shy \\ud83d\\ude0c\"}),Object(o.jsx)(\"option\",{value:\"amazed\",children:\"Amazed \\ud83e\\udd29\"})]})})]}),Object(o.jsx)(\"div\",{className:\"create-textarea\",children:Object(o.jsx)(\"textarea\",{placeholder:\"What's on your mind?\",rows:\"10\",value:d,onChange:function(e){return j(e.target.value)},name:\"text\",id:\"text\"})}),Object(o.jsx)(\"div\",{className:\"create-gallery-div\",children:Object(o.jsx)(lt.a,{photos:g,renderImage:_,id:\"create-gallery\"})}),Object(o.jsxs)(\"div\",{className:\"create-btn-div\",children:[Object(o.jsx)(y.a,{id:\"create-btn\",onClick:function(){return document.getElementById(\"create-photo\").click()},children:Object(o.jsx)(bt.a,{})}),Object(o.jsx)(\"input\",{type:\"file\",hidden:!0,id:\"create-photo\",onChange:function(e){var t=e.target.files[0];if(t){/\\.(gif|jpe?g|tiff?|png|webp|bmp)$/i.test(t.name)?x((function(e){return[].concat(Object(K.a)(e),[{src:URL.createObjectURL(t),file:t,width:1,height:1}])})):alert(\"only upload image files.\")}}}),g.length>0&&Object(o.jsx)(y.a,{id:\"create-btn\",onClick:function(){return W.apply(this,arguments)},children:Object(o.jsx)(ut.a,{})})]}),Object(o.jsx)(\"div\",{className:\"create-post-div\",children:Object(o.jsx)(s.a,{variant:\"contained\",id:\"create-post-btn\",onClick:function(){return z.apply(this,arguments)},children:\"Post\"})})]})]})}n(340);var gt=n(192),xt=n.n(gt);function yt(e){var t,n=e.post,a=e.userId,c=e.setIsEditing,r=e.setPostData,i=e.setIsPosting,s=e.setPost,l=Object(f.useState)(!1),d=Object(m.a)(l,2),j=d[0],h=d[1],O=Object(f.useState)([]),g=Object(m.a)(O,2),x=g[0],w=g[1],I={\"01\":\"January\",\"02\":\"February\",\"03\":\"March\",\"04\":\"April\",\"05\":\"May\",\"06\":\"June\",\"07\":\"July\",\"08\":\"August\",\"09\":\"September\",10:\"October\",11:\"November\",12:\"December\"};function k(){return(k=Object(b.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=new FormData).append(\"postId\",n._id),n.fileId)for(a=0;a<n.fileId.length;a++)t.append(\"fileId[]\",n.fileId[a]);return e.next=5,p()({method:\"post\",url:\"/post/deletePost\",data:t,headers:{\"Content-Type\":\"multipart/form-data\"}}).then((function(e){return e.data})).catch((function(e){return console.log(e)})).then((function(e){e.status?(s((function(e){return e.filter((function(e){return e._id!==n._id}))})),alert(\"Memory deleted\")):alert(\"Opps something went wrong with the server!\")}));case 5:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}return Object(f.useEffect)(Object(b.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.fileId){e.next=5;break}return t=[],e.next=4,n.fileId.map((function(e){var n=\"/post/getPostImage/\"+e;t.push(n)}));case 4:w(t);case 5:case\"end\":return e.stop()}}),e)}))),[n]),Object(o.jsxs)(\"div\",{className:\"post-div\",children:[j&&Object(o.jsxs)(\"div\",{className:\"post-more-div\",children:[Object(o.jsx)(\"div\",{className:\"post-more-option edit\",onClick:function(){r({post:n,url:x}),c(!0),i(!0),h(!1)},children:\"Edit Memory\"}),Object(o.jsx)(\"div\",{className:\"post-more-option delete\",onClick:function(){return k.apply(this,arguments)},children:\"Delete Memory\"})]}),Object(o.jsx)(y.a,{id:\"post-more\",onClick:function(){return h(!j)},children:Object(o.jsx)(ce.a,{fontSize:\"medium\"})}),Object(o.jsxs)(\"div\",{className:\"post-header\",children:[a===n.userId?Object(o.jsx)(v.a,{src:\"/gridFs/getProfile\",id:\"post-avatar\"}):Object(o.jsx)(v.a,{src:\"/gridFs/getPartnerProfile\",id:\"post-avatar\"}),Object(o.jsxs)(\"div\",{className:\"post-desc\",children:[Object(o.jsxs)(\"div\",{className:\"post-feeling\",children:[Object(o.jsx)(\"h3\",{children:n.nickname}),n.feeling&&Object(o.jsxs)(\"h3\",{children:[\" \\xa0\\u2022 \\xa0is feeling \",n.feeling,\"\\xa0\",{happy:\"\\ud83d\\ude00\",sad:\"\\u2639\\ufe0f\",surprise:\"\\ud83d\\ude2e\",meh:\"\\ud83d\\ude15\",annoyed:\"\\ud83d\\ude44\",sleepy:\"\\ud83d\\ude34\",love:\"\\ud83e\\udd70\",touched:\"\\ud83d\\ude2d\",shy:\"\\ud83d\\ude0c\",amazed:\"\\ud83e\\udd29\"}[n.feeling]]})]}),Object(o.jsx)(\"div\",{className:\"post-time\",children:Object(o.jsx)(\"p\",{children:function(e){var t=new Date(parseInt(Date.parse(e),10)),n=String(t.getDate()).padStart(2,\"0\"),a=String(t.getMonth()+1).padStart(2,\"0\"),c=t.getFullYear();return n+\" \"+I[a]+\" \"+c}(n.timeOfCreation)})})]})]}),Object(o.jsx)(\"div\",{className:\"post-text\",children:n.text}),Object(o.jsx)(\"div\",{className:\"post-images\",children:n.fileId&&Object(o.jsx)(xt.a,{items:(t=n.fileId,t.map((function(e){return{original:\"/post/getPostImage/\"+e}}))),showFullscreenButton:!1,showPlayButton:!1,showThumbnails:!1,className:\"post-gallery\"})})]})}function wt(){var e=Object(f.useState)(),t=Object(m.a)(e,2),n=t[0],a=t[1],c=Object(f.useState)(),r=Object(m.a)(c,2),i=(r[0],r[1]),l=Object(f.useState)(),d=Object(m.a)(l,2),u=d[0],j=d[1],b=Object(f.useState)(!1),h=Object(m.a)(b,2),O=h[0],v=h[1],g=Object(f.useState)(!1),x=Object(m.a)(g,2),y=x[0],w=x[1],I=Object(f.useState)([]),k=Object(m.a)(I,2),N=k[0],C=k[1],S=Object(f.useState)(!1),B=Object(m.a)(S,2),E=B[0],P=B[1];Object(f.useRef)();return Object(f.useEffect)((function(){p.a.get(\"/auth/isLoggedIn\").then((function(e){return e.data})).catch((function(e){return console.log(e)})).then((function(e){e.isLoggedIn&&(null!==e.user.partner&&P(!0),a(e.user),i(e.partnerInfo),p()({method:\"post\",url:\"/post/getPosts\"}).then((function(e){return e.data})).catch((function(e){return console.log(e)})).then((function(e){e.success&&C(e.posts)})))}))}),[]),Object(o.jsxs)(\"div\",{className:\"memoryBook\",children:[y&&Object(o.jsx)(vt,{setPostData:j,setPost:C,postData:u,handlePost:function(){w(!1),v(!1),j()},userInfo:n,setIsPosting:w,isEditing:O,setIsEditing:v}),Object(o.jsxs)(\"div\",{className:\"memoryBook-div\",id:\"memoryBook\",style:{opacity:y||O?\"0.3\":\"1\"},children:[Object(o.jsx)(D,{havePartner:E}),Object(o.jsx)(\"div\",{className:\"postDiv\",children:Object(o.jsxs)(\"div\",{className:\"post-option\",children:[Object(o.jsx)(\"h3\",{children:\"Post Some Memorable Moment Here\"}),Object(o.jsx)(s.a,{variant:\"contained\",id:\"memory-create-post\",onClick:function(){return w(!0)},children:\"Create Memory \\ud83e\\udd0d\"})]})}),N.map((function(e){return Object(o.jsx)(yt,{setPost:C,setPostData:j,setIsPosting:w,isEditing:O,setIsEditing:v,post:e,userId:n._id},e._id)}))]})]})}function It(e){return Object(o.jsx)(\"main\",{children:Object(o.jsxs)(i.c,{children:[Object(o.jsx)(i.a,{path:\"/\",exact:!0,component:L}),Object(o.jsx)(i.a,{path:\"/login\",exact:!0,component:l}),Object(o.jsx)(i.a,{path:\"/userProfileForm\",exact:!0,component:G}),Object(o.jsx)(i.a,{path:\"/cinema\",exact:!0,component:rt}),Object(o.jsx)(i.a,{path:\"/memoryBook\",exact:!0,component:wt}),Object(o.jsx)(be,{children:Object(o.jsx)(i.a,{path:\"/chatRoom\",exact:!0,component:Ne})})]})})}var kt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,401)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))};c.a.render(Object(o.jsx)(r.a,{children:Object(o.jsx)(It,{})}),document.getElementById(\"root\")),kt()}},[[354,1,2]]]);","name":"static/js/main.0c564e52.chunk.js","map":{"version":3,"sources":["static/js/main.0c564e52.chunk.js"],"names":["this","push","220","module","exports","__webpack_require__","244","245","246","248","280","281","282","283","307","309","318","337","338","339","340","354","__webpack_exports__","r","react_dom","react_dom_default","n","react_router_dom","react_router","Button","jsx_runtime","Login","Object","className","children","variant","onClick","window","location","href","id","src","regenerator","regenerator_default","defineProperty","asyncToGenerator","objectSpread2","slicedToArray","react","axios","axios_default","Avatar","Check","Check_default","IconButton","Clear","Clear_default","RequestInfo","props","reqInfo","setHavePartner","setRequestList","url","senderId","_declinePartner","a","mark","_callee","event","formdata","wrap","_context","prev","next","preventDefault","FormData","append","method","data","header","Content-Type","then","res","catch","err","console","log","filter","info","alert","stop","apply","arguments","senderNickname","headers","result","_x","PartnerReq","requestList","map","PeopleAlt","PeopleAlt_default","Photo","Photo_default","Navbar","handleSendReq","formRef","havePartner","isHome","_useState","_useState2","viewList","setViewList","_handleChangeBackground","target","files","reload","open","style","color","document","getElementById","click","type","hidden","onChange","name","onSubmit","ref","placeholder","value","Add","Add_default","useUtils_cfb96ac9","DatePicker","index_esm","Home","_jsx2","userInfo","setUserInfo","_useState3","_useState4","partnerInfo","setPartnerInfo","_useState5","_useState6","_useState7","_useState8","_useState9","_useState10","dayWidget","setDayWidget","_useState11","_useState12","specialWidget","setSpecialWidget","_useState13","_useState14","bdayWidget","setBdayWidget","_useState15","_useState16","dateOfRelation","setDateOfRelation","_useState17","_useState18","isSetting","setIsSetting","_useState19","_useState20","totalDay","setTotalDay","_useState21","_useState22","userBday","setUserBday","_useState23","_useState24","partnerBday","setPartnerBday","_useState25","_useState26","yourCountDown","setYourCountDown","_useState27","_useState28","partnerCountDown","setPartnerCountDown","_useState29","_useState30","upComingEvent","setUpComingEvent","_useState31","_useState32","upComingDay","setUpComingDay","_useState33","_useState34","backgroundUrl","setBackgroundUrl","_useState35","_useState36","_useState37","_useState38","date","setDate","acceptRef","dateRef","monthMap","01","02","03","04","05","06","07","08","09","10","11","12","formatDate","today","Date","parseInt","parse","dd","String","getDate","padStart","mm","getMonth","getFullYear","formData","current","isSent","status","onHoverAddWidget","opacity","offHoverAddWidget","handleCreateWidget","_handleCreateWidget","_formdata","_formdata2","display","_handleUpdateDate","_callee2","_context2","onHoverWidget","visibility","offHoverWidget","handleDeleteWidget","_x3","_handleDeleteWidget","_callee3","_context3","ac","AbortController","get","isLoggedIn","undefined","user","nickname","anniverse","dateOfRelationship","_date","specialEvent","widget","i","length","original","difference","getTime","partner","dateOfBirth","you","_current","date1","date2","setFullYear","temp1","temp2","Math","abs","currentDate","currentYear","closest","temp","round","requests","list","abort","handleLogout","backgroundImage","onMouseOut","onMouseOver","fontSize","_x2","utils","margin","label","format","KeyboardButtonProps","aria-label","borderBottom","TextField","makeStyles","InputLabel","FormControl","Select","MenuItem","AddAPhoto","AddAPhoto_default","genders","useStyles","theme","formControl","marginTop","minWidth","UserProfileForm","setNickname","bio","setBio","croppedUrl","setCroppedUrl","uploaded","setUploaded","dob","setDob","gender","setGender","setPartner","setDateOfRelationship","userId","setUserId","classes","_id","reader","FileReader","onload","setAttribute","readAsDataURL","_handleSubmit","file","e","labelId","option","marginLeft","toConsumableArray","build","build_default","Send","Send_default","InputBox","handleSendMsg","Videocam","Videocam_default","MoreHoriz","MoreHoriz_default","ChatNav","toggleBackHome","partnerStatus","toggleVideoCall","callAccepted","readyDisplay","setReadyDisplay","isOnline","setIsOnline","openMore","setOpenMore","_toggleChangeBackground","ChatBubble","textInfo","text","SocketContext_socket","SocketContext_name","simple_peer","simple_peer_default","SocketContext","isCaller","SocketContext_ContextProvider","_ref","setCallAccepted","callEnded","setCallEnded","stream","setStream","call","setCall","roomId","setRoomId","newMessage","setNewMessage","isCalling","setIsCalling","noCall","setNoCall","users","myVideo","userVideo","connectionRef","on","chat","callUser","marginRight","_ref3","_ref2","from","callerName","signal","isReceivingCall","leaveCall","audio","video","answerCall","_ref4","local","peer","navigator","mediaDevices","getUserMedia","currentStream","srcObject","initiator","trickle","emit","to","_ref5","abrupt","signalData","destroy","Provider","sendMsg","msg","joinRoom","startCall","muteAudio","getAudioTracks","enabled","muteVideo","getVideoTracks","declineCall","Done","Done_default","VideoRespond","_useContext","_answer","VideocamOff","VideocamOff_default","Mic","Mic_default","CallEnd","CallEnd_default","MicOff","MicOff_default","VideoCall","isMuted","setIsMuted","isDisplayed","setIsDisplayed","playsInline","muted","autoPlay","ChatRoom","setText","userNickname","setUserNickname","messages","setMessages","scrollDir","_toggleVideoCall","backgroundSize","_userId","chatInfo","chats","reverse","roomInfo","prevData","concat","scrollTo","scrollHeight","index","react_player_lib","react_player_lib_default","PlayArrow","PlayArrow_default","Pause","Pause_default","ArrowLeft","ArrowLeft_default","ArrowDropDown","ArrowDropDown_default","ArrowDropUp","ArrowDropUp_default","VideoList","handleChooseMovie","socket","setFiles","dropdown","setDropdown","_handleDeleteVideo","videoId","filename","aliases","handleDeleteVideo","size","state","top","CloudUpload","CloudUpload_default","ArrowRight","ArrowRight_default","VideoUploadDiv","openUpload","setOpenUpload","uploadProgress","setUploadProgress","_handleUploadVideo","onUploadProgress","progressEvent","progress","loaded","total","width","textContent","Cinema_socket","VolumeMute","VolumeMute_default","VolumeOff","VolumeOff_default","VolumeUp","VolumeUp_default","Fullscreen","Fullscreen_default","FullscreenExit","FullscreenExit_default","icons_Home","Home_default","index_modern","Cinema","handle","ready","setReady","play","setPlay","openUrl","setOpenUrl","setUrl","buffering","setBuffering","volume","setVolume","isLoud","setIsLoud","isFullScreen","setIsFullScreen","videoRef","urlRef","readyToPlay","initialRun","_handleChooseMovie","choosenUrl","time","getCurrentTime","seekTo","pointed","playing","height","onProgress","point","getDuration","left","onReady","onError","min","max","actualVolume","parseFloat","progressBarWidth","nativeEvent","offsetX","offsetWidth","controls","enter","bottom","background","exit","Close","Close_default","NativeSelect","react_photo_gallery_esm","Delete","Delete_default","AddPhotoAlternate","AddPhotoAlternate_default","SelectedImage_Checkmark","selected","position","zIndex","fill","cx","cy","d","imgStyle","transition","selectedImgStyle","transform","cont","backgroundColor","cursor","overflow","components_SelectedImage","photo","direction","handleChooseNotToDeleteFile","handleChooseToDeleteFile","isSelected","setIsSelected","actualHeight","sx","sy","alt","title","CreatePost","setPost","handlePost","isEditing","setIsPosting","setIsEditing","postData","setPostData","uploadedFiles","setUploadedFiles","feeling","setFeeling","willBeDeletedFiles","setWillBeDeletedFiles","deletedExistingFiles","setDeletedExistingFiles","selectAll","imageRenderer","key","val","_handleDeleteChosenFiles","tempDeletedFiles","tempUploadedFiles","sort","fileId","splice","_togglePost","j","_i2","set","post","_i","docs","rows","photos","renderImage","test","URL","createObjectURL","image_gallery","image_gallery_default","MemoryPost","_deletePost","posts","happy","sad","surprise","meh","annoyed","sleepy","love","touched","shy","amazed","yyyy","timeOfCreation","items","showFullscreenButton","showPlayButton","showThumbnails","MemoryBook","isPosting","setPosts","success","App","path","exact","component","src_reportWebVitals","onPerfEntry","Function","bind","getCLS","getFID","getFCP","getLCP","getTTFB","render"],"mappings":"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"},"input":"(this[\"webpackJsonpclient\"] = this[\"webpackJsonpclient\"] || []).push([[0],{\n\n/***/ 220:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 244:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 245:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 246:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 248:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 280:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 281:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 282:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 283:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 307:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 309:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 318:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 337:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 338:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 339:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 340:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 354:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(18);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js\nvar react_router_dom = __webpack_require__(116);\n\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js\nvar react_router = __webpack_require__(19);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/core/esm/Button/Button.js\nvar Button = __webpack_require__(382);\n\n// EXTERNAL MODULE: ./src/css/login.css\nvar login = __webpack_require__(220);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(1);\n\n// CONCATENATED MODULE: ./src/components/Login.js\nfunction Login(){function handleGoogleClick(){window.location.href=\"/auth/google\";}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"login-page-div\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"login-page\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"title\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Welcome to Couplove!\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Button[\"a\" /* default */],{variant:\"contained\",onClick:handleGoogleClick,id:\"home-login-btn\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:\"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg\",className:\"g-logo\"}),\"\\xA0\\xA0Login With Google\"]})]})});}\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(8);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js\nvar defineProperty = __webpack_require__(81);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(11);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(42);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(6);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\n\n// EXTERNAL MODULE: ../node_modules/axios/index.js\nvar axios = __webpack_require__(9);\nvar axios_default = /*#__PURE__*/__webpack_require__.n(axios);\n\n// EXTERNAL MODULE: ./src/css/navbar.css\nvar navbar = __webpack_require__(244);\n\n// EXTERNAL MODULE: ./src/css/requestList.css\nvar css_requestList = __webpack_require__(245);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/core/esm/Avatar/Avatar.js + 1 modules\nvar Avatar = __webpack_require__(394);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/icons/Check.js\nvar Check = __webpack_require__(166);\nvar Check_default = /*#__PURE__*/__webpack_require__.n(Check);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/core/esm/IconButton/IconButton.js\nvar IconButton = __webpack_require__(386);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/icons/Clear.js\nvar Clear = __webpack_require__(55);\nvar Clear_default = /*#__PURE__*/__webpack_require__.n(Clear);\n\n// CONCATENATED MODULE: ./src/components/RequestInfo.js\nfunction RequestInfo(props){var reqInfo=props.reqInfo,setHavePartner=props.setHavePartner,setRequestList=props.setRequestList;var url=\"/gridFs/getOtherProfile/\"+reqInfo.senderId;function acceptPartner(event){event.preventDefault();var formdata=new FormData();formdata.append('senderId',reqInfo.senderId);axios_default()({method:'post',url:'/user/acceptRequest',data:formdata,headers:{'Content-Type':'multipart/form-data'}}).then(function(res){return res.data;}).catch(function(err){return console.log(err);}).then(function(res){if(res.result){setRequestList(function(prev){return prev.filter(function(info){return info.senderId!==reqInfo.senderId;});});setHavePartner(true);}});}function declinePartner(_x){return _declinePartner.apply(this,arguments);}function _declinePartner(){_declinePartner=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(event){var formdata;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();formdata=new FormData();formdata.append('senderId',reqInfo.senderId);_context.next=5;return axios_default()({method:'post',url:'/user/declineRequest',data:formdata,header:{'Content-Type':'multipart/form-data'}}).then(function(res){return res.data;}).catch(function(err){return console.log(err);}).then(function(res){console.log(res);if(res){setRequestList(function(prev){return prev.filter(function(info){return info.senderId!==reqInfo.senderId;});});}else{alert(\"Opps something wrong with the server\");}});case 5:case\"end\":return _context.stop();}}},_callee);}));return _declinePartner.apply(this,arguments);}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"info-div\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"info-sender-profile-div\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Avatar[\"a\" /* default */],{id:\"info-sender-avatar\",src:url})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"info-sender-desc\",children:[reqInfo.senderNickname,\" wants to be your partner\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{id:\"info-req-option\",onClick:acceptPartner,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Check_default.a,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{id:\"info-req-option\",onClick:declinePartner,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Clear_default.a,{})})]})]});}\n// CONCATENATED MODULE: ./src/components/PartnerReq.js\nfunction PartnerReq(props){var requestList=props.requestList,setHavePartner=props.setHavePartner,setRequestList=props.setRequestList;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"req-list-div\",children:requestList.map(function(info){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RequestInfo,{setRequestList:setRequestList,reqInfo:info,setHavePartner:setHavePartner});})});}\n// EXTERNAL MODULE: ../node_modules/@material-ui/icons/PeopleAlt.js\nvar PeopleAlt = __webpack_require__(167);\nvar PeopleAlt_default = /*#__PURE__*/__webpack_require__.n(PeopleAlt);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/icons/Photo.js\nvar Photo = __webpack_require__(96);\nvar Photo_default = /*#__PURE__*/__webpack_require__.n(Photo);\n\n// CONCATENATED MODULE: ./src/components/Navbar.js\nfunction Navbar(props){var handleSendReq=props.handleSendReq,formRef=props.formRef,havePartner=props.havePartner,requestList=props.requestList,setHavePartner=props.setHavePartner,setRequestList=props.setRequestList,isHome=props.isHome;var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),viewList=_useState2[0],setViewList=_useState2[1];function handleChangeBackground(_x){return _handleChangeBackground.apply(this,arguments);}function _handleChangeBackground(){_handleChangeBackground=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(event){var formdata;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios_default()({method:'post',url:'/home/checkExist'});case 2:formdata=new FormData();formdata.append('file',event.target.files[0]);_context.next=6;return axios_default()({method:'post',url:'/home/upload',data:formdata,headers:{'Content-Type':'multipart/formdata'}}).then(function(res){return res.data;}).catch(function(err){return console.log(err);}).then(function(res){window.location.reload();});case 6:case\"end\":return _context.stop();}}},_callee);}));return _handleChangeBackground.apply(this,arguments);}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"nav-div\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"nav-title\",onClick:function onClick(){return window.open('/','_self');},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"Couplove\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"nav-activity-div\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"nav-activity logout\",onClick:function onClick(){return window.location.href=\"/auth/logout\";},children:\"Logout\"}),isHome&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{style:{color:\"white\"},onClick:function onClick(){return document.getElementById('background-file').click();},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Photo_default.a,{})}),isHome&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"file\",hidden:true,id:\"background-file\",onChange:handleChangeBackground,name:\"file\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"nav-activity profile\",onClick:function onClick(){return window.location.href=\"/userProfileForm\";},children:\"Profile\"}),havePartner&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"nav-activity chat\",onClick:function onClick(){return window.open('/chatRoom','_self');},children:\"Chat Room\"}),havePartner&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"nav-activity cinema\",onClick:function onClick(){return window.open('/cinema','_self');},children:\"Cinema\"}),havePartner&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"nav-activity memory\",onClick:function onClick(){return window.open('/memoryBook','_self');},children:\"Memory Book\"}),!havePartner&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"nav-sendRequest\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:handleSendReq,ref:formRef,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",id:\"reqId\",name:\"reqId\",placeholder:\"Partner ID\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"submit\",value:\"+\",className:\"nav-submit\"})]})}),!havePartner&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"nav-request\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{style:{color:\"whitesmoke\"},onClick:function onClick(){return setViewList(!viewList);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(PeopleAlt_default.a,{})}),viewList&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(PartnerReq,{requestList:requestList,setHavePartner:setHavePartner,setRequestList:setRequestList})]})]})]});}\n// EXTERNAL MODULE: ./src/css/home.css\nvar home = __webpack_require__(246);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/icons/Add.js\nvar Add = __webpack_require__(104);\nvar Add_default = /*#__PURE__*/__webpack_require__.n(Add);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/pickers/esm/useUtils-cfb96ac9.js\nvar useUtils_cfb96ac9 = __webpack_require__(23);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/pickers/esm/DatePicker.js + 26 modules\nvar DatePicker = __webpack_require__(391);\n\n// EXTERNAL MODULE: ../node_modules/@date-io/date-fns/build/index.esm.js + 69 modules\nvar index_esm = __webpack_require__(83);\n\n// CONCATENATED MODULE: ./src/components/Home.js\nfunction Home(){var _jsx2;var _useState=Object(react[\"useState\"])(),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),userInfo=_useState2[0],setUserInfo=_useState2[1];var _useState3=Object(react[\"useState\"])(),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),partnerInfo=_useState4[0],setPartnerInfo=_useState4[1];var _useState5=Object(react[\"useState\"])(false),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),havePartner=_useState6[0],setHavePartner=_useState6[1];var _useState7=Object(react[\"useState\"])([]),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),requestList=_useState8[0],setRequestList=_useState8[1];var _useState9=Object(react[\"useState\"])(false),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),dayWidget=_useState10[0],setDayWidget=_useState10[1];var _useState11=Object(react[\"useState\"])(false),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),specialWidget=_useState12[0],setSpecialWidget=_useState12[1];var _useState13=Object(react[\"useState\"])(false),_useState14=Object(slicedToArray[\"a\" /* default */])(_useState13,2),bdayWidget=_useState14[0],setBdayWidget=_useState14[1];var _useState15=Object(react[\"useState\"])(false),_useState16=Object(slicedToArray[\"a\" /* default */])(_useState15,2),dateOfRelation=_useState16[0],setDateOfRelation=_useState16[1];var _useState17=Object(react[\"useState\"])(false),_useState18=Object(slicedToArray[\"a\" /* default */])(_useState17,2),isSetting=_useState18[0],setIsSetting=_useState18[1];var _useState19=Object(react[\"useState\"])(),_useState20=Object(slicedToArray[\"a\" /* default */])(_useState19,2),totalDay=_useState20[0],setTotalDay=_useState20[1];var _useState21=Object(react[\"useState\"])(),_useState22=Object(slicedToArray[\"a\" /* default */])(_useState21,2),userBday=_useState22[0],setUserBday=_useState22[1];var _useState23=Object(react[\"useState\"])(),_useState24=Object(slicedToArray[\"a\" /* default */])(_useState23,2),partnerBday=_useState24[0],setPartnerBday=_useState24[1];var _useState25=Object(react[\"useState\"])(),_useState26=Object(slicedToArray[\"a\" /* default */])(_useState25,2),yourCountDown=_useState26[0],setYourCountDown=_useState26[1];var _useState27=Object(react[\"useState\"])(),_useState28=Object(slicedToArray[\"a\" /* default */])(_useState27,2),partnerCountDown=_useState28[0],setPartnerCountDown=_useState28[1];var _useState29=Object(react[\"useState\"])(),_useState30=Object(slicedToArray[\"a\" /* default */])(_useState29,2),upComingEvent=_useState30[0],setUpComingEvent=_useState30[1];var _useState31=Object(react[\"useState\"])(),_useState32=Object(slicedToArray[\"a\" /* default */])(_useState31,2),upComingDay=_useState32[0],setUpComingDay=_useState32[1];var _useState33=Object(react[\"useState\"])(''),_useState34=Object(slicedToArray[\"a\" /* default */])(_useState33,2),backgroundUrl=_useState34[0],setBackgroundUrl=_useState34[1];var _useState35=Object(react[\"useState\"])(true),_useState36=Object(slicedToArray[\"a\" /* default */])(_useState35,2),isHome=_useState36[0],setIsHome=_useState36[1];var _useState37=Object(react[\"useState\"])(),_useState38=Object(slicedToArray[\"a\" /* default */])(_useState37,2),date=_useState38[0],setDate=_useState38[1];var formRef=Object(react[\"useRef\"])();var acceptRef=Object(react[\"useRef\"])();var dateRef=Object(react[\"useRef\"])();var monthMap={\"01\":\"January\",\"02\":\"February\",\"03\":\"March\",\"04\":\"April\",\"05\":\"May\",\"06\":\"June\",\"07\":\"July\",\"08\":\"August\",\"09\":\"September\",\"10\":\"October\",\"11\":\"November\",\"12\":\"December\"};Object(react[\"useEffect\"])(function(){var ac=new AbortController();axios_default.a.get('/auth/isLoggedIn').then(function(res){return res.data;}).catch(function(err){return console.log(err);}).then(function(res){if(res.isLoggedIn===false){window.open('/login','_self');}else{if(res.user.nickname===undefined){window.open('/userProfileForm','_self');}else{axios_default.a.get('/home/getBackground').then(function(res){return res.data;}).catch(function(err){return console.log(err);}).then(function(res){if(!res){setBackgroundUrl('https://s3-us-west-2.amazonaws.com/s.cdpn.io/751678/my-illustration-background.png');document.getElementById('foreground').style.visibility=\"visible\";}else{setBackgroundUrl('/home/getBackground');document.getElementById('foreground').style.visibility=\"hidden\";}});var anniverse=new Date(res.user.dateOfRelationship);var month=anniverse.getMonth()+1;var day=anniverse.getDate();var _date=\"0\"+month+\"/\"+day;var specialEvent=[{date:\"02/14\",event:\"Valentines Day\"},{date:\"05/20\",event:\"520 Day\"},{date:\"12/25\",event:\"Christmas Day\"},{date:\"12/31\",event:\"New Year Eve\"},{date:_date,event:\"Anniversary Day\"}];setPartnerInfo(res.partnerInfo);setUserInfo(res.user);if(res.user.dateOfRelationship!==null){setDateOfRelation(true);setDate(res.user.dateOfRelationship);if(res.widget){for(var i=0;i<res.widget.widget.length;i++){if(res.widget.widget[i].type===\"day\"){setDayWidget(true);var current=new Date();var original=new Date(res.user.dateOfRelationship);var difference=current.getTime()-original.getTime();var _day=difference/(1000*3600*24);setTotalDay(parseInt(_day)+1);}else if(res.widget.widget[i].type===\"bday\"){var partner=formatDate(res.partnerInfo.dateOfBirth);var you=formatDate(res.user.dateOfBirth);setPartnerBday(partner);setUserBday(you);var _current=new Date();var date1=new Date(res.partnerInfo.dateOfBirth);var date2=new Date(res.user.dateOfBirth);date1.setFullYear(_current.getFullYear());date2.setFullYear(_current.getFullYear());if(_current>date1){date1.setFullYear(_current.getFullYear()+1);}if(_current>date2){date2.setFullYear(_current.getFullYear()+1);}var temp1=parseInt((date1.getTime()-_current.getTime())/(1000*3600*24));var temp2=parseInt((date2.getTime()-_current.getTime())/(1000*3600*24));if(temp1===0){setPartnerCountDown(\"Today is your partner's Birthday!\");}else{setPartnerCountDown(Math.abs(temp1));}if(temp2===0){setYourCountDown(\"Today is your Birthday!\");}else{setYourCountDown(Math.abs(temp2));}setBdayWidget(true);}else if(res.widget.widget[i].type===\"special\"){(function(){setSpecialWidget(true);var currentDate=new Date();var currentYear=currentDate.getFullYear();var closest=99999999999;specialEvent.map(function(date){var temp=new Date(currentYear+\"/\"+date.date);if(currentDate>temp){temp.setFullYear(currentDate+1);}var result=Math.abs(parseInt(currentDate.getTime()-temp.getTime())/(1000*3600*24));if(result<closest){closest=result+1;setUpComingEvent(date.event);}});if(Math.round(closest)===0){setUpComingDay(\"Today is \"+_date.event+\" !\");}else{setUpComingDay(Math.round(closest));}})();}}}}axios_default()({method:'get',url:'/user/getRequest',headers:{'Content-Type':'multipart/form-data'}}).then(function(res){return res.data;}).catch(function(err){return console.log(err);}).then(function(res){var temp=[];res.requests.map(function(list){temp.push(Object(objectSpread2[\"a\" /* default */])({},list));});setRequestList(temp);});if(res.user.partner!==null){setHavePartner(true);}}}});return function cancel(){ac.abort();};},[dayWidget,specialWidget,bdayWidget]);function formatDate(date){var today=new Date(parseInt(Date.parse(date),10));var dd=String(today.getDate()).padStart(2,'0');var mm=String(today.getMonth()+1).padStart(2,'0');//January is 0!\nvar yyyy=today.getFullYear();// return mm + '/' + dd + '/' + yyyy;\nreturn dd+\" \"+monthMap[mm];}function handleLogout(){window.location.href=\"/auth/logout\";}function handleSendReq(event){event.preventDefault();var formData=new FormData(formRef.current);axios_default()({method:'post',url:'/user/sendRequest',data:formData,headers:{'Content-Type':'multipart/form-data'}}).then(function(res){return res.data;}).catch(function(err){return console.log(err);}).then(function(res){if(res.isSent){alert(\"sent!\");}else{alert(res.status);console.log(res);}});document.getElementById('reqId').value=\"\";}requestList.map(function(list){console.log(list);});function onHoverAddWidget(type){if(type===\"special\"){document.getElementById('hover-special').style.opacity=\"1\";}else if(type===\"day\"){document.getElementById('hover-day').style.opacity=\"1\";}else if(type===\"bday\"){document.getElementById('hover-bday').style.opacity=\"1\";}}function offHoverAddWidget(type){if(type===\"special\"){document.getElementById('hover-special').style.opacity=\"0\";}else if(type===\"day\"){document.getElementById('hover-day').style.opacity=\"0\";}else if(type===\"bday\"){document.getElementById('hover-bday').style.opacity=\"0\";}}function handleCreateWidget(_x){return _handleCreateWidget.apply(this,arguments);}function _handleCreateWidget(){_handleCreateWidget=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(type){var formdata,_formdata,_formdata2;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(type===\"day\")){_context.next=12;break;}if(!dateOfRelation){_context.next=8;break;}formdata=new FormData();formdata.append('type',type);_context.next=6;return axios_default()({method:'post',url:'/widget/createWidget',data:formdata,headers:{'Content-Type':'multipart/form-data'}}).then(function(res){return res.data;}).catch(function(err){return console.log(err);}).then(function(res){setDayWidget(true);});case 6:_context.next=10;break;case 8:document.getElementById(\"noDayWidget\").style.display=\"none\";setIsSetting(true);case 10:_context.next=24;break;case 12:if(!(type===\"bday\")){_context.next=19;break;}_formdata=new FormData();_formdata.append('type',\"bday\");_context.next=17;return axios_default()({method:'post',url:'/widget/createWidget',data:_formdata,headers:{'Content-Type':'multipart/form-data'}}).then(function(res){return res.data;}).catch(function(err){return console.log(err);}).then(function(res){if(res){setBdayWidget(true);}});case 17:_context.next=24;break;case 19:if(!(type===\"special\")){_context.next=24;break;}_formdata2=new FormData();_formdata2.append('type',\"special\");_context.next=24;return axios_default()({method:'post',url:'/widget/createWidget',data:_formdata2,headers:{'Content-Type':'multipart/formdata'}}).then(function(res){return res.data;}).catch(function(err){return console.log(err);}).then(function(res){if(res){setSpecialWidget(true);}});case 24:case\"end\":return _context.stop();}}},_callee);}));return _handleCreateWidget.apply(this,arguments);}function handleUpdateDate(_x2){return _handleUpdateDate.apply(this,arguments);}function _handleUpdateDate(){_handleUpdateDate=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(event){var formdata;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:event.preventDefault();formdata=new FormData(dateRef.current);formdata.append('type',\"day\");_context2.next=5;return axios_default()({method:'post',url:'/widget/createWidget',data:formdata,headers:{'Content-Type':'multipart/form-data'}}).then(function(res){return res.data;}).catch(function(err){return console.log(err);}).then(function(res){setIsSetting(false);setDayWidget(true);});case 5:case\"end\":return _context2.stop();}}},_callee2);}));return _handleUpdateDate.apply(this,arguments);}function onHoverWidget(type){if(type===\"day\"){document.getElementById(\"home-delete-dayWidget\").style.visibility=\"visible\";}else if(type===\"bday\"){document.getElementById('home-delete-bdayWidget').style.visibility=\"visible\";}else if(type===\"special\"){document.getElementById('home-delete-specialWidget').style.visibility=\"visible\";}}function offHoverWidget(){if(dayWidget)document.getElementById(\"home-delete-dayWidget\").style.visibility=\"hidden\";if(bdayWidget)document.getElementById('home-delete-bdayWidget').style.visibility=\"hidden\";if(specialWidget)document.getElementById('home-delete-specialWidget').style.visibility=\"hidden\";}function handleDeleteWidget(_x3){return _handleDeleteWidget.apply(this,arguments);}function _handleDeleteWidget(){_handleDeleteWidget=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee3(type){var formdata;return regenerator_default.a.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:formdata=new FormData();formdata.append('type',type);_context3.next=4;return axios_default()({method:'post',url:'/widget/deleteWidget',data:formdata,headers:{'Content-Type':'multipart/form-data'}}).then(function(res){return res.data;}).catch(function(err){return console.log(err);}).then(function(res){if(res){if(type===\"day\")setDayWidget(false);if(type===\"bday\")setBdayWidget(false);if(type===\"special\")setSpecialWidget(false);}});case 4:case\"end\":return _context3.stop();}}},_callee3);}));return _handleDeleteWidget.apply(this,arguments);}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"home-div\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Navbar,(_jsx2={isHome:isHome,setRequestList:setRequestList,setHavePartner:setHavePartner,requestList:requestList,havePartner:havePartner,handleSendReq:handleSendReq,formRef:formRef,handleLogout:handleLogout},Object(defineProperty[\"a\" /* default */])(_jsx2,\"handleSendReq\",handleSendReq),Object(defineProperty[\"a\" /* default */])(_jsx2,\"acceptRef\",acceptRef),_jsx2)),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"home-background\",style:{backgroundImage:\"url(\"+backgroundUrl+\")\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"home-overlay\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"home-widget anniverse\",children:[!havePartner&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"home-noPartner\",children:\"You need to have a partner to access this widget\"}),specialWidget?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"home-event-div\",onMouseOut:offHoverWidget,onMouseOver:function onMouseOver(){return onHoverWidget(\"special\");},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{id:\"home-delete-specialWidget\",onClick:function onClick(){return handleDeleteWidget(\"special\");},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Clear_default.a,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"home-event-title\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"Up Coming Event:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:upComingEvent})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"home-event-day\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h1\",{children:[upComingDay,\" days left\"]})})]}):/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"home-noWidget\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{id:\"home-add-widget\",onClick:function onClick(){return handleCreateWidget(\"special\");},onMouseOver:function onMouseOver(){return onHoverAddWidget(\"special\");},onMouseOut:function onMouseOut(){return offHoverAddWidget(\"special\");},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Add_default.a,{fontSize:\"large\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"home-add-hover\",id:\"hover-special\",children:\"Add this widget to get to know up coming special events\"})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"home-widget days\",children:[!havePartner&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"home-noPartner\",children:\"You need to have a partner to access this widget\"}),dayWidget?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"home-totalDay-widget\",onMouseOut:offHoverWidget,onMouseOver:function onMouseOver(){return onHoverWidget(\"day\");},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{id:\"home-delete-dayWidget\",onClick:function onClick(){return handleDeleteWidget(\"day\");},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Clear_default.a,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h1\",{children:[totalDay,\" DAYS\"]})]}):/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"home-noWidget\",id:\"noDayWidget\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{id:\"home-add-widget\",onClick:function onClick(){return handleCreateWidget(\"day\");},onMouseOver:function onMouseOver(){return onHoverAddWidget(\"day\");},onMouseOut:function onMouseOut(){return offHoverAddWidget(\"day\");},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Add_default.a,{fontSize:\"large\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"home-add-hover\",id:\"hover-day\",children:\"Add this widget to get to know total days together\"})]}),isSetting&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"home-setDate\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"home-setDate-title\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Please set the date of you with your partner\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:handleUpdateDate,ref:dateRef,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(useUtils_cfb96ac9[\"a\" /* M */],{utils:index_esm[\"a\" /* default */],children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DatePicker[\"a\" /* KeyboardDatePicker */],{margin:\"normal\",id:\"dateOfRelation\",label:\"Date of Relationship\",name:\"dateOfRelation\",format:\"MM/dd/yyyy\",value:date,onChange:function onChange(date){setDate(date);},KeyboardButtonProps:{'aria-label':'change date'}})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{type:\"submit\",id:\"home-submit-day\",children:\"SUBMIT\"})]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"home-widget special\",children:[!havePartner&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"home-noPartner\",children:\"You need to have a partner to access this widget\"}),bdayWidget?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"home-dob-div\",onMouseOut:offHoverWidget,onMouseOver:function onMouseOver(){return onHoverWidget(\"bday\");},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{id:\"home-delete-bdayWidget\",onClick:function onClick(){return handleDeleteWidget(\"bday\");},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Clear_default.a,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"home-bday-div you\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"home-bday-name\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:userInfo.nickname})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"home-bday-border\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"home-bday-calander\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{style:{borderBottom:\"1px solid white\"},children:userBday}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h1\",{children:[yourCountDown,\" days left\"]})]})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"home-bday-div partner\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"home-bday-name\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:partnerInfo.nickname})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"home-bday-border\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"home-bday-calander\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{style:{borderBottom:\"1px solid white\"},children:partnerBday}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h1\",{children:[partnerCountDown,\" days left\"]})]})})]})]}):/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"home-noWidget\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{id:\"home-add-widget\",onClick:function onClick(){return handleCreateWidget(\"bday\");},onMouseOver:function onMouseOver(){return onHoverAddWidget(\"bday\");},onMouseOut:function onMouseOut(){return offHoverAddWidget(\"bday\");},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Add_default.a,{fontSize:\"large\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"home-add-hover\",id:\"hover-bday\",children:\"Add this widget to get to know each other birthdays\"})]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"foreground\",id:\"foreground\"})]})]});}\n// EXTERNAL MODULE: ../node_modules/@material-ui/core/esm/TextField/TextField.js + 1 modules\nvar TextField = __webpack_require__(395);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/core/esm/styles/makeStyles.js\nvar makeStyles = __webpack_require__(387);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/core/esm/InputLabel/InputLabel.js + 1 modules\nvar InputLabel = __webpack_require__(396);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/core/esm/FormControl/FormControl.js\nvar FormControl = __webpack_require__(390);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/core/esm/Select/Select.js + 4 modules\nvar Select = __webpack_require__(392);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/core/esm/MenuItem/MenuItem.js + 1 modules\nvar MenuItem = __webpack_require__(397);\n\n// EXTERNAL MODULE: ./src/css/profileInfo.css\nvar profileInfo = __webpack_require__(248);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/icons/AddAPhoto.js\nvar AddAPhoto = __webpack_require__(169);\nvar AddAPhoto_default = /*#__PURE__*/__webpack_require__.n(AddAPhoto);\n\n// CONCATENATED MODULE: ./src/components/UserProfileForm.js\nvar genders=[{value:'male',label:'male'},{value:'female',label:'female'}];var useStyles=Object(makeStyles[\"a\" /* default */])(function(theme){return{formControl:{marginTop:20,minWidth:\"90%\"}};});function UserProfileForm(){var _useState=Object(react[\"useState\"])(\"\"),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),nickname=_useState2[0],setNickname=_useState2[1];var _useState3=Object(react[\"useState\"])(\"\"),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),bio=_useState4[0],setBio=_useState4[1];var _useState5=Object(react[\"useState\"])(),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),croppedUrl=_useState6[0],setCroppedUrl=_useState6[1];var _useState7=Object(react[\"useState\"])(false),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),uploaded=_useState8[0],setUploaded=_useState8[1];var _useState9=Object(react[\"useState\"])(new Date()),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),dob=_useState10[0],setDob=_useState10[1];var _useState11=Object(react[\"useState\"])('male'),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),gender=_useState12[0],setGender=_useState12[1];var _useState13=Object(react[\"useState\"])(false),_useState14=Object(slicedToArray[\"a\" /* default */])(_useState13,2),newProfile=_useState14[0],setNewProfile=_useState14[1];var _useState15=Object(react[\"useState\"])(),_useState16=Object(slicedToArray[\"a\" /* default */])(_useState15,2),partner=_useState16[0],setPartner=_useState16[1];var _useState17=Object(react[\"useState\"])(),_useState18=Object(slicedToArray[\"a\" /* default */])(_useState17,2),dateOfRelationship=_useState18[0],setDateOfRelationship=_useState18[1];var _useState19=Object(react[\"useState\"])(),_useState20=Object(slicedToArray[\"a\" /* default */])(_useState19,2),userId=_useState20[0],setUserId=_useState20[1];var formRef=Object(react[\"useRef\"])();var classes=useStyles();Object(react[\"useEffect\"])(function(){var ac=new AbortController();axios_default.a.get('/auth/isLoggedIn').then(function(res){return res.data;}).catch(function(err){return console.log(err);}).then(function(res){if(res.isLoggedIn===false){window.open('/login','_self');}else if(res.user.nickname){setUserId(res.user._id);setNickname(res.user.nickname);setDob(res.user.dateOfBirth);setGender(res.user.gender);setBio(res.user.bio);if(res.user.partner!==null){setPartner(res.user.partner);if(res.user.dateOfRelationship){setDateOfRelationship(res.user.dateOfRelationship);}}}});return function cancel(){ac.abort();};},[]);Object(react[\"useEffect\"])(function(){var ac=new AbortController();axios_default()({method:'get',url:'/gridFs/checkExists',headers:{'Content-Type':'multipart/form-data'}}).then(function(res){return res.data;}).catch(function(err){return console.log(err);}).then(function(res){if(res===true){document.getElementById(\"overlay\").style.visibility=\"hidden\";}});return function cancel(){ac.abort();};},[]);if(uploaded){var reader=new FileReader();reader.onload=function(event){if(event.target.result===null){return;}document.getElementById(\"avatarImg\").setAttribute(\"src\",event.target.result);};reader.readAsDataURL(croppedUrl);}function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(event){var formData;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(uploaded){axios_default.a.get('/gridFs/deleteImg');}event.preventDefault();formData=new FormData(formRef.current);partner&&formData.append('partner',partner);_context.next=6;return axios_default()({method:'post',url:'/user/info',data:formData,headers:{'Content-Type':'multipart/form-data'}});case 6:window.location.href=\"/\";case 7:case\"end\":return _context.stop();}}},_callee);}));return _handleSubmit.apply(this,arguments);}function toggleNewFile(event){var file=event.target.files[0];if(file===undefined){return;}else{document.getElementById(\"overlay\").style.visibility=\"hidden\";setCroppedUrl(file);setUploaded(true);}}function uploadFile(){document.getElementById(\"file\").click();}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"infoForm\",id:\"infoForm\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:handleSubmit,ref:formRef,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{id:\"avatar\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Avatar[\"a\" /* default */],{id:\"overlay\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:uploaded?\"\":\"/gridFs/getProfile\",id:\"avatarImg\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"fileIpt\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"file\",name:\"file\",id:\"file\",onChange:toggleNewFile}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{id:\"uploadBtn\",onClick:uploadFile,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AddAPhoto_default.a,{})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"infoDiv\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"home-userId\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"Your ID: \"}),userId]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField[\"a\" /* default */],{id:\"nickname\",className:\"inputFields\",label:\"Nickname\",variant:\"outlined\",name:\"nickname\",value:nickname,onChange:function onChange(e){setNickname(e.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(FormControl[\"a\" /* default */],{variant:\"outlined\",className:classes.formControl,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InputLabel[\"a\" /* default */],{id:\"demo-simple-select-outlined-label\",children:\"Gender\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Select[\"a\" /* default */],{labelId:\"demo-simple-select-outlined-label\",id:\"demo-simple-select-outlined\",value:gender,onChange:function onChange(e){setGender(e.target.value);},label:\"Gender\",name:\"gender\",children:genders.map(function(option){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MenuItem[\"a\" /* default */],{value:option.value,children:option.label},option.value);})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(useUtils_cfb96ac9[\"a\" /* M */],{utils:index_esm[\"a\" /* default */],style:{marginLeft:\"10px\"},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DatePicker[\"a\" /* KeyboardDatePicker */],{margin:\"normal\",id:\"dateOfBirth\",label:\"Date of birth (mm/dd/yyyy)\",name:\"dateOfBirth\",format:\"MM/dd/yyyy\",value:dob,onChange:function onChange(date){setDob(date);},KeyboardButtonProps:{'aria-label':'change date'}})}),dateOfRelationship&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(useUtils_cfb96ac9[\"a\" /* M */],{utils:index_esm[\"a\" /* default */],children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DatePicker[\"a\" /* KeyboardDatePicker */],{margin:\"normal\",id:\"dateOfRelation\",label:\"Date of relationship\",name:\"dateOfRelationship\",format:\"MM/dd/yyyy\",value:dateOfRelationship,onChange:function onChange(date){setDateOfRelationship(date);},KeyboardButtonProps:{'aria-label':'change date'}})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField[\"a\" /* default */],{id:\"bio\",label:\"Bio\",variant:\"outlined\",name:\"bio\",className:\"inputFields\",value:bio,onChange:function onChange(e){setBio(e.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{type:\"submit\",id:\"submitInfo\",children:\"submit\"})]})]})});}\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules\nvar toConsumableArray = __webpack_require__(49);\n\n// EXTERNAL MODULE: ../node_modules/socket.io-client/build/index.js\nvar build = __webpack_require__(78);\nvar build_default = /*#__PURE__*/__webpack_require__.n(build);\n\n// EXTERNAL MODULE: ./src/css/inputBox.css\nvar inputBox = __webpack_require__(280);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/icons/Send.js\nvar Send = __webpack_require__(170);\nvar Send_default = /*#__PURE__*/__webpack_require__.n(Send);\n\n// CONCATENATED MODULE: ./src/components/InputBox.js\nfunction InputBox(props){var handleSendMsg=props.handleSendMsg;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"foot\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:handleSendMsg,className:\"input-form\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"msg\",placeholder:\"Type a message...\",id:\"chat\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{type:\"submit\",id:\"sendIcon\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Send_default.a,{})})]})});}\n// EXTERNAL MODULE: ./src/css/chatroom.css\nvar chatroom = __webpack_require__(281);\n\n// EXTERNAL MODULE: ./src/css/chatNav.css\nvar chatNav = __webpack_require__(282);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/icons/Videocam.js\nvar Videocam = __webpack_require__(100);\nvar Videocam_default = /*#__PURE__*/__webpack_require__.n(Videocam);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/icons/MoreHoriz.js\nvar MoreHoriz = __webpack_require__(101);\nvar MoreHoriz_default = /*#__PURE__*/__webpack_require__.n(MoreHoriz);\n\n// CONCATENATED MODULE: ./src/components/ChatNav.js\nfunction ChatNav(props){var toggleBackHome=props.toggleBackHome,partnerInfo=props.partnerInfo,partnerStatus=props.partnerStatus,toggleVideoCall=props.toggleVideoCall,callAccepted=props.callAccepted,setBackgroundUrl=props.setBackgroundUrl;var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),readyDisplay=_useState2[0],setReadyDisplay=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),isOnline=_useState4[0],setIsOnline=_useState4[1];var _useState5=Object(react[\"useState\"])(false),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),openMore=_useState6[0],setOpenMore=_useState6[1];var imgRef=Object(react[\"useRef\"])();Object(react[\"useEffect\"])(function(){var ac=new AbortController();if(partnerInfo){setReadyDisplay(true);}return function cancel(){ac.abort();};},[partnerInfo]);if(partnerStatus&&partnerInfo){partnerStatus.map(function(user){if(user===partnerInfo._id){setIsOnline(true);}});}function toggleChangeBackground(_x){return _toggleChangeBackground.apply(this,arguments);}function _toggleChangeBackground(){_toggleChangeBackground=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(event){var formdata;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios_default.a.get('/chat/deleteBackground');case 2:formdata=new FormData();formdata.append('file',event.target.files[0]);_context.next=6;return axios_default()({method:'post',url:'/chat/uploadChatImg',data:formdata,headers:{'Content-Type':'multipart/form-data'}});case 6:window.location.reload();case 7:case\"end\":return _context.stop();}}},_callee);}));return _toggleChangeBackground.apply(this,arguments);}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chatNav-div\",children:[isOnline&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"ONLINE\"}),openMore&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"chatNav-moreOption\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chatNav-changeBackground\",onClick:function onClick(){return document.getElementById('chatNav-file').click();},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Photo_default.a,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"file\",name:\"file\",hidden:true,id:\"chatNav-file\",onChange:toggleChangeBackground})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"head\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"user\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"avatar\",id:\"avatarStatus\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:\"/gridFs/getPartnerProfile\"})}),readyDisplay&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"name\",children:partnerInfo.nickname})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"ul\",{id:\"bar_tool\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{id:\"iconBtn\",onClick:toggleVideoCall,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"alink\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Videocam_default.a,{id:\"contact\"})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{id:\"iconBtn\",onClick:function onClick(){return setOpenMore(!openMore);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"alink\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MoreHoriz_default.a,{id:\"contact\"})})})]})]})]});}\n// EXTERNAL MODULE: ./src/css/chatBubble.css\nvar chatBubble = __webpack_require__(283);\n\n// CONCATENATED MODULE: ./src/components/ChatBubble.js\nfunction ChatBubble(props){var textInfo=props.textInfo,user=props.user;if(textInfo&&textInfo.userId===user._id){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"bubble-div righter\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"context\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:textInfo&&textInfo.text})})});}else{return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"bubble-div lefter\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"img-div\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:\"/gridFs/getPartnerProfile\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"context\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:textInfo&&textInfo.text})})]});}}\n// EXTERNAL MODULE: ../node_modules/react-custom-scrollbars-2/lib/index.js\nvar lib = __webpack_require__(284);\n\n// EXTERNAL MODULE: ../node_modules/simple-peer/index.js\nvar simple_peer = __webpack_require__(117);\nvar simple_peer_default = /*#__PURE__*/__webpack_require__.n(simple_peer);\n\n// CONCATENATED MODULE: ./src/SocketContext.js\nvar SocketContext=/*#__PURE__*/Object(react[\"createContext\"])();var SocketContext_ENDPOINT='localhost:5000';var SocketContext_socket;var isCaller=false;var SocketContext_name;var SocketContext_ContextProvider=function ContextProvider(_ref){var children=_ref.children;var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),callAccepted=_useState2[0],setCallAccepted=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),callEnded=_useState4[0],setCallEnded=_useState4[1];var _useState5=Object(react[\"useState\"])(),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),stream=_useState6[0],setStream=_useState6[1];// const [name, setName] = useState('');\nvar _useState7=Object(react[\"useState\"])({}),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),call=_useState8[0],setCall=_useState8[1];var _useState9=Object(react[\"useState\"])(''),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),userId=_useState10[0],setUserId=_useState10[1];var _useState11=Object(react[\"useState\"])(''),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),roomId=_useState12[0],setRoomId=_useState12[1];var _useState13=Object(react[\"useState\"])([]),_useState14=Object(slicedToArray[\"a\" /* default */])(_useState13,2),newMessage=_useState14[0],setNewMessage=_useState14[1];var _useState15=Object(react[\"useState\"])(),_useState16=Object(slicedToArray[\"a\" /* default */])(_useState15,2),partnerId=_useState16[0],setPartnerId=_useState16[1];var _useState17=Object(react[\"useState\"])(false),_useState18=Object(slicedToArray[\"a\" /* default */])(_useState17,2),isCalling=_useState18[0],setIsCalling=_useState18[1];var _useState19=Object(react[\"useState\"])(false),_useState20=Object(slicedToArray[\"a\" /* default */])(_useState19,2),noCall=_useState20[0],setNoCall=_useState20[1];var _useState21=Object(react[\"useState\"])(true),_useState22=Object(slicedToArray[\"a\" /* default */])(_useState21,2),isOnline=_useState22[0],setIsOnline=_useState22[1];var _useState23=Object(react[\"useState\"])(),_useState24=Object(slicedToArray[\"a\" /* default */])(_useState23,2),users=_useState24[0],setUsers=_useState24[1];var myVideo=Object(react[\"useRef\"])();var userVideo=Object(react[\"useRef\"])();var connectionRef=Object(react[\"useRef\"])();Object(react[\"useEffect\"])(function(){SocketContext_socket=Object(build[\"io\"])(SocketContext_ENDPOINT);SocketContext_socket.on('chatMsg',function(chat){setNewMessage(chat);});SocketContext_socket.on('startCalling',function(e){callUser();});SocketContext_socket.on('start',function(e){setIsCalling(true);});SocketContext_socket.on('no',function(e){setNoCall(true);alert('your partner is not online!');});},[]);Object(react[\"useEffect\"])(function(){if(!isCalling){return null;}SocketContext_socket.on('returnDiv',function(e){document.getElementById('chat-body').style.marginRight=\"auto\";document.getElementById('chat-body').style.marginLeft=\"auto\";document.getElementById(\"video-div\").style.visibility=\"hidden\";});SocketContext_socket.on('calluser',/*#__PURE__*/function(){var _ref3=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(_ref2){var from,callerName,signal;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:from=_ref2.from,callerName=_ref2.name,signal=_ref2.signal;setCall({isReceivingCall:true,from:from,name:callerName,signal:signal});case 2:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref3.apply(this,arguments);};}());SocketContext_socket.on('moveDiv',function(e){document.getElementById('chat-body').style.marginRight=\"auto\";document.getElementById('chat-body').style.marginLeft=\"10px\";document.getElementById(\"video-div\").style.visibility=\"visible\";});SocketContext_socket.on('dc',function(e){leaveCall();});},[isCalling]);// useEffect(()=>{\n//   if(callAccepted)\n//   {\n//     navigator.mediaDevices.getUserMedia({ video: true, audio: true })\n//     .then((currentStream) => {\n//     setStream(currentStream);\n//     myVideo.current.srcObject = currentStream;\n//     });\n//   }\n// },[callAccepted])\nvar startCall=function startCall(){SocketContext_socket.emit('calling');};var joinRoom=function joinRoom(roomId,userId,nickname){SocketContext_socket.emit('join',{userId:userId,roomId:roomId});setUserId(userId);setRoomId(roomId);// setName(nickname); \nSocketContext_name=nickname;};var audio=true;var muteAudio=function muteAudio(){audio=!audio;stream.getAudioTracks()[0].enabled=audio;};var video=true;var muteVideo=function muteVideo(){video=!video;stream.getVideoTracks()[0].enabled=video;};var sendMsg=function sendMsg(msg,nickname){SocketContext_socket.emit('sendMsg',{msg:msg,userId:userId,nickname:nickname,roomId:roomId});};var declineCall=function declineCall(){setCallEnded(true);if(isCaller){document.getElementById('chat-body').style.marginRight=\"auto\";document.getElementById('chat-body').style.marginLeft=\"auto\";document.getElementById(\"video-div\").style.visibility=\"hidden\";}setIsCalling(false);window.location.reload();};var answerCall=/*#__PURE__*/function(){var _ref4=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(){var local,peer;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return navigator.mediaDevices.getUserMedia({video:true,audio:true}).then(function(currentStream){setStream(currentStream);local=currentStream;myVideo.current.srcObject=currentStream;});case 2:setCallAccepted(true);peer=new simple_peer_default.a({initiator:false,trickle:false,stream:local});peer.on('signal',function(data){SocketContext_socket.emit('answercall',{signal:data,to:call.from});});peer.on('stream',function(currentStream){console.log(\"this is the remote stream: \"+currentStream);userVideo.current.srcObject=currentStream;});peer.signal(call.signal);connectionRef.current=peer;case 8:case\"end\":return _context2.stop();}}},_callee2);}));return function answerCall(){return _ref4.apply(this,arguments);};}();var callUser=/*#__PURE__*/function(){var _ref5=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee3(){var local,peer;return regenerator_default.a.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(!noCall){_context3.next=2;break;}return _context3.abrupt(\"return\",null);case 2:_context3.next=4;return navigator.mediaDevices.getUserMedia({video:true,audio:true}).then(function(currentStream){setStream(currentStream);local=currentStream;myVideo.current.srcObject=currentStream;});case 4:isCaller=true;peer=new simple_peer_default.a({initiator:true,trickle:false,stream:local});peer.on('signal',function(data){SocketContext_socket.emit('calluser',{signalData:data,name:SocketContext_name});});peer.on('stream',function(currentStream){userVideo.current.srcObject=currentStream;});SocketContext_socket.on('callaccepted',function(signal){console.log('call accepted: '+signal);setCallAccepted(true);peer.signal(signal);});connectionRef.current=peer;case 10:case\"end\":return _context3.stop();}}},_callee3);}));return function callUser(){return _ref5.apply(this,arguments);};}();var leaveCall=function leaveCall(){setCallEnded(true);if(isCaller){document.getElementById('chat-body').style.marginRight=\"auto\";document.getElementById('chat-body').style.marginLeft=\"auto\";document.getElementById(\"video-div\").style.visibility=\"hidden\";}if(connectionRef.current)connectionRef.current.destroy();window.location.reload();};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SocketContext.Provider,{value:{call:call,callAccepted:callAccepted,myVideo:myVideo,newMessage:newMessage,sendMsg:sendMsg,joinRoom:joinRoom,userVideo:userVideo,stream:stream,name:SocketContext_name,callEnded:callEnded,callUser:callUser,leaveCall:leaveCall,answerCall:answerCall,users:users,isOnline:isOnline,startCall:startCall,muteAudio:muteAudio,muteVideo:muteVideo,declineCall:declineCall,isCaller:isCaller},children:children});};\n// EXTERNAL MODULE: ../node_modules/@material-ui/icons/Done.js\nvar Done = __webpack_require__(171);\nvar Done_default = /*#__PURE__*/__webpack_require__.n(Done);\n\n// CONCATENATED MODULE: ./src/components/VideoRespond.js\nfunction VideoRespond(props){var _useContext=Object(react[\"useContext\"])(SocketContext),answerCall=_useContext.answerCall,call=_useContext.call,declineCall=_useContext.declineCall;function answer(){return _answer.apply(this,arguments);}function _answer(){_answer=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:document.getElementById('chat-body').style.marginRight=\"auto\";document.getElementById('chat-body').style.marginLeft=\"10px\";document.getElementById(\"video-div\").style.visibility=\"visible\";answerCall();case 4:case\"end\":return _context.stop();}}},_callee);}));return _answer.apply(this,arguments);}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"respond\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Avatar[\"a\" /* default */],{src:\"/gridFs/getPartnerProfile\",id:\"caller\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"description\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h3\",{children:[call.name,\" wants to call you\"]})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"choice\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{id:\"choice-btn\",onClick:answer,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Done_default.a,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{id:\"choice-canc\",onClick:declineCall,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Clear_default.a,{})})]})]});}\n// EXTERNAL MODULE: ./src/css/videoCall.css\nvar videoCall = __webpack_require__(318);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/icons/VideocamOff.js\nvar VideocamOff = __webpack_require__(172);\nvar VideocamOff_default = /*#__PURE__*/__webpack_require__.n(VideocamOff);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/icons/Mic.js\nvar Mic = __webpack_require__(175);\nvar Mic_default = /*#__PURE__*/__webpack_require__.n(Mic);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/icons/CallEnd.js\nvar CallEnd = __webpack_require__(173);\nvar CallEnd_default = /*#__PURE__*/__webpack_require__.n(CallEnd);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/icons/MicOff.js\nvar MicOff = __webpack_require__(174);\nvar MicOff_default = /*#__PURE__*/__webpack_require__.n(MicOff);\n\n// CONCATENATED MODULE: ./src/components/VideoCall.js\nfunction VideoCall(){var _useContext=Object(react[\"useContext\"])(SocketContext),callAccepted=_useContext.callAccepted,myVideo=_useContext.myVideo,userVideo=_useContext.userVideo,callEnded=_useContext.callEnded,leaveCall=_useContext.leaveCall,muteAudio=_useContext.muteAudio,muteVideo=_useContext.muteVideo,declineCall=_useContext.declineCall;var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isMuted=_useState2[0],setIsMuted=_useState2[1];var _useState3=Object(react[\"useState\"])(true),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),isDisplayed=_useState4[0],setIsDisplayed=_useState4[1];function handleMute(){setIsMuted(!isMuted);muteAudio();}function handleDisplay(){setIsDisplayed(!isDisplayed);muteVideo();}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"video-div\",id:\"video-div\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"vid-call\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"video\",{playsInline:true,muted:true,ref:myVideo,autoPlay:true})}),callAccepted&&!callEnded&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"vid-call1\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"video\",{playsInline:true,muted:true,ref:userVideo,autoPlay:true})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"option-div\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{onClick:handleDisplay,className:\"option-btn\",id:\"display\",children:isDisplayed?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Videocam_default.a,{}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(VideocamOff_default.a,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{onClick:callAccepted?leaveCall:declineCall,className:\"option-btn\",id:\"end\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CallEnd_default.a,{fontSize:\"inherit\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{onClick:handleMute,className:\"option-btn\",children:isMuted?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MicOff_default.a,{}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Mic_default.a,{})})]})]});}\n// CONCATENATED MODULE: ./src/components/ChatRoom.js\nfunction ChatRoom(props){var _useState=Object(react[\"useState\"])(),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),userInfo=_useState2[0],setUserInfo=_useState2[1];var _useState3=Object(react[\"useState\"])(),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),userId=_useState4[0],setUserId=_useState4[1];var _useState5=Object(react[\"useState\"])(),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),roomId=_useState6[0],setRoomId=_useState6[1];var _useState7=Object(react[\"useState\"])(\"\"),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),text=_useState8[0],setText=_useState8[1];var _useState9=Object(react[\"useState\"])(),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),userNickname=_useState10[0],setUserNickname=_useState10[1];var _useState11=Object(react[\"useState\"])([]),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),messages=_useState12[0],setMessages=_useState12[1];var _useState13=Object(react[\"useState\"])([]),_useState14=Object(slicedToArray[\"a\" /* default */])(_useState13,2),partnerInfo=_useState14[0],setPartnerInfo=_useState14[1];var _useState15=Object(react[\"useState\"])(),_useState16=Object(slicedToArray[\"a\" /* default */])(_useState15,2),partnerStatus=_useState16[0],setPartnerStatus=_useState16[1];var _useState17=Object(react[\"useState\"])(false),_useState18=Object(slicedToArray[\"a\" /* default */])(_useState17,2),havePartner=_useState18[0],setHavePartner=_useState18[1];var _useState19=Object(react[\"useState\"])(-1),_useState20=Object(slicedToArray[\"a\" /* default */])(_useState19,2),scrollDir=_useState20[0],setScrollDir=_useState20[1];// const [isCalling,setIsCalling] = useState();\nvar _useContext=Object(react[\"useContext\"])(SocketContext),joinRoom=_useContext.joinRoom,sendMsg=_useContext.sendMsg,newMessage=_useContext.newMessage,call=_useContext.call,callAccepted=_useContext.callAccepted,startCall=_useContext.startCall;Object(react[\"useEffect\"])(function(){var ac=new AbortController();axios_default.a.get('/auth/isLoggedIn').then(function(res){return res.data;}).catch(function(err){return console.log(err);}).then(function(res){if(res.isLoggedIn){axios_default.a.get('/chat/checkExist').then(res.data).catch(function(err){return console.log(err);}).then(function(res){if(res.data){document.getElementById('msgBox').style.backgroundImage='url(\"/chat/getChatBackground\")';document.getElementById('msgBox').style.backgroundSize='cover';}else{document.getElementById('msgBox').style.backgroundImage='url(\"https://wallpapercave.com/wp/wp4779329.png\")';}});var _userId=res.user._id;var partner=res.user.partner;var nickname=res.user.nickname;setPartnerInfo(res.partnerInfo);if(res.user.partner!==null){setHavePartner(true);axios_default()({method:'get',url:'/user/getRoomId',headers:{'Content-Type':'multipart/form-data'}}).then(function(res){return res.data;}).catch(function(err){return console.log(err);}).then(function(res){setMessages(res.chatInfo.chats.reverse().map(function(chat){return chat;}));var roomId=res.roomInfo._id;setRoomId(roomId);if(nickname){joinRoom(roomId,_userId,nickname);}});}setUserId(res.user._id);setUserInfo(Object(objectSpread2[\"a\" /* default */])({},res.user));setUserNickname(res.user.nickname);}});return function cancel(){ac.abort();};},[]);Object(react[\"useEffect\"])(function(){setMessages(function(prevData){return[].concat(Object(toConsumableArray[\"a\" /* default */])(prevData),[newMessage]);});},[newMessage]);Object(react[\"useEffect\"])(function(){if(scrollDir===-1){document.getElementById('msgBox').scrollTo(0,document.getElementById('msgBox').scrollHeight);}},[messages]);function handleSendMsg(event){var msg=document.getElementById(\"chat\").value;event.preventDefault();if(msg.length>0&&roomId){sendMsg(msg,userId,userNickname,roomId);setText(\"\");}else{alert(\"You must type something\");}document.getElementById(\"chat\").value=null;}function toggleBackHome(){window.open('/','_self');}function toggleVideoCall(){return _toggleVideoCall.apply(this,arguments);}function _toggleVideoCall(){_toggleVideoCall=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return startCall();case 2:case\"end\":return _context.stop();}}},_callee);}));return _toggleVideoCall.apply(this,arguments);};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chat-div\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Navbar,{havePartner:havePartner}),call.isReceivingCall&&!callAccepted&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(VideoRespond,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(VideoCall,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"chat-container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chat-body\",id:\"chat-body\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ChatNav,{toggleBackHome:toggleBackHome,partnerInfo:partnerInfo,partnerStatus:partnerStatus,toggleVideoCall:toggleVideoCall}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"chat-messageBox-div\",id:\"msgBox\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"chat-messageBox\",children:messages&&userInfo&&messages.map(function(chat,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ChatBubble,{textInfo:chat,user:userInfo},index);})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InputBox,{handleSendMsg:handleSendMsg})]})})]});}\n// EXTERNAL MODULE: ../node_modules/react-player/lib/index.js\nvar react_player_lib = __webpack_require__(176);\nvar react_player_lib_default = /*#__PURE__*/__webpack_require__.n(react_player_lib);\n\n// EXTERNAL MODULE: ./src/css/videoPlayer.css\nvar videoPlayer = __webpack_require__(337);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/icons/PlayArrow.js\nvar PlayArrow = __webpack_require__(182);\nvar PlayArrow_default = /*#__PURE__*/__webpack_require__.n(PlayArrow);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/icons/Pause.js\nvar Pause = __webpack_require__(181);\nvar Pause_default = /*#__PURE__*/__webpack_require__.n(Pause);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/icons/ArrowLeft.js\nvar ArrowLeft = __webpack_require__(102);\nvar ArrowLeft_default = /*#__PURE__*/__webpack_require__.n(ArrowLeft);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/icons/ArrowDropDown.js\nvar ArrowDropDown = __webpack_require__(178);\nvar ArrowDropDown_default = /*#__PURE__*/__webpack_require__.n(ArrowDropDown);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/icons/ArrowDropUp.js\nvar ArrowDropUp = __webpack_require__(177);\nvar ArrowDropUp_default = /*#__PURE__*/__webpack_require__.n(ArrowDropUp);\n\n// CONCATENATED MODULE: ./src/components/VideoList.js\nfunction VideoList(props){var handleChooseMovie=props.handleChooseMovie,socket=props.socket;var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),files=_useState2[0],setFiles=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),dropdown=_useState4[0],setDropdown=_useState4[1];Object(react[\"useEffect\"])(function(){axios_default.a.get('/videoFs/getAllVideos').then(function(res){return res.data;}).catch(function(err){return console.log(err);}).then(function(res){var temp=[];for(var i=0;i<res.length;i++){temp.push(res[i]);}setFiles(temp);});},[]);function handleDropDown(){var state=!dropdown;if(state){document.getElementById('video-file').style.top=0;}else{document.getElementById('video-file').style.top=\"-68px\";}setDropdown(!dropdown);}function handleDeleteVideo(_x){return _handleDeleteVideo.apply(this,arguments);}function _handleDeleteVideo(){_handleDeleteVideo=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(videoId){var formdata;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:formdata=new FormData();formdata.append('videoId',videoId);_context.next=4;return axios_default()({method:'post',url:'/videoFs/deleteVideo',data:formdata,headers:{'Content-Type':'multipart/form-data'}}).then(function(res){return res.data;}).catch(function(err){return console.log(err);}).then(function(res){console.log(res);if(res){setFiles(function(prev){return prev.filter(function(file){return file._id!==videoId;});});if(socket)socket.emit('deletedVideo');}});case 4:case\"end\":return _context.stop();}}},_callee);}));return _handleDeleteVideo.apply(this,arguments);}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"video-file\",id:\"video-file\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"video-scroll\",children:files.map(function(file){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"video-list-div\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{variant:\"outlined\",onClick:function onClick(){return handleChooseMovie(file.filename);},id:\"list\",children:file.aliases},file._id),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{id:\"video-delete\",onClick:function onClick(){return handleDeleteVideo(file._id);},children:\"x\"})]});})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{size:\"small\",id:\"drop-down\",onClick:handleDropDown,children:dropdown?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ArrowDropUp_default.a,{}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ArrowDropDown_default.a,{})})]});}\n// EXTERNAL MODULE: ../node_modules/@material-ui/icons/CloudUpload.js\nvar CloudUpload = __webpack_require__(179);\nvar CloudUpload_default = /*#__PURE__*/__webpack_require__.n(CloudUpload);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/icons/ArrowRight.js\nvar ArrowRight = __webpack_require__(103);\nvar ArrowRight_default = /*#__PURE__*/__webpack_require__.n(ArrowRight);\n\n// CONCATENATED MODULE: ./src/components/VideoUploadDiv.js\nfunction VideoUploadDiv(props){var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),openUpload=_useState2[0],setOpenUpload=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),uploadProgress=_useState4[0],setUploadProgress=_useState4[1];var formRef=Object(react[\"useRef\"])();function handleUploadDiv(){var state=!openUpload;if(state){document.getElementById('upload-file').style.marginLeft=0;}else{document.getElementById('upload-file').style.marginLeft=\"-380px\";}setOpenUpload(!openUpload);}function displayFileName(event){document.getElementById('file-name').textContent=event.target.files[0].name;}function handleUploadVideo(_x){return _handleUploadVideo.apply(this,arguments);}function _handleUploadVideo(){_handleUploadVideo=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(event){var formdata;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();if(!(document.getElementById('video').value===\"\")){_context.next=3;break;}return _context.abrupt(\"return\");case 3:setUploadProgress(true);formdata=new FormData(formRef.current);_context.next=7;return axios_default()({method:'post',url:'/videoFs/upload',data:formdata,headers:{'Content-Type':'multipart/form-data'},onUploadProgress:function onUploadProgress(progressEvent){var progress=progressEvent.loaded/progressEvent.total*100;document.getElementById(\"uploadFileProgress\").style.width=progress+\"%\";if(progress===100){window.location.reload();}}});case 7:case\"end\":return _context.stop();}}},_callee);}));return _handleUploadVideo.apply(this,arguments);}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"upload-file\",id:\"upload-file\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:handleUploadVideo,ref:formRef,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{size:\"medium\",onClick:function onClick(){return document.getElementById('video').click();},style:{color:\"white\"},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CloudUpload_default.a,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"file\",name:\"video\",id:\"video\",hidden:true,onChange:displayFileName}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{variant:\"contained\",color:\"default\",type:\"submit\",children:\"Upload\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{id:\"file-name\",style:{color:\"rgb(56, 245, 71)\"}}),uploadProgress&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"uploadProgress\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"progressBar\",id:\"uploadFileProgress\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{size:\"small\",id:\"openUploadDiv\",onClick:handleUploadDiv,children:openUpload?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ArrowLeft_default.a,{}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ArrowRight_default.a,{})})]});}\n// EXTERNAL MODULE: ../node_modules/@material-ui/icons/VolumeMute.js\nvar VolumeMute = __webpack_require__(185);\nvar VolumeMute_default = /*#__PURE__*/__webpack_require__.n(VolumeMute);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/icons/VolumeOff.js\nvar VolumeOff = __webpack_require__(183);\nvar VolumeOff_default = /*#__PURE__*/__webpack_require__.n(VolumeOff);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/icons/VolumeUp.js\nvar VolumeUp = __webpack_require__(184);\nvar VolumeUp_default = /*#__PURE__*/__webpack_require__.n(VolumeUp);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/icons/Fullscreen.js\nvar Fullscreen = __webpack_require__(187);\nvar Fullscreen_default = /*#__PURE__*/__webpack_require__.n(Fullscreen);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/icons/FullscreenExit.js\nvar FullscreenExit = __webpack_require__(186);\nvar FullscreenExit_default = /*#__PURE__*/__webpack_require__.n(FullscreenExit);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/icons/Home.js\nvar icons_Home = __webpack_require__(180);\nvar Home_default = /*#__PURE__*/__webpack_require__.n(icons_Home);\n\n// EXTERNAL MODULE: ../node_modules/react-full-screen/dist/index.modern.js + 1 modules\nvar index_modern = __webpack_require__(120);\n\n// CONCATENATED MODULE: ./src/components/Cinema.js\nvar Cinema_socket;function Cinema(){var ENDPOINT='localhost:5000';var handle=Object(index_modern[\"b\" /* useFullScreenHandle */])();var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),ready=_useState2[0],setReady=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),play=_useState4[0],setPlay=_useState4[1];var _useState5=Object(react[\"useState\"])(false),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),openUrl=_useState6[0],setOpenUrl=_useState6[1];var _useState7=Object(react[\"useState\"])(),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),url=_useState8[0],setUrl=_useState8[1];var _useState9=Object(react[\"useState\"])(true),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),buffering=_useState10[0],setBuffering=_useState10[1];var _useState11=Object(react[\"useState\"])(0.5),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),volume=_useState12[0],setVolume=_useState12[1];var _useState13=Object(react[\"useState\"])(false),_useState14=Object(slicedToArray[\"a\" /* default */])(_useState13,2),isMuted=_useState14[0],setIsMuted=_useState14[1];var _useState15=Object(react[\"useState\"])(false),_useState16=Object(slicedToArray[\"a\" /* default */])(_useState15,2),isLoud=_useState16[0],setIsLoud=_useState16[1];var _useState17=Object(react[\"useState\"])(false),_useState18=Object(slicedToArray[\"a\" /* default */])(_useState17,2),isFullScreen=_useState18[0],setIsFullScreen=_useState18[1];var videoRef=Object(react[\"useRef\"])();var urlRef=Object(react[\"useRef\"])(\"\");var readyToPlay=Object(react[\"useRef\"])(false);var initialRun=Object(react[\"useRef\"])(true);Object(react[\"useEffect\"])(/*#__PURE__*/Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var ac;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:ac=new AbortController();Cinema_socket=build_default()(ENDPOINT);if(!initialRun.current){_context.next=6;break;}_context.next=5;return axios_default.a.get('/user/getRoomId').then(function(res){return res.data;}).catch(function(err){return console.log(err);}).then(function(res){Cinema_socket.emit('join',{roomId:res.roomInfo._id});});case 5:initialRun.current=false;case 6:Cinema_socket.on('changeState',function(state){setPlay(state);});Cinema_socket.on('refreshPage',function(e){window.location.reload();});Cinema_socket.on('update',function(time){if(urlRef.current===\"\"){urlRef.current=time.url;setReady(true);readyToPlay.current=true;setBuffering(false);return;}if(readyToPlay.current){if(time.time>videoRef.current.getCurrentTime()){if(videoRef.current.getCurrentTime()<time.time-1){videoRef.current.seekTo(String(time.time),'seconds');}}}});Cinema_socket.on('updateProgress',function(pointed){videoRef.current.seekTo(pointed,'seconds');});Cinema_socket.on('onlineUrl',function(data){if(data===\"\"){document.getElementById('url').value=\"\";return;}setReady(true);urlRef.current=data;setUrl(data);document.getElementById('url').value=\"\";});return _context.abrupt(\"return\",function cancel(){ac.abort();});case 12:case\"end\":return _context.stop();}}},_callee);})),[]);function displayProgress(){Cinema_socket.emit('keepUpdate',{time:videoRef.current.getCurrentTime(),url:url});var point=document.getElementById('progress-point');var value=videoRef.current.getCurrentTime()/(videoRef.current.getDuration()/100);point.style.left=value+\"%\";}function handleProgressChange(event){var progressBarWidth=document.getElementById(\"progress-bar\");var choose=event.nativeEvent.offsetX;var pointed=choose/progressBarWidth.offsetWidth*videoRef.current.getDuration();Cinema_socket.emit('changeProgress',pointed);setPlay(true);}function handleVideoState(){Cinema_socket.emit('changeVideoState',play);}function submitUrl(event){event.preventDefault();var choosenUrl=document.getElementById('url').value;Cinema_socket.emit('onlineUrl',choosenUrl);}function handleChooseMovie(_x){return _handleChooseMovie.apply(this,arguments);}function _handleChooseMovie(){_handleChooseMovie=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(filename){var choosenUrl;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setReady(true);choosenUrl=\"/videoFs/choose/\"+filename;Cinema_socket.emit('onlineUrl',choosenUrl);case 3:case\"end\":return _context2.stop();}}},_callee2);}));return _handleChooseMovie.apply(this,arguments);}function handleUrlDiv(){var state=!openUrl;if(state){document.getElementById('submitUrl').style.marginLeft=0;}else{document.getElementById('submitUrl').style.marginLeft=\"-380px\";};setOpenUrl(!openUrl);}function handlePlayerVolume(){var value=document.getElementById(\"volume\").value;var actualVolume=parseFloat(value/100);if(actualVolume===0){setIsMuted(true);}else{setIsMuted(false);}if(value>50){setIsLoud(true);}else{setIsLoud(false);}setVolume(actualVolume);}function handleMute(){var state=!isMuted;if(state){setVolume(0);document.getElementById('volume').value=0;}else{setVolume(0.5);document.getElementById('volume').value=50;}setIsMuted(!isMuted);}function handleBigScreen(){var state=!isFullScreen;var controls=document.getElementById('controls');if(state){handle.enter();controls.style.bottom=\"-150px\";document.getElementById('progress-point').style.background=\"white\";document.getElementById('control-btn').style.color=\"white\";document.getElementById('control-vlm').style.color=\"white\";document.getElementById('fullscreen-btn').style.color=\"white\";}else{handle.exit();controls.style.bottom=\"-50px\";document.getElementById('progress-point').style.background=\"black\";document.getElementById('control-btn').style.color=\"black\";document.getElementById('control-vlm').style.color=\"black\";document.getElementById('fullscreen-btn').style.color=\"black\";}setIsFullScreen(!isFullScreen);}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"cinema-div\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(VideoList,{handleChooseMovie:handleChooseMovie,socket:Cinema_socket}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(VideoUploadDiv,{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"submit-url\",id:\"submitUrl\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:submitUrl,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",id:\"url\",placeholder:\"enter url\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{type:\"submit\",variant:\"outlined\",id:\"submit-url-btn\",children:\" submit\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{size:\"small\",id:\"handleUrlDiv\",onClick:handleUrlDiv,children:openUrl?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ArrowLeft_default.a,{}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ArrowRight_default.a,{})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{variant:\"outlined\",color:\"black\",href:\"/\",id:\"homeBtn\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Home_default.a,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_modern[\"a\" /* FullScreen */],{handle:handle,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"video-player\",id:\"video-player\",children:[buffering&&ready&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"no-video\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Loading....\"})}),ready?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_player_lib_default.a,{ref:videoRef,playing:play,height:\"100%\",width:\"100%\",url:urlRef.current,volume:volume,onProgress:displayProgress,onReady:function onReady(){return setBuffering(false);},onError:function onError(){return setReady(false);}}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"no-video\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"No Video\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{display:\"flex\"},className:\"progress-bar-div\",id:\"controls\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{onClick:handleVideoState,id:\"control-btn\",style:{color:\"black\"},children:play?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Pause_default.a,{}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(PlayArrow_default.a,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{onClick:handleMute,id:\"control-vlm\",style:{color:\"black\"},children:isMuted?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(VolumeOff_default.a,{}):isLoud?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(VolumeUp_default.a,{}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(VolumeMute_default.a,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"range\",min:\"0\",max:\"100\",id:\"volume\",onChange:handlePlayerVolume}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{id:\"progress-bar\",className:\"progress-bar status\",onClick:ready?handleProgressChange:\"\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{id:\"progress-point\",className:\"progress-point\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{onClick:handleBigScreen,id:\"fullscreen-btn\",style:{color:\"black\"},children:isFullScreen?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FullscreenExit_default.a,{}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Fullscreen_default.a,{})})]})]})})]});}\n// EXTERNAL MODULE: ./src/css/memoryBook.css\nvar memoryBook = __webpack_require__(338);\n\n// EXTERNAL MODULE: ./src/css/createPost.css\nvar createPost = __webpack_require__(339);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/icons/Close.js\nvar Close = __webpack_require__(189);\nvar Close_default = /*#__PURE__*/__webpack_require__.n(Close);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/core/esm/NativeSelect/NativeSelect.js\nvar NativeSelect = __webpack_require__(168);\n\n// EXTERNAL MODULE: ../node_modules/react-photo-gallery/dist/react-photo-gallery.esm.js\nvar react_photo_gallery_esm = __webpack_require__(188);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/icons/Delete.js\nvar Delete = __webpack_require__(191);\nvar Delete_default = /*#__PURE__*/__webpack_require__.n(Delete);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/icons/AddPhotoAlternate.js\nvar AddPhotoAlternate = __webpack_require__(190);\nvar AddPhotoAlternate_default = /*#__PURE__*/__webpack_require__.n(AddPhotoAlternate);\n\n// CONCATENATED MODULE: ./src/components/SelectedImage.js\nvar SelectedImage_Checkmark=function Checkmark(_ref){var selected=_ref.selected;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:selected?{left:\"4px\",top:\"4px\",position:\"absolute\",zIndex:\"1\"}:{display:\"none\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"svg\",{style:{fill:\"white\",position:\"absolute\"},width:\"24px\",height:\"24px\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"circle\",{cx:\"12.5\",cy:\"12.2\",r:\"8.292\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"svg\",{style:{fill:\"#06befa\",position:\"absolute\"},width:\"24px\",height:\"24px\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"path\",{d:\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"})})]});};var imgStyle={transition:\"transform .135s cubic-bezier(0.0,0.0,0.2,1),opacity linear .15s\"};var selectedImgStyle={transform:\"translateZ(0px) scale3d(0.9, 0.9, 1)\",transition:\"transform .135s cubic-bezier(0.0,0.0,0.2,1),opacity linear .15s\"};var cont={backgroundColor:\"#eee\",cursor:\"pointer\",overflow:\"hidden\",position:\"relative\"};var SelectedImage_SelectedImage=function SelectedImage(_ref2){var index=_ref2.index,photo=_ref2.photo,margin=_ref2.margin,direction=_ref2.direction,top=_ref2.top,left=_ref2.left,selected=_ref2.selected,handleChooseNotToDeleteFile=_ref2.handleChooseNotToDeleteFile,handleChooseToDeleteFile=_ref2.handleChooseToDeleteFile;var _useState=Object(react[\"useState\"])(selected),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isSelected=_useState2[0],setIsSelected=_useState2[1];var actualHeight=200-photo.height-photo.height;//calculate x,y scale\nvar sx=(100-30/photo.width*100)/100;var sy=(100-30/photo.height*100)/100;selectedImgStyle.transform=\"translateZ(0px) scale3d(\".concat(sx,\", \").concat(sy,\", 1)\");if(direction===\"column\"){cont.position=\"absolute\";cont.left=left;cont.top=top;}var handleOnClick=function handleOnClick(e){setIsSelected(!isSelected);if(!isSelected){handleChooseToDeleteFile(index);}else{handleChooseNotToDeleteFile(index);}};Object(react[\"useEffect\"])(function(){setIsSelected(selected);},[selected]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:Object(objectSpread2[\"a\" /* default */])({margin:margin,height:actualHeight,width:photo.width},cont),className:!isSelected?\"not-selected\":\"\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SelectedImage_Checkmark,{selected:isSelected?true:false}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({alt:photo.title,style:isSelected?Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},imgStyle),selectedImgStyle):Object(objectSpread2[\"a\" /* default */])({},imgStyle)},photo),{},{onClick:handleOnClick})),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"style\",{children:\".not-selected:hover{outline:2px solid #06befa}\"})]});};/* harmony default export */ var components_SelectedImage = (SelectedImage_SelectedImage);\n// CONCATENATED MODULE: ./src/components/MemoryBook/CreatePost.js\nfunction CreatePost(props){var setPost=props.setPost,handlePost=props.handlePost,userInfo=props.userInfo,setIsPosting=props.setIsPosting,setIsEditing=props.setIsEditing,isEditing=props.isEditing,postData=props.postData,setPostData=props.setPostData;var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),text=_useState2[0],setText=_useState2[1];var _useState3=Object(react[\"useState\"])([]),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),uploadedFiles=_useState4[0],setUploadedFiles=_useState4[1];var _useState5=Object(react[\"useState\"])(),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),feeling=_useState6[0],setFeeling=_useState6[1];var _useState7=Object(react[\"useState\"])([]),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),willBeDeletedFiles=_useState8[0],setWillBeDeletedFiles=_useState8[1];var _useState9=Object(react[\"useState\"])([]),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),deletedExistingFiles=_useState10[0],setDeletedExistingFiles=_useState10[1];var _useState11=Object(react[\"useState\"])(false),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,1),selectAll=_useState12[0];var formRef=Object(react[\"useRef\"])();var imageRenderer=Object(react[\"useCallback\"])(function(_ref){var index=_ref.index,left=_ref.left,top=_ref.top,key=_ref.key,photo=_ref.photo;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_SelectedImage,{selected:selectAll?true:false,margin:\"2px\",index:index,photo:photo,left:left,top:top,handleChooseNotToDeleteFile:handleChooseNotToDeleteFile,handleChooseToDeleteFile:handleChooseToDeleteFile},key);},[selectAll,handleChooseNotToDeleteFile,handleChooseToDeleteFile]);Object(react[\"useEffect\"])(function(){if(isEditing){setText(postData.post.text);setFeeling(postData.post.feeling);if(postData.post.fileId){setUploadedFiles(postData.post.fileId.map(function(id,index){// console.log(postData.url[index]);\nreturn{src:postData.url[index],width:1,height:1,fileId:id};}));}}},[]);function handleChooseToDeleteFile(index){setWillBeDeletedFiles(function(prevData){return[].concat(Object(toConsumableArray[\"a\" /* default */])(prevData),[index]);});}function handleChooseNotToDeleteFile(index){setWillBeDeletedFiles(function(prevData){return prevData.filter(function(val){return val!==index;});});}function handleUploadFiles(event){var file=event.target.files[0];if(file){var re=/\\.(gif|jpe?g|tiff?|png|webp|bmp)$/i;if(re.test(file.name)){setUploadedFiles(function(prevData){return[].concat(Object(toConsumableArray[\"a\" /* default */])(prevData),[{src:URL.createObjectURL(file),file:file,width:1,height:1}]);});}else{alert('only upload image files.');}}}function handleDeleteChosenFiles(){return _handleDeleteChosenFiles.apply(this,arguments);}function _handleDeleteChosenFiles(){_handleDeleteChosenFiles=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var tempDeletedFiles,tempUploadedFiles,i;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:tempDeletedFiles=Object(toConsumableArray[\"a\" /* default */])(willBeDeletedFiles).sort();tempUploadedFiles=Object(toConsumableArray[\"a\" /* default */])(uploadedFiles);i=tempDeletedFiles.length-1;case 3:if(!(i>=0)){_context.next=11;break;}if(!tempUploadedFiles[tempDeletedFiles[i]].fileId){_context.next=7;break;}_context.next=7;return setDeletedExistingFiles(function(prevData){return[].concat(Object(toConsumableArray[\"a\" /* default */])(prevData),[tempUploadedFiles[tempDeletedFiles[i]].fileId]);});case 7:tempUploadedFiles.splice(tempDeletedFiles[i],1);case 8:i--;_context.next=3;break;case 11:setUploadedFiles(tempUploadedFiles);setWillBeDeletedFiles([]);case 13:case\"end\":return _context.stop();}}},_callee);}));return _handleDeleteChosenFiles.apply(this,arguments);}function togglePost(){return _togglePost.apply(this,arguments);}function _togglePost(){_togglePost=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(){var formdata,i,j,_formdata,_i2;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!(text==='')){_context2.next=3;break;}alert(\"Please enter some text\");return _context2.abrupt(\"return\");case 3:formdata=new FormData(formRef.current);if(!isEditing){_context2.next=14;break;}formdata.set('postId',postData.post._id);formdata.set('text',text);formdata.set('feeling',feeling);for(i=0;i<deletedExistingFiles.length;i++){formdata.append('deletedFile[]',deletedExistingFiles[i]);}for(j=0;j<uploadedFiles.length;j++){if(uploadedFiles[j].file){formdata.append('fileInput[]',uploadedFiles[j].file);}else{formdata.append('fileInput[]',uploadedFiles[j].fileId);}}_context2.next=12;return axios_default()({method:'post',url:'/post/editPost',data:formdata,headers:{'Content-Type':'multipart/form-data'}}).then(function(res){return res.data;}).catch(function(err){return console.log(err);}).then(function(res){if(res.result){setPost(function(prevData){var temp=[];for(var _i=0;_i<prevData.length;_i++){if(prevData[_i]._id===res.result.docs._id){temp.push(res.result.docs);}else{temp.push(prevData[_i]);}}return temp;});handlePost();}else{alert(\"Failed to edit post\");}}).catch(function(err){return console.log(err);});case 12:_context2.next=19;break;case 14:_formdata=new FormData(formRef.current);for(_i2=0;_i2<uploadedFiles.length;_i2++){_formdata.append('fileInput[]',uploadedFiles[_i2].file);}_context2.next=18;return axios_default()({method:'post',url:'/post/createPost',data:_formdata}).then(function(res){return res.data;}).catch(function(err){return console.log(err);}).then(function(res){if(res){alert(\"Memory Created!\");setPost(function(prevData){return[res].concat(Object(toConsumableArray[\"a\" /* default */])(prevData));});}else{alert(\"Opps something went wrong\");}}).catch(function(err){return console.log(err);});case 18:handlePost();case 19:case\"end\":return _context2.stop();}}},_callee2);}));return _togglePost.apply(this,arguments);}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"create-div\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"create-title\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h3\",{children:[isEditing?\"Edit\":\"Create\",\" Memory\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{onClick:handlePost,id:\"create-close-btn\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Close_default.a,{})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{ref:formRef,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"create-feeling-div\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"create-profile-pic\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Avatar[\"a\" /* default */],{src:\"/gridFs/getProfile\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"create-greeting\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[\"Hi, \",userInfo.nickname,\" how are you feeling today?\"]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"create-select\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NativeSelect[\"a\" /* default */],{value:feeling,onChange:function onChange(event){return setFeeling(event.target.value);},id:\"create-feeling\",name:\"feeling\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{\"aria-label\":\"None\",value:\"\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"happy\",children:\"Happy \\uD83D\\uDE00 \"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"sad\",children:\"Sad \\u2639\\uFE0F\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"surprise\",children:\"Surprised \\uD83D\\uDE2E\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"meh\",children:\"Meh \\uD83D\\uDE15\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"annoyed\",children:\"Annoyed \\uD83D\\uDE44\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"sleepy\",children:\"Sleepy \\uD83D\\uDE34\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"love\",children:\"Love \\uD83E\\uDD70\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"touched\",children:\"Touched \\uD83D\\uDE2D\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"shy\",children:\"Shy \\uD83D\\uDE0C\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"amazed\",children:\"Amazed \\uD83E\\uDD29\"})]})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"create-textarea\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"textarea\",{placeholder:\"What's on your mind?\",rows:\"10\",value:text,onChange:function onChange(e){return setText(e.target.value);},name:\"text\",id:\"text\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"create-gallery-div\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_photo_gallery_esm[\"a\" /* default */],{photos:uploadedFiles,renderImage:imageRenderer,id:\"create-gallery\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"create-btn-div\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{id:\"create-btn\",onClick:function onClick(){return document.getElementById('create-photo').click();},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AddPhotoAlternate_default.a,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"file\",hidden:true,id:\"create-photo\",onChange:handleUploadFiles}),uploadedFiles.length>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{id:\"create-btn\",onClick:handleDeleteChosenFiles,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Delete_default.a,{})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"create-post-div\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{variant:\"contained\",id:\"create-post-btn\",onClick:togglePost,children:\"Post\"})})]})]});}\n// EXTERNAL MODULE: ./src/css/memoryPost.css\nvar memoryPost = __webpack_require__(340);\n\n// EXTERNAL MODULE: ../node_modules/react-image-gallery/build/image-gallery.js\nvar image_gallery = __webpack_require__(192);\nvar image_gallery_default = /*#__PURE__*/__webpack_require__.n(image_gallery);\n\n// CONCATENATED MODULE: ./src/components/MemoryBook/MemoryPost.js\nfunction MemoryPost(props){var post=props.post,userId=props.userId,setIsEditing=props.setIsEditing,setPostData=props.setPostData,setIsPosting=props.setIsPosting,setPost=props.setPost;var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),openMore=_useState2[0],setOpenMore=_useState2[1];var _useState3=Object(react[\"useState\"])([]),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),url=_useState4[0],setUrl=_useState4[1];var emojiMap={\"happy\":\"\",\"sad\":\"\",\"surprise\":\"\",\"meh\":\"\",\"annoyed\":\"\",\"sleepy\":\"\",\"love\":\"\",\"touched\":\"\",\"shy\":\"\",\"amazed\":\"\"};var monthMap={\"01\":\"January\",\"02\":\"February\",\"03\":\"March\",\"04\":\"April\",\"05\":\"May\",\"06\":\"June\",\"07\":\"July\",\"08\":\"August\",\"09\":\"September\",\"10\":\"October\",\"11\":\"November\",\"12\":\"December\"};Object(react[\"useEffect\"])(/*#__PURE__*/Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var temp;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!post.fileId){_context.next=5;break;}temp=[];_context.next=4;return post.fileId.map(function(id){var url=\"/post/getPostImage/\"+id;temp.push(url);});case 4:setUrl(temp);case 5:case\"end\":return _context.stop();}}},_callee);})),[post]);function constructGalleryUrls(fileId){return fileId.map(function(id){var url=\"/post/getPostImage/\"+id;return{original:url};});}function handleEdit(){setPostData({post:post,url:url});setIsEditing(true);setIsPosting(true);setOpenMore(false);}function deletePost(){return _deletePost.apply(this,arguments);}function _deletePost(){_deletePost=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(){var formdata,i;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:formdata=new FormData();formdata.append('postId',post._id);if(post.fileId){for(i=0;i<post.fileId.length;i++){formdata.append('fileId[]',post.fileId[i]);}}_context2.next=5;return axios_default()({method:'post',url:'/post/deletePost',data:formdata,headers:{'Content-Type':'multipart/form-data'}}).then(function(res){return res.data;}).catch(function(err){return console.log(err);}).then(function(res){if(res.status){setPost(function(prevData){return prevData.filter(function(posts){return posts._id!==post._id;});});alert(\"Memory deleted\");}else{alert(\"Opps something went wrong with the server!\");}});case 5:case\"end\":return _context2.stop();}}},_callee2);}));return _deletePost.apply(this,arguments);}function formatDate(date){var today=new Date(parseInt(Date.parse(date),10));var dd=String(today.getDate()).padStart(2,'0');var mm=String(today.getMonth()+1).padStart(2,'0');//January is 0!\nvar yyyy=today.getFullYear();return dd+\" \"+monthMap[mm]+\" \"+yyyy;}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"post-div\",children:[openMore&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"post-more-div\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"post-more-option edit\",onClick:handleEdit,children:\"Edit Memory\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"post-more-option delete\",onClick:deletePost,children:\"Delete Memory\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{id:\"post-more\",onClick:function onClick(){return setOpenMore(!openMore);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MoreHoriz_default.a,{fontSize:\"medium\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"post-header\",children:[userId===post.userId?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Avatar[\"a\" /* default */],{src:\"/gridFs/getProfile\",id:\"post-avatar\"}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Avatar[\"a\" /* default */],{src:\"/gridFs/getPartnerProfile\",id:\"post-avatar\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"post-desc\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"post-feeling\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:post.nickname}),post.feeling&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h3\",{children:[\" \\xA0\\u2022 \\xA0is feeling \",post.feeling,\"\\xA0\",emojiMap[post.feeling]]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"post-time\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:formatDate(post.timeOfCreation)})})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"post-text\",children:post.text}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"post-images\",children:post.fileId&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(image_gallery_default.a,{items:constructGalleryUrls(post.fileId),showFullscreenButton:false,showPlayButton:false,showThumbnails:false,className:\"post-gallery\"})})]});}\n// CONCATENATED MODULE: ./src/components/MemoryBook/MemoryBook.js\nfunction MemoryBook(){var _useState=Object(react[\"useState\"])(),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),userInfo=_useState2[0],setUserInfo=_useState2[1];var _useState3=Object(react[\"useState\"])(),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),partnerInfo=_useState4[0],setPartnerInfo=_useState4[1];var _useState5=Object(react[\"useState\"])(),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),postData=_useState6[0],setPostData=_useState6[1];var _useState7=Object(react[\"useState\"])(false),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),isEditing=_useState8[0],setIsEditing=_useState8[1];var _useState9=Object(react[\"useState\"])(false),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),isPosting=_useState10[0],setIsPosting=_useState10[1];var _useState11=Object(react[\"useState\"])([]),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),posts=_useState12[0],setPosts=_useState12[1];var _useState13=Object(react[\"useState\"])(false),_useState14=Object(slicedToArray[\"a\" /* default */])(_useState13,2),havePartner=_useState14[0],setHavePartner=_useState14[1];var formRef=Object(react[\"useRef\"])();Object(react[\"useEffect\"])(function(){axios_default.a.get('/auth/isLoggedIn').then(function(res){return res.data;}).catch(function(err){return console.log(err);}).then(function(res){if(res.isLoggedIn){if(res.user.partner!==null){setHavePartner(true);}setUserInfo(res.user);setPartnerInfo(res.partnerInfo);axios_default()({method:'post',url:'/post/getPosts'}).then(function(res){return res.data;}).catch(function(err){return console.log(err);}).then(function(res){if(res.success){setPosts(res.posts);}});}});},[]);function handlePost(){setIsPosting(false);setIsEditing(false);setPostData();}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"memoryBook\",children:[isPosting&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CreatePost,{setPostData:setPostData,setPost:setPosts,postData:postData,handlePost:handlePost,userInfo:userInfo,setIsPosting:setIsPosting,isEditing:isEditing,setIsEditing:setIsEditing}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"memoryBook-div\",id:\"memoryBook\",style:{opacity:isPosting||isEditing?\"0.3\":\"1\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Navbar,{havePartner:havePartner}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"postDiv\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"post-option\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"Post Some Memorable Moment Here\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{variant:\"contained\",id:\"memory-create-post\",onClick:function onClick(){return setIsPosting(true);},children:\"Create Memory \\uD83E\\uDD0D\"})]})}),posts.map(function(post){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MemoryPost,{setPost:setPosts,setPostData:setPostData,setIsPosting:setIsPosting,isEditing:isEditing,setIsEditing:setIsEditing,post:post,userId:userInfo._id},post._id);})]})]});}\n// CONCATENATED MODULE: ./src/App.js\n// import './App.css';\nfunction App(props){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"main\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"c\" /* Switch */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/\",exact:true,component:Home}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/login\",exact:true,component:Login}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/userProfileForm\",exact:true,component:UserProfileForm}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/cinema\",exact:true,component:Cinema}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/memoryBook\",exact:true,component:MemoryBook}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SocketContext_ContextProvider,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/chatRoom\",exact:true,component:ChatRoom})})]})});}\n// CONCATENATED MODULE: ./src/reportWebVitals.js\nvar reportWebVitals=function reportWebVitals(onPerfEntry){if(onPerfEntry&&onPerfEntry instanceof Function){__webpack_require__.e(/* import() */ 3).then(__webpack_require__.bind(null, 401)).then(function(_ref){var getCLS=_ref.getCLS,getFID=_ref.getFID,getFCP=_ref.getFCP,getLCP=_ref.getLCP,getTTFB=_ref.getTTFB;getCLS(onPerfEntry);getFID(onPerfEntry);getFCP(onPerfEntry);getLCP(onPerfEntry);getTTFB(onPerfEntry);});}};/* harmony default export */ var src_reportWebVitals = (reportWebVitals);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/ // <ContextProvider>\nObject(jsx_runtime[\"jsx\"])(react_router_dom[\"a\" /* BrowserRouter */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(App,{})})// </ContextProvider>  \n,document.getElementById('root'));// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nsrc_reportWebVitals();\n\n/***/ })\n\n},[[354,1,2]]]);","inputSourceMap":{"version":3,"sources":["C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\PC\\temp\\couplove\\client\\src\\css\\login.css","C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\PC\\temp\\couplove\\client\\src\\css\\navbar.css","C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\PC\\temp\\couplove\\client\\src\\css\\requestList.css","C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\PC\\temp\\couplove\\client\\src\\css\\home.css","C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\PC\\temp\\couplove\\client\\src\\css\\profileInfo.css","C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\PC\\temp\\couplove\\client\\src\\css\\inputBox.css","C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\PC\\temp\\couplove\\client\\src\\css\\chatroom.css","C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\PC\\temp\\couplove\\client\\src\\css\\chatNav.css","C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\PC\\temp\\couplove\\client\\src\\css\\chatBubble.css","ignored C:\\Users\\PC\\temp\\couplove\\node_modules\\simple-peer\\node_modules\\readable-stream\\lib util","ignored C:\\Users\\PC\\temp\\couplove\\node_modules\\simple-peer\\node_modules\\readable-stream\\lib\\internal\\streams util","C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\PC\\temp\\couplove\\client\\src\\css\\videoCall.css","C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\PC\\temp\\couplove\\client\\src\\css\\videoPlayer.css","C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\PC\\temp\\couplove\\client\\src\\css\\memoryBook.css","C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\PC\\temp\\couplove\\client\\src\\css\\createPost.css","C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\PC\\temp\\couplove\\client\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\PC\\temp\\couplove\\client\\src\\css\\memoryPost.css","C:/Users/PC/temp/couplove/client/src/components/Login.js","C:/Users/PC/temp/couplove/client/src/components/RequestInfo.js","C:/Users/PC/temp/couplove/client/src/components/PartnerReq.js","C:/Users/PC/temp/couplove/client/src/components/Navbar.js","C:/Users/PC/temp/couplove/client/src/components/Home.js","C:/Users/PC/temp/couplove/client/src/components/UserProfileForm.js","C:/Users/PC/temp/couplove/client/src/components/InputBox.js","C:/Users/PC/temp/couplove/client/src/components/ChatNav.js","C:/Users/PC/temp/couplove/client/src/components/ChatBubble.js","C:/Users/PC/temp/couplove/client/src/SocketContext.js","C:/Users/PC/temp/couplove/client/src/components/VideoRespond.js","C:/Users/PC/temp/couplove/client/src/components/VideoCall.js","C:/Users/PC/temp/couplove/client/src/components/ChatRoom.js","C:/Users/PC/temp/couplove/client/src/components/VideoList.js","C:/Users/PC/temp/couplove/client/src/components/VideoUploadDiv.js","C:/Users/PC/temp/couplove/client/src/components/Cinema.js","C:/Users/PC/temp/couplove/client/src/components/SelectedImage.js","C:/Users/PC/temp/couplove/client/src/components/MemoryBook/CreatePost.js","C:/Users/PC/temp/couplove/client/src/components/MemoryBook/MemoryPost.js","C:/Users/PC/temp/couplove/client/src/components/MemoryBook/MemoryBook.js","C:/Users/PC/temp/couplove/client/src/App.js","C:/Users/PC/temp/couplove/client/src/reportWebVitals.js","C:/Users/PC/temp/couplove/client/src/index.js"],"names":["Login","handleGoogleClick","window","location","href","RequestInfo","props","reqInfo","setHavePartner","setRequestList","url","senderId","acceptPartner","event","preventDefault","formdata","FormData","append","axios","method","data","headers","then","res","catch","err","console","log","result","prev","filter","info","declinePartner","header","alert","senderNickname","PartnerReq","requestList","map","Navbar","handleSendReq","formRef","havePartner","isHome","useState","viewList","setViewList","handleChangeBackground","target","files","reload","open","color","document","getElementById","click","Home","userInfo","setUserInfo","partnerInfo","setPartnerInfo","dayWidget","setDayWidget","specialWidget","setSpecialWidget","bdayWidget","setBdayWidget","dateOfRelation","setDateOfRelation","isSetting","setIsSetting","totalDay","setTotalDay","userBday","setUserBday","partnerBday","setPartnerBday","yourCountDown","setYourCountDown","partnerCountDown","setPartnerCountDown","upComingEvent","setUpComingEvent","upComingDay","setUpComingDay","backgroundUrl","setBackgroundUrl","setIsHome","date","setDate","useRef","acceptRef","dateRef","monthMap","useEffect","ac","AbortController","get","isLoggedIn","user","nickname","undefined","style","visibility","anniverse","Date","dateOfRelationship","month","getMonth","day","getDate","specialEvent","widget","i","length","type","current","original","difference","getTime","parseInt","partner","formatDate","dateOfBirth","you","date1","date2","setFullYear","getFullYear","temp1","temp2","Math","abs","currentDate","currentYear","closest","temp","round","requests","list","push","cancel","abort","today","parse","dd","String","padStart","mm","yyyy","handleLogout","formData","isSent","status","value","onHoverAddWidget","opacity","offHoverAddWidget","handleCreateWidget","display","handleUpdateDate","onHoverWidget","offHoverWidget","handleDeleteWidget","backgroundImage","DateFnsUtils","borderBottom","genders","label","useStyles","makeStyles","theme","formControl","marginTop","minWidth","UserProfileForm","setNickname","bio","setBio","croppedUrl","setCroppedUrl","uploaded","setUploaded","dob","setDob","gender","setGender","newProfile","setNewProfile","setPartner","setDateOfRelationship","userId","setUserId","classes","_id","reader","FileReader","onload","setAttribute","readAsDataURL","handleSubmit","toggleNewFile","file","uploadFile","e","option","marginLeft","InputBox","handleSendMsg","ChatNav","toggleBackHome","partnerStatus","toggleVideoCall","callAccepted","readyDisplay","setReadyDisplay","isOnline","setIsOnline","openMore","setOpenMore","imgRef","toggleChangeBackground","ChatBubble","textInfo","text","SocketContext","createContext","ENDPOINT","socket","isCaller","name","ContextProvider","children","setCallAccepted","callEnded","setCallEnded","stream","setStream","call","setCall","roomId","setRoomId","newMessage","setNewMessage","partnerId","setPartnerId","isCalling","setIsCalling","noCall","setNoCall","users","setUsers","myVideo","userVideo","connectionRef","io","on","chat","callUser","marginRight","from","callerName","signal","isReceivingCall","leaveCall","startCall","emit","joinRoom","audio","muteAudio","getAudioTracks","enabled","video","muteVideo","getVideoTracks","sendMsg","msg","declineCall","answerCall","navigator","mediaDevices","getUserMedia","currentStream","local","srcObject","peer","Peer","initiator","trickle","to","signalData","destroy","VideoRespond","useContext","answer","VideoCall","isMuted","setIsMuted","isDisplayed","setIsDisplayed","handleMute","handleDisplay","ChatRoom","setText","userNickname","setUserNickname","messages","setMessages","setPartnerStatus","scrollDir","setScrollDir","backgroundSize","chatInfo","chats","reverse","roomInfo","prevData","scrollTo","scrollHeight","index","VideoList","handleChooseMovie","setFiles","dropdown","setDropdown","handleDropDown","state","top","handleDeleteVideo","videoId","filename","aliases","VideoUploadDiv","openUpload","setOpenUpload","uploadProgress","setUploadProgress","handleUploadDiv","displayFileName","textContent","handleUploadVideo","onUploadProgress","progressEvent","progress","loaded","total","width","Cinema","handle","useFullScreenHandle","ready","setReady","play","setPlay","openUrl","setOpenUrl","setUrl","buffering","setBuffering","volume","setVolume","isLoud","setIsLoud","isFullScreen","setIsFullScreen","videoRef","urlRef","readyToPlay","initialRun","time","getCurrentTime","seekTo","pointed","displayProgress","point","getDuration","left","handleProgressChange","progressBarWidth","choose","nativeEvent","offsetX","offsetWidth","handleVideoState","submitUrl","choosenUrl","handleUrlDiv","handlePlayerVolume","actualVolume","parseFloat","handleBigScreen","controls","enter","bottom","background","exit","Checkmark","selected","position","zIndex","fill","imgStyle","transition","selectedImgStyle","transform","cont","backgroundColor","cursor","overflow","SelectedImage","photo","margin","direction","handleChooseNotToDeleteFile","handleChooseToDeleteFile","isSelected","setIsSelected","actualHeight","height","sx","sy","handleOnClick","title","CreatePost","setPost","handlePost","setIsPosting","setIsEditing","isEditing","postData","setPostData","uploadedFiles","setUploadedFiles","feeling","setFeeling","willBeDeletedFiles","setWillBeDeletedFiles","deletedExistingFiles","setDeletedExistingFiles","selectAll","imageRenderer","useCallback","key","post","fileId","id","src","val","handleUploadFiles","re","test","URL","createObjectURL","handleDeleteChosenFiles","tempDeletedFiles","sort","tempUploadedFiles","splice","togglePost","set","j","docs","MemoryPost","emojiMap","constructGalleryUrls","handleEdit","deletePost","posts","timeOfCreation","MemoryBook","isPosting","setPosts","success","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","/* (ignored) */","/* (ignored) */","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","import Button from '@material-ui/core/Button';\r\nimport '../css/login.css';\r\n\r\nexport default function Login(){\r\n\r\n\r\n    function handleGoogleClick()\r\n    {\r\n        window.location.href = \"/auth/google\";\r\n    }\r\n\r\n    return <div className=\"login-page-div\">\r\n        <div className=\"login-page\">\r\n        <div className=\"title\"><h1>Welcome to Couplove!</h1></div>\r\n        <Button variant=\"contained\" onClick={handleGoogleClick} id=\"home-login-btn\">\r\n            <img src=\"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg\" className=\"g-logo\"/>\r\n            &nbsp;&nbsp;Login With Google</Button>\r\n        </div>\r\n    </div>\r\n}","import ReactAvatar from '@material-ui/core/Avatar';\r\nimport CheckIcon from '@material-ui/icons/Check';\r\nimport { IconButton } from '@material-ui/core';\r\nimport ClearIcon from '@material-ui/icons/Clear';\r\n\r\nimport axios from 'axios';\r\n\r\n\r\n\r\n\r\nexport default function RequestInfo(props)\r\n{\r\n    const {reqInfo,setHavePartner,setRequestList} = props;\r\n    const url = \"/gridFs/getOtherProfile/\"+reqInfo.senderId;\r\n\r\n\r\n    function acceptPartner(event)\r\n    {\r\n      event.preventDefault();\r\n      const formdata = new FormData();\r\n      formdata.append('senderId',reqInfo.senderId);\r\n      axios({\r\n        method:'post',\r\n        url:'/user/acceptRequest',\r\n        data:formdata,\r\n        headers: {'Content-Type': 'multipart/form-data'}\r\n      })\r\n      .then(res=>res.data)\r\n      .catch(err=>console.log(err))\r\n      .then(res=>{\r\n        if(res.result)\r\n        {\r\n          setRequestList(prev=>{\r\n            return prev.filter(info=>{\r\n              return info.senderId!==reqInfo.senderId\r\n            })\r\n          })\r\n          setHavePartner(true);\r\n        }\r\n      })\r\n    }\r\n    async function declinePartner(event)\r\n    {\r\n      event.preventDefault();\r\n      const formdata = new FormData();\r\n      formdata.append('senderId',reqInfo.senderId)\r\n      await axios({\r\n        method:'post',\r\n        url:'/user/declineRequest',\r\n        data:formdata,\r\n        header:{'Content-Type': 'multipart/form-data'}\r\n      })\r\n      .then(res=>res.data)\r\n      .catch(err=>console.log(err))\r\n      .then(res=>{\r\n        console.log(res);\r\n        if(res)\r\n        {\r\n          setRequestList(prev=>{\r\n            return prev.filter(info=>{\r\n              return info.senderId!==reqInfo.senderId\r\n            })\r\n          })\r\n        }\r\n        else\r\n        {\r\n          alert(\"Opps something wrong with the server\")\r\n        }\r\n      })\r\n      \r\n    }\r\n\r\n    return <div className=\"info-div\">\r\n        <div className=\"info-sender-profile-div\">\r\n            <ReactAvatar\r\n            id=\"info-sender-avatar\"\r\n            src={url}\r\n            />\r\n        </div>\r\n        <div className=\"info-sender-desc\">\r\n            {reqInfo.senderNickname} wants to be your partner<br/>\r\n            <IconButton id=\"info-req-option\" onClick={acceptPartner} ><CheckIcon/></IconButton>\r\n            <IconButton id=\"info-req-option\" onClick={declinePartner}><ClearIcon/></IconButton>\r\n        </div>\r\n    </div>\r\n}","import '../css/requestList.css';\r\n\r\nimport RequestInfo from './RequestInfo';\r\n\r\n\r\n\r\n\r\nexport default function PartnerReq(props)\r\n{\r\n    const {requestList,setHavePartner,setRequestList} = props;\r\n    \r\n\r\n    return<div className=\"req-list-div\">\r\n        {requestList.map(info=>{\r\n            return <RequestInfo setRequestList={setRequestList} reqInfo={info} setHavePartner={setHavePartner}/>\r\n        })}\r\n    </div>\r\n}","import '../css/navbar.css';\r\n\r\nimport PartnerReq from  './PartnerReq';\r\nimport PeopleAltIcon from '@material-ui/icons/PeopleAlt';\r\nimport { IconButton } from '@material-ui/core';\r\nimport { useState,useRef } from 'react';\r\nimport PhotoIcon from '@material-ui/icons/Photo';\r\nimport axios from 'axios';\r\n\r\nexport default function Navbar(props)\r\n{\r\n    const {handleSendReq,formRef,havePartner,requestList,setHavePartner,setRequestList,isHome} = props;\r\n    const [viewList,setViewList] = useState(false);\r\n\r\n\r\n    \r\n    async function handleChangeBackground(event)\r\n    {\r\n      await axios({\r\n        method:'post',\r\n        url:'/home/checkExist'\r\n      })\r\n      const formdata = new FormData();\r\n      formdata.append('file',event.target.files[0]);\r\n        await axios({\r\n          method:'post',\r\n          url:'/home/upload',\r\n          data:formdata,\r\n          headers:{'Content-Type':'multipart/formdata'}\r\n        })\r\n        .then(res=>res.data)\r\n        .catch(err=>console.log(err))\r\n        .then(res=>{\r\n            window.location.reload();\r\n        })\r\n    }\r\n\r\n    return<div className=\"nav-div\">\r\n        <div className=\"nav-title\" onClick={()=>window.open('/','_self')}><h3>Couplove</h3></div>\r\n        <div className=\"nav-activity-div\">\r\n        <div className=\"nav-activity logout\"  onClick={()=>window.location.href = \"/auth/logout\"}>Logout</div> \r\n        {isHome&&<IconButton style={{color:\"white\"}} onClick={()=>document.getElementById('background-file').click()}><PhotoIcon/></IconButton>}\r\n        {isHome&&<input type=\"file\"  hidden id=\"background-file\" onChange={handleChangeBackground} name=\"file\"/>}\r\n        <div className=\"nav-activity profile\"  onClick={()=>window.location.href = \"/userProfileForm\"}>Profile</div> \r\n        {havePartner&&<div className=\"nav-activity chat\" onClick={()=>window.open('/chatRoom','_self')}>Chat Room</div>}\r\n        {havePartner&&<div className=\"nav-activity cinema\" onClick={()=>window.open('/cinema','_self')}>Cinema</div>}\r\n        {havePartner&&<div className=\"nav-activity memory\" onClick={()=>window.open('/memoryBook','_self')}>Memory Book</div>}\r\n        {!havePartner&&<div className=\"nav-sendRequest\">\r\n        <form onSubmit={handleSendReq} ref={formRef}>\r\n        <input type=\"text\" id=\"reqId\" name=\"reqId\" placeholder=\"Partner ID\"/>\r\n        <input type=\"submit\" value=\"+\" className=\"nav-submit\" />\r\n        </form>    \r\n        </div>}\r\n        {!havePartner&&<div className=\"nav-request\">\r\n        <IconButton style={{color:\"whitesmoke\"}} onClick={()=>setViewList(!viewList)}><PeopleAltIcon/></IconButton>\r\n        {viewList&&<PartnerReq requestList={requestList} setHavePartner={setHavePartner} setRequestList={setRequestList} />}\r\n        </div>}\r\n        </div>\r\n    </div>\r\n}","import {useEffect, useState, useRef} from 'react';\r\nimport axios from 'axios';\r\nimport Button from '@material-ui/core/Button';\r\nimport Navbar from '../components/Navbar';\r\nimport '../css/home.css';\r\nimport { IconButton } from '@material-ui/core';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport ClearIcon from '@material-ui/icons/Clear';\r\nimport {\r\n  MuiPickersUtilsProvider,\r\n  KeyboardDatePicker,\r\n} from '@material-ui/pickers';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\n\r\n\r\n\r\nexport default function Home()\r\n{\r\n  const [userInfo,setUserInfo] = useState();\r\n  const [partnerInfo,setPartnerInfo]= useState();\r\n  const [havePartner,setHavePartner] = useState(false);\r\n  const [requestList,setRequestList]= useState([]);\r\n  const [dayWidget,setDayWidget] = useState(false);\r\n  const [specialWidget,setSpecialWidget] = useState(false);\r\n  const [bdayWidget,setBdayWidget] = useState(false);\r\n  const [dateOfRelation,setDateOfRelation] = useState(false);\r\n  const [isSetting,setIsSetting] = useState(false);\r\n  const [totalDay,setTotalDay] = useState();\r\n  const [userBday,setUserBday] = useState();\r\n  const [partnerBday,setPartnerBday] = useState();\r\n  const [yourCountDown,setYourCountDown] = useState();\r\n  const [partnerCountDown,setPartnerCountDown] = useState();\r\n  const [upComingEvent,setUpComingEvent] = useState();\r\n  const [upComingDay,setUpComingDay] = useState();\r\n  const [backgroundUrl,setBackgroundUrl] = useState('');\r\n  const [isHome,setIsHome] = useState(true);\r\n  const [date,setDate] = useState();\r\n\r\n  const formRef = useRef();\r\n  const acceptRef = useRef();\r\n  const dateRef = useRef();\r\n  \r\n\r\n  const monthMap = {\r\n    \"01\": \"January\",\r\n    \"02\": \"February\",\r\n    \"03\": \"March\",\r\n    \"04\": \"April\",\r\n    \"05\": \"May\",\r\n    \"06\": \"June\",\r\n    \"07\": \"July\",\r\n    \"08\": \"August\",\r\n    \"09\": \"September\",\r\n    \"10\": \"October\",\r\n    \"11\": \"November\",\r\n    \"12\": \"December\",\r\n  }\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        const ac = new AbortController();\r\n        axios.get('/auth/isLoggedIn')\r\n        .then(res =>res.data)\r\n        .catch(err => console.log(err))\r\n        .then(res => {\r\n          if (res.isLoggedIn===false)\r\n          {\r\n             window.open('/login','_self');\r\n          }\r\n          else\r\n          {\r\n            if(res.user.nickname===undefined)\r\n            {\r\n              window.open('/userProfileForm','_self');\r\n            }\r\n            else\r\n            {\r\n            \r\n              axios.get('/home/getBackground')\r\n              .then(res=>res.data)\r\n              .catch(err=>console.log(err))\r\n              .then(res=>{\r\n                if(!res)\r\n                {\r\n                  setBackgroundUrl('https://s3-us-west-2.amazonaws.com/s.cdpn.io/751678/my-illustration-background.png');\r\n                  document.getElementById('foreground').style.visibility=\"visible\";\r\n                }\r\n                else\r\n                {\r\n                  setBackgroundUrl('/home/getBackground');\r\n                  document.getElementById('foreground').style.visibility=\"hidden\";\r\n                }\r\n              })\r\n\r\n              let anniverse = new Date(res.user.dateOfRelationship);\r\n              let month = anniverse.getMonth()+1;\r\n              let day = anniverse.getDate();\r\n              let date =\"0\"+ month+\"/\"+day;\r\n              const specialEvent = [\r\n                {date:\"02/14\",event:\"Valentines Day\"},\r\n                {date:\"05/20\",event:\"520 Day\"},\r\n                {date:\"12/25\",event:\"Christmas Day\"},\r\n                {date:\"12/31\",event:\"New Year Eve\"},\r\n                {date:date,event:\"Anniversary Day\"},\r\n           \r\n             ]\r\n\r\n              setPartnerInfo(res.partnerInfo);\r\n              setUserInfo(res.user);\r\n              if(res.user.dateOfRelationship!==null)\r\n              {\r\n                setDateOfRelation(true);\r\n                setDate(res.user.dateOfRelationship);\r\n                if(res.widget)\r\n                {\r\n                    for(let i=0;i<res.widget.widget.length;i++)\r\n                    {\r\n                      if(res.widget.widget[i].type===\"day\")\r\n                      {\r\n                        setDayWidget(true);\r\n                        let current = new Date();\r\n                        let original = new Date(res.user.dateOfRelationship);\r\n                        let difference = current.getTime()-original.getTime();\r\n                        let day = difference/ (1000 * 3600 * 24);\r\n                        setTotalDay(parseInt(day)+1);\r\n                      }\r\n                      else if(res.widget.widget[i].type===\"bday\")\r\n                      {\r\n                        \r\n                        const partner = formatDate(res.partnerInfo.dateOfBirth);\r\n                        const you = formatDate(res.user.dateOfBirth);\r\n                        setPartnerBday(partner);\r\n                        setUserBday(you);\r\n                        const current = new Date();\r\n                        const date1 = new Date(res.partnerInfo.dateOfBirth);\r\n                        const date2 = new Date(res.user.dateOfBirth);\r\n                        date1.setFullYear(current.getFullYear());\r\n                        date2.setFullYear(current.getFullYear());\r\n                        if(current>date1)\r\n                        {\r\n                          date1.setFullYear(current.getFullYear()+1);\r\n                        }\r\n                        if(current>date2)\r\n                        {\r\n                          date2.setFullYear(current.getFullYear()+1);\r\n                        }\r\n                        const temp1 = parseInt((date1.getTime()-current.getTime())/ (1000 * 3600 * 24));\r\n                        const temp2 = parseInt((date2.getTime()-current.getTime())/ (1000 * 3600 * 24));\r\n                        if(temp1===0)\r\n                        {\r\n                          setPartnerCountDown(\"Today is your partner's Birthday!\");\r\n                        }\r\n                        else{\r\n                          setPartnerCountDown(Math.abs(temp1));\r\n                        }\r\n                        if(temp2===0)\r\n                        {\r\n                          setYourCountDown(\"Today is your Birthday!\")\r\n                        }\r\n                        else\r\n                        {\r\n                           setYourCountDown(Math.abs(temp2));\r\n                        }\r\n                        setBdayWidget(true);\r\n                      }\r\n                      else if(res.widget.widget[i].type===\"special\")\r\n                      {\r\n                        setSpecialWidget(true);\r\n                        const currentDate = new Date();\r\n                        const currentYear = currentDate.getFullYear();\r\n                        let closest =99999999999;\r\n                        specialEvent.map(date=>{\r\n                          let temp = new Date(currentYear+\"/\"+date.date);\r\n                          if(currentDate>temp)\r\n                          {\r\n                            temp.setFullYear(currentDate+1);\r\n                          }\r\n                          let result = Math.abs((parseInt(currentDate.getTime()-temp.getTime())/ (1000 * 3600 * 24)));\r\n                          if(result<closest)\r\n                          {\r\n                            closest = result+1;\r\n                            setUpComingEvent(date.event);\r\n                          }\r\n                        })\r\n                        if(Math.round(closest)===0)\r\n                        {\r\n                          setUpComingDay(\"Today is \"+date.event+\" !\");\r\n                        }\r\n                        else\r\n                        {\r\n                          setUpComingDay(Math.round(closest));\r\n                        }\r\n                        \r\n                        \r\n                      }\r\n                    }\r\n                }\r\n              }\r\n              axios({\r\n                method:'get',\r\n                url:'/user/getRequest',\r\n                headers: {'Content-Type': 'multipart/form-data'}\r\n              })\r\n              .then(res=>res.data)\r\n              .catch(err=>console.log(err))\r\n              .then(res=>{\r\n                let temp=[];\r\n                res.requests.map(list=>{\r\n                  temp.push({...list});\r\n                })\r\n                setRequestList(temp);\r\n              })\r\n              if(res.user.partner!==null)\r\n              {\r\n                setHavePartner(true); \r\n              }\r\n             \r\n            }\r\n          } \r\n        })\r\n        return function cancel() {\r\n          ac.abort()\r\n        }\r\n      },[dayWidget,specialWidget,bdayWidget]);\r\n\r\n      \r\n      function formatDate(date) {\r\n        const today = new Date(parseInt(Date.parse(date), 10));\r\n        var dd = String(today.getDate()).padStart(2, '0');\r\n        var mm = String(today.getMonth() + 1).padStart(2, '0'); //January is 0!\r\n        var yyyy = today.getFullYear();\r\n        // return mm + '/' + dd + '/' + yyyy;\r\n        return dd + \" \" + monthMap[mm] \r\n      }\r\n      function handleLogout()\r\n      {\r\n        window.location.href = \"/auth/logout\";\r\n      }\r\n      function handleSendReq(event)\r\n      {\r\n        event.preventDefault();\r\n        const formData = new FormData(formRef.current);\r\n        axios({\r\n          method:'post',\r\n          url:'/user/sendRequest',\r\n          data:formData,\r\n          headers: {'Content-Type': 'multipart/form-data'}\r\n        })\r\n        .then(res=>res.data)\r\n        .catch(err=>console.log(err))\r\n        .then(res=>{\r\n          if(res.isSent)\r\n          {\r\n             alert(\"sent!\");\r\n          }\r\n          else\r\n          {\r\n            alert(res.status);\r\n            console.log(res)\r\n          }\r\n        })\r\n        document.getElementById('reqId').value = \"\";\r\n      }\r\n      requestList.map(list=>{\r\n        console.log(list);\r\n      })\r\n\r\n      \r\n\r\n      function onHoverAddWidget(type)\r\n      {\r\n        if(type===\"special\")\r\n        {\r\n          document.getElementById('hover-special').style.opacity=\"1\";\r\n        }\r\n        else if(type===\"day\")\r\n        {\r\n          document.getElementById('hover-day').style.opacity=\"1\";\r\n        }\r\n        else if(type===\"bday\")\r\n        {\r\n          document.getElementById('hover-bday').style.opacity=\"1\";\r\n        }\r\n      }\r\n\r\n      function offHoverAddWidget(type)\r\n      {\r\n        if(type===\"special\")\r\n        {\r\n          document.getElementById('hover-special').style.opacity=\"0\";\r\n        }\r\n        else if(type===\"day\")\r\n        {\r\n          document.getElementById('hover-day').style.opacity=\"0\";\r\n        }\r\n        else if(type===\"bday\")\r\n        {\r\n          document.getElementById('hover-bday').style.opacity=\"0\";\r\n        }\r\n      }\r\n\r\n      async function handleCreateWidget(type)\r\n      {\r\n        if(type===\"day\")\r\n        {\r\n          if(dateOfRelation)\r\n          {\r\n            const formdata = new FormData();\r\n            formdata.append('type',type);\r\n            await axios({\r\n              method:'post',\r\n              url:'/widget/createWidget',\r\n              data:formdata,\r\n              headers:{'Content-Type': 'multipart/form-data'}\r\n            })\r\n            .then(res=>res.data)\r\n            .catch(err=>console.log(err))\r\n            .then(res=>{\r\n              setDayWidget(true);\r\n            })  \r\n          }\r\n          else\r\n          {\r\n            document.getElementById(\"noDayWidget\").style.display=\"none\";\r\n            setIsSetting(true);\r\n          }\r\n        }\r\n        else if(type===\"bday\")\r\n        {\r\n          const formdata = new FormData();\r\n          formdata.append('type',\"bday\");\r\n          await axios({\r\n            method:'post',\r\n            url:'/widget/createWidget',\r\n            data:formdata,\r\n            headers:{'Content-Type': 'multipart/form-data'}\r\n          })\r\n          .then(res=>res.data)\r\n          .catch(err=>console.log(err))\r\n          .then(res=>{\r\n            if(res)\r\n            {\r\n              setBdayWidget(true);\r\n            }\r\n          })\r\n        }\r\n        else if(type===\"special\")\r\n        {\r\n          const formdata = new FormData();\r\n          formdata.append('type',\"special\");\r\n          await axios({\r\n            method:'post',\r\n            url:'/widget/createWidget',\r\n            data:formdata,\r\n            headers:{'Content-Type':'multipart/formdata'}\r\n          })\r\n          .then(res=>res.data)\r\n          .catch(err=>console.log(err))\r\n          .then(res=>{\r\n            if(res)\r\n            {\r\n              setSpecialWidget(true);\r\n            }\r\n          })\r\n        }\r\n      }\r\n\r\n      async function handleUpdateDate(event)\r\n      {\r\n        event.preventDefault();\r\n        const formdata = new FormData(dateRef.current);\r\n        formdata.append('type',\"day\");\r\n        await axios({\r\n          method:'post',\r\n          url:'/widget/createWidget',\r\n          data:formdata,\r\n          headers:{'Content-Type': 'multipart/form-data'}\r\n        })\r\n        .then(res=>res.data)\r\n        .catch(err=>console.log(err))\r\n        .then(res=>{\r\n          setIsSetting(false);\r\n          setDayWidget(true);\r\n        })\r\n      }\r\n\r\n      function onHoverWidget(type)\r\n      {\r\n        if(type===\"day\")\r\n        {\r\n          document.getElementById(\"home-delete-dayWidget\").style.visibility = \"visible\";\r\n        }\r\n        else if(type===\"bday\")\r\n        {\r\n          document.getElementById('home-delete-bdayWidget').style.visibility = \"visible\";\r\n        }\r\n        else if(type===\"special\")\r\n        {\r\n          document.getElementById('home-delete-specialWidget').style.visibility = \"visible\";\r\n        }\r\n      }\r\n      function offHoverWidget()\r\n      {\r\n        if(dayWidget)\r\n        document.getElementById(\"home-delete-dayWidget\").style.visibility = \"hidden\";\r\n        if(bdayWidget)\r\n        document.getElementById('home-delete-bdayWidget').style.visibility =\"hidden\";\r\n        if(specialWidget)\r\n        document.getElementById('home-delete-specialWidget').style.visibility = \"hidden\";\r\n      }\r\n\r\n      async function handleDeleteWidget(type)\r\n      {\r\n         const formdata = new FormData();\r\n         formdata.append('type',type);\r\n         await axios({\r\n           method:'post',\r\n           url:'/widget/deleteWidget',\r\n           data:formdata,\r\n           headers:{'Content-Type': 'multipart/form-data'}\r\n         })\r\n         .then(res=>res.data)\r\n         .catch(err=>console.log(err))\r\n         .then(res=>{\r\n           if(res)\r\n           {\r\n             if(type===\"day\")\r\n             setDayWidget(false)\r\n             if(type===\"bday\")\r\n             setBdayWidget(false)\r\n             if(type===\"special\")\r\n             setSpecialWidget(false)\r\n           }\r\n         })\r\n      }\r\n\r\n\r\n    return <div className=\"home-div\">\r\n      <Navbar isHome={isHome} setRequestList={setRequestList} setHavePartner={setHavePartner}  requestList={requestList} havePartner={havePartner} handleSendReq={handleSendReq} formRef = {formRef} handleLogout={handleLogout} handleSendReq={handleSendReq} acceptRef={acceptRef}/>\r\n      <div className=\"home-background\" style={{backgroundImage:\"url(\"+backgroundUrl+\")\"}}>\r\n        <div className=\"home-overlay\">\r\n            <div className=\"home-widget anniverse\">\r\n            {!havePartner&&<div className=\"home-noPartner\">You need to have a partner to access this widget</div>}\r\n            {specialWidget?\r\n            <div className=\"home-event-div\" onMouseOut={offHoverWidget} onMouseOver={()=>onHoverWidget(\"special\")}>\r\n              <IconButton id=\"home-delete-specialWidget\" onClick={()=>handleDeleteWidget(\"special\")}><ClearIcon/></IconButton>\r\n              <div className=\"home-event-title\">\r\n                <h3>Up Coming Event:</h3><br/>\r\n                <h1>{upComingEvent}</h1>\r\n              </div>\r\n              <div className=\"home-event-day\">\r\n              <h1>{upComingDay} days left</h1>\r\n              </div>\r\n            </div>\r\n            :\r\n            <div className=\"home-noWidget\">\r\n              <IconButton id=\"home-add-widget\" onClick={()=>handleCreateWidget(\"special\")} onMouseOver={()=>onHoverAddWidget(\"special\")} onMouseOut={()=>offHoverAddWidget(\"special\")}><AddIcon fontSize=\"large\"/></IconButton>\r\n              <div className=\"home-add-hover\" id=\"hover-special\">Add this widget to get to know up coming special events</div>\r\n            </div>}\r\n            </div>\r\n            <div className=\"home-widget days\">\r\n            {!havePartner&&<div className=\"home-noPartner\">You need to have a partner to access this widget</div>}\r\n            {dayWidget?\r\n            <div className=\"home-totalDay-widget\"  onMouseOut={offHoverWidget} onMouseOver={()=>onHoverWidget(\"day\")}><IconButton id=\"home-delete-dayWidget\" onClick={()=>handleDeleteWidget(\"day\")}><ClearIcon/></IconButton><h1>{totalDay} DAYS</h1></div>\r\n            :\r\n            <div className=\"home-noWidget\"  id=\"noDayWidget\">\r\n              <IconButton id=\"home-add-widget\"  onClick={()=>handleCreateWidget(\"day\")} onMouseOver={()=>onHoverAddWidget(\"day\")} onMouseOut={()=>offHoverAddWidget(\"day\")}><AddIcon fontSize=\"large\"/></IconButton>\r\n              <div className=\"home-add-hover\" id=\"hover-day\">Add this widget to get to know total days together</div>\r\n            </div>}\r\n            {isSetting&&<div className=\"home-setDate\">\r\n              <div className=\"home-setDate-title\"><h2>Please set the date of you with your partner</h2></div>\r\n            <form onSubmit={handleUpdateDate} ref={dateRef}>\r\n            <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n            <KeyboardDatePicker\r\n              margin=\"normal\"\r\n              id=\"dateOfRelation\"\r\n              label=\"Date of Relationship\"\r\n              name=\"dateOfRelation\"\r\n              format=\"MM/dd/yyyy\"\r\n              value={date}\r\n              onChange={(date) => {setDate(date)}}\r\n              KeyboardButtonProps={{\r\n                'aria-label': 'change date',\r\n              }}\r\n            />\r\n          </MuiPickersUtilsProvider>\r\n          <Button type=\"submit\" id=\"home-submit-day\">SUBMIT</Button>\r\n          </form>\r\n            </div>}\r\n            </div>\r\n            <div className=\"home-widget special\">\r\n              {!havePartner&&<div className=\"home-noPartner\">You need to have a partner to access this widget</div>}\r\n            {bdayWidget?\r\n            <div className=\"home-dob-div\" onMouseOut={offHoverWidget} onMouseOver={()=>onHoverWidget(\"bday\")}>\r\n              <IconButton id=\"home-delete-bdayWidget\" onClick={()=>handleDeleteWidget(\"bday\")}><ClearIcon/></IconButton>\r\n              <div className=\"home-bday-div you\">\r\n              <div className=\"home-bday-name\"><h1>{userInfo.nickname}</h1></div>\r\n                <div className=\"home-bday-border\">\r\n                  <div className=\"home-bday-calander\">\r\n                    <h2 style={{borderBottom:\"1px solid white\"}}>{userBday}</h2><br/><br/><br/>\r\n                    <h1>{yourCountDown} days left</h1>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"home-bday-div partner\">\r\n              <div className=\"home-bday-name\"><h1>{partnerInfo.nickname}</h1></div>\r\n                <div className=\"home-bday-border\">\r\n                  <div className=\"home-bday-calander\">\r\n                    <h2 style={{borderBottom:\"1px solid white\"}}>{partnerBday}</h2><br/><br/><br/>\r\n                    <h1>{partnerCountDown} days left</h1>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n            </div>\r\n            :\r\n            <div className=\"home-noWidget\">\r\n              <IconButton id=\"home-add-widget\" onClick={()=>handleCreateWidget(\"bday\")} onMouseOver={()=>onHoverAddWidget(\"bday\")} onMouseOut={()=>offHoverAddWidget(\"bday\")}><AddIcon fontSize=\"large\"/></IconButton>\r\n              <div className=\"home-add-hover\" id=\"hover-bday\">Add this widget to get to know each other birthdays</div>\r\n            </div>}\r\n            </div>\r\n\r\n        </div>\r\n            <div className=\"foreground\" id=\"foreground\"></div>\r\n      </div>\r\n    </div>\r\n    \r\n}","import {useEffect, useState, useRef} from 'react';\r\nimport axios from 'axios';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport 'date-fns';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport {\r\n  MuiPickersUtilsProvider,\r\n  KeyboardDatePicker,\r\n} from '@material-ui/pickers';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport '../css/profileInfo.css';\r\nimport ReactAvatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport AddAPhotoIcon from '@material-ui/icons/AddAPhoto';\r\nimport IconButton from '@material-ui/core/IconButton';\r\n\r\nconst genders = [\r\n    {\r\n      value: 'male',\r\n      label: 'male',\r\n    },\r\n    {\r\n      value: 'female',\r\n      label: 'female',\r\n    },\r\n  ];\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    formControl: {\r\n      marginTop:20,\r\n      minWidth: \"90%\",\r\n    },\r\n  }));\r\nexport default function UserProfileForm()\r\n{\r\n    const [nickname,setNickname] = useState(\"\");\r\n    const [bio,setBio] = useState(\"\");\r\n    const [croppedUrl, setCroppedUrl] = useState();\r\n    const [uploaded,setUploaded] = useState(false);\r\n    const [dob,setDob] = useState(new Date());\r\n    const [gender,setGender] = useState('male');\r\n    const [newProfile,setNewProfile]=useState(false);\r\n    const [partner,setPartner] = useState();\r\n    const [dateOfRelationship,setDateOfRelationship] = useState();\r\n    const [userId,setUserId] = useState();\r\n    const formRef = useRef();\r\n    const classes = useStyles();\r\n\r\n    useEffect(() => {\r\n        const ac = new AbortController();\r\n        axios.get('/auth/isLoggedIn')\r\n        .then(res =>res.data)\r\n        .catch(err => console.log(err))\r\n        .then(res => {\r\n          if (res.isLoggedIn === false) {\r\n            window.open('/login', '_self');\r\n          } \r\n          else if(res.user.nickname)\r\n          {\r\n            setUserId(res.user._id);\r\n            setNickname(res.user.nickname);\r\n            setDob(res.user.dateOfBirth);\r\n            setGender(res.user.gender);\r\n            setBio(res.user.bio);\r\n            if(res.user.partner!==null)\r\n            {\r\n            setPartner(res.user.partner);\r\n            if(res.user.dateOfRelationship)\r\n            {\r\n                setDateOfRelationship(res.user.dateOfRelationship);\r\n            }\r\n            }\r\n          }\r\n        })\r\n        return function cancel() {\r\n          ac.abort()\r\n        }\r\n      },[]);\r\n      useEffect(() => {\r\n        const ac = new AbortController();\r\n      axios({\r\n        method:'get',\r\n        url:'/gridFs/checkExists',\r\n        headers: {'Content-Type': 'multipart/form-data'}\r\n      })\r\n      .then(res=>res.data)\r\n      .catch(err=>console.log(err))\r\n      .then(res=>{\r\n        if(res===true)\r\n        {\r\n           document.getElementById(\"overlay\").style.visibility=\"hidden\";\r\n        }\r\n      })\r\n      return function cancel() {\r\n        ac.abort()\r\n      }\r\n    },[]);\r\n      if(uploaded)\r\n      {\r\n        const reader = new FileReader();\r\n        reader.onload = function(event){\r\n          if(event.target.result===null)\r\n          {\r\n            return;\r\n          }\r\n          document.getElementById(\"avatarImg\").setAttribute(\"src\",event.target.result);\r\n        }\r\n        reader.readAsDataURL(croppedUrl);\r\n       \r\n      }\r\n      async function handleSubmit(event) {\r\n        if(uploaded){axios.get('/gridFs/deleteImg');}\r\n        event.preventDefault();\r\n        \r\n        const formData = new FormData(formRef.current); \r\n        partner&&formData.append('partner',partner);\r\n         await  axios({\r\n            method:'post',\r\n            url:'/user/info',\r\n            data:formData,\r\n            headers: {'Content-Type': 'multipart/form-data'}\r\n          })\r\n          window.location.href = \"/\";\r\n      }\r\n\r\n      function toggleNewFile(event)\r\n      {\r\n        const file = event.target.files[0];\r\n         if(file===undefined)\r\n        {\r\n          return;\r\n        }\r\n        else\r\n        {\r\n         document.getElementById(\"overlay\").style.visibility=\"hidden\";\r\n         setCroppedUrl(file);\r\n         setUploaded(true);\r\n        }\r\n      }\r\n      \r\n      function uploadFile()\r\n      {\r\n         document.getElementById(\"file\").click();\r\n      }\r\n\r\n    return <div className=\"infoForm\" id=\"infoForm\">\r\n        \r\n    <form onSubmit={handleSubmit} ref={formRef}>\r\n      <div id=\"avatar\">\r\n       <ReactAvatar\r\n        id=\"overlay\"\r\n      />\r\n       <img src={uploaded?\"\":\"/gridFs/getProfile\"} id=\"avatarImg\"/>\r\n      </div>\r\n      <div className=\"fileIpt\">\r\n          <input type=\"file\" name=\"file\" id=\"file\" onChange={toggleNewFile}/>\r\n          <IconButton\r\n          id=\"uploadBtn\"\r\n          onClick={uploadFile}\r\n          >\r\n            <AddAPhotoIcon/>\r\n          </IconButton>\r\n      </div>\r\n          <br/>\r\n          <div className=\"infoDiv\">\r\n          <div className=\"home-userId\"><h3>Your ID: </h3>{userId}</div><br/>\r\n            <TextField\r\n            id=\"nickname\"\r\n            className=\"inputFields\"\r\n            label=\"Nickname\"\r\n            variant=\"outlined\"\r\n            name=\"nickname\"\r\n            value={nickname}\r\n            onChange={(e) => {setNickname(e.target.value)}}/>\r\n            <br/>\r\n            <FormControl variant=\"outlined\" className={classes.formControl}>\r\n            <InputLabel id=\"demo-simple-select-outlined-label\">Gender</InputLabel>\r\n            <Select\r\n              labelId=\"demo-simple-select-outlined-label\"\r\n              id=\"demo-simple-select-outlined\"\r\n              value={gender}\r\n              onChange={(e) => {setGender(e.target.value)}}\r\n              label=\"Gender\"\r\n              name=\"gender\"\r\n            >\r\n              {genders.map((option) => (\r\n                <MenuItem key={option.value} value={option.value}>\r\n                  {option.label}\r\n                </MenuItem>\r\n              ))}\r\n            </Select>\r\n          </FormControl> \r\n          <br />\r\n          <MuiPickersUtilsProvider utils={DateFnsUtils} style={{marginLeft:\"10px\"}}>\r\n            <KeyboardDatePicker\r\n              margin=\"normal\"\r\n              id=\"dateOfBirth\"\r\n              label=\"Date of birth (mm/dd/yyyy)\"\r\n              name=\"dateOfBirth\"\r\n              format=\"MM/dd/yyyy\"\r\n              value={dob}\r\n              onChange={(date) => {setDob(date)}}\r\n              KeyboardButtonProps={{\r\n                'aria-label': 'change date',\r\n              }}\r\n            />\r\n          </MuiPickersUtilsProvider>\r\n          {dateOfRelationship&&<MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n            <KeyboardDatePicker\r\n              margin=\"normal\"\r\n              id=\"dateOfRelation\"\r\n              label=\"Date of relationship\"\r\n              name=\"dateOfRelationship\"\r\n              format=\"MM/dd/yyyy\"\r\n              value={dateOfRelationship}\r\n              onChange={(date) => {setDateOfRelationship(date)}}\r\n              KeyboardButtonProps={{\r\n                'aria-label': 'change date',\r\n              }}\r\n            />\r\n          </MuiPickersUtilsProvider>}\r\n          \r\n          <br/>    \r\n        \r\n     \r\n          <TextField\r\n            id=\"bio\"\r\n            label=\"Bio\"\r\n            variant=\"outlined\"\r\n            name=\"bio\"\r\n            className=\"inputFields\"\r\n            value={bio}\r\n            onChange={(e) => {setBio(e.target.value)}}/>\r\n            <br/>\r\n            \r\n          <Button type=\"submit\" id=\"submitInfo\">\r\n              submit\r\n          </Button>\r\n          </div>\r\n        </form>\r\n    </div>\r\n}","import '../css/inputBox.css';\r\nimport SendIcon from '@material-ui/icons/Send';\r\nimport IconButton from '@material-ui/core/IconButton';\r\n\r\nexport default function InputBox(props)\r\n{\r\n    const {handleSendMsg} = props\r\n\r\n\r\n    return<div className=\"foot\">\r\n        <form onSubmit={handleSendMsg} className=\"input-form\">\r\n        <input type=\"text\" className=\"msg\" placeholder=\"Type a message...\" id=\"chat\"/>\r\n        <IconButton type=\"submit\" id=\"sendIcon\"><SendIcon/></IconButton>\r\n        </form>\r\n    \r\n    </div>\r\n}","import '../css/chatNav.css';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport VideocamIcon from '@material-ui/icons/Videocam';\r\nimport MoreHorizIcon from '@material-ui/icons/MoreHoriz';\r\nimport PhotoIcon from '@material-ui/icons/Photo';\r\nimport { useEffect, useState,useRef } from 'react';\r\nimport axios from 'axios';\r\n\r\nexport default function ChatNav(props)\r\n{\r\n    const {toggleBackHome,partnerInfo,partnerStatus,toggleVideoCall,callAccepted,setBackgroundUrl} = props\r\n\tconst [readyDisplay,setReadyDisplay] = useState(false);\r\n\tconst [isOnline,setIsOnline] = useState(false);\r\n\tconst [openMore,setOpenMore] = useState(false);\r\n\r\n\r\n\tconst imgRef = useRef();\r\n\r\n\tuseEffect(()=>{\r\n\t\tconst ac = new AbortController();\r\n\t\tif(partnerInfo)\r\n\t\t{\r\n\t\t\tsetReadyDisplay(true);\r\n\t\t}\r\n\t\treturn function cancel() {\r\n            ac.abort();\r\n          }\r\n\t},[partnerInfo])\r\n\r\n\t\tif(partnerStatus&&partnerInfo)\r\n\t\t{\r\n\t\t\tpartnerStatus.map(user=>{\r\n\t\t\t\tif(user===partnerInfo._id)\r\n\t\t\t\t{\t\r\n\t\t\t\t\tsetIsOnline(true);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\t\r\n\r\n\tasync function toggleChangeBackground(event)\r\n\t{\r\n\t\tawait axios.get('/chat/deleteBackground')\r\n\t\tconst formdata = new FormData();\r\n\t\tformdata.append('file',event.target.files[0])\r\n\t\tawait axios({\r\n\t\t\tmethod:'post',\r\n\t\t\turl:'/chat/uploadChatImg',\r\n\t\t\tdata:formdata,\r\n\t\t\theaders:{'Content-Type': 'multipart/form-data'}\r\n\t\t})\r\n\t\twindow.location.reload();\r\n\t}\r\n\r\n    return<div className=\"chatNav-div\">\r\n\t\t{isOnline&&<h1>ONLINE</h1>}\r\n\t\t{openMore&&<div className=\"chatNav-moreOption\">\r\n\t\t\t<div className=\"chatNav-changeBackground\" onClick={()=>document.getElementById('chatNav-file').click()}> \r\n\t\t\t\t<PhotoIcon/>\r\n\t\t\t\t<input type=\"file\" name=\"file\" hidden id=\"chatNav-file\" onChange={toggleChangeBackground}/>\t\r\n\t\t\t</div>\r\n\t\t</div>}\r\n        <div className=\"head\">\r\n\t\t\t\t<div className=\"user\">\r\n\t\t\t\t\t<div className=\"avatar\" id=\"avatarStatus\">\r\n\t\t\t\t\t\t<img src=\"/gridFs/getPartnerProfile\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t\t{readyDisplay&&<div className=\"name\">{partnerInfo.nickname}</div>}\r\n\t\t\t\t</div>\r\n\t\t\t\t<ul id=\"bar_tool\">\r\n\t\t\t\t\t<IconButton id=\"iconBtn\" onClick={toggleVideoCall}><span className=\"alink\"><VideocamIcon id=\"contact\"/></span></IconButton>\r\n\t\t\t\t\t<IconButton id=\"iconBtn\" onClick={()=>setOpenMore(!openMore)}><span className=\"alink\"><MoreHorizIcon id=\"contact\"/></span></IconButton>\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n    </div>\r\n}","\r\nimport '../css/chatBubble.css';\r\n\r\n\r\nexport default function ChatBubble(props)\r\n{\r\n    const{textInfo,user}= props;\r\n    if(textInfo&&textInfo.userId===user._id)\r\n    {       \r\n        return<div className=\"bubble-div righter\">\r\n           <div className = \"context\">\r\n            <p>{textInfo&&textInfo.text}</p>\r\n           </div>\r\n        </div>\r\n    }\r\n    else{\r\n        return<div className=\"bubble-div lefter\">\r\n            <div className=\"img-div\">\r\n            <img src=\"/gridFs/getPartnerProfile\"/>\r\n            </div>\r\n            <div className = \"context\">\r\n            <p>{textInfo&&textInfo.text}</p>\r\n           </div>\r\n        </div>\r\n    }\r\n}","import React, { createContext, useState, useRef, useEffect } from 'react';\r\nimport { io } from 'socket.io-client';\r\nimport Peer from 'simple-peer';\r\n\r\nconst SocketContext = createContext();\r\n\r\nconst ENDPOINT='localhost:5000';\r\nlet socket;\r\nlet isCaller = false;\r\nlet name ;\r\nconst ContextProvider = ({ children }) => {\r\n  const [callAccepted, setCallAccepted] = useState(false);\r\n  const [callEnded, setCallEnded] = useState(false);\r\n  const [stream, setStream] = useState();\r\n  // const [name, setName] = useState('');\r\n  const [call, setCall] = useState({});\r\n  const [userId,setUserId] = useState('');\r\n  const [roomId,setRoomId] = useState('');\r\n  const [newMessage,setNewMessage] = useState([]);\r\n  const [partnerId,setPartnerId] = useState();\r\n  const [isCalling,setIsCalling] = useState(false);\r\n  const [noCall,setNoCall] = useState(false);\r\n  const [isOnline,setIsOnline] = useState(true);\r\n  const [users,setUsers] = useState();\r\n\r\n  const myVideo = useRef();\r\n  const userVideo = useRef();\r\n  const connectionRef = useRef();\r\n\r\n\r\n   \r\n\r\n  useEffect(() => {\r\n\r\n    socket = io(ENDPOINT);\r\n     \r\n    socket.on('chatMsg',(chat)=>{\r\n        setNewMessage(chat);\r\n    })\r\n\r\n    socket.on('startCalling',e=>{\r\n      callUser();\r\n    })\r\n    socket.on('start',e=>{\r\n      setIsCalling(true);\r\n    })\r\n\r\n    socket.on('no',e=>{\r\n      setNoCall(true);\r\n      alert('your partner is not online!')\r\n    })\r\n  }, []);\r\n\r\n  useEffect(()=>{\r\n    \r\n    \r\n\r\n    if(!isCalling)\r\n    {\r\n      return null;\r\n    }\r\n     \r\n\r\n   socket.on('returnDiv',e=>{\r\n      document.getElementById('chat-body').style.marginRight = \"auto\";\r\n      document.getElementById('chat-body').style.marginLeft = \"auto\";\r\n      document.getElementById(\"video-div\").style.visibility = \"hidden\";\r\n      \r\n   })\r\n\r\n   socket.on('calluser',async ({ from, name: callerName, signal })=> {\r\n    setCall({ isReceivingCall: true, from, name: callerName, signal });\r\n    \r\n  });\r\n\r\n   socket.on('moveDiv',e=>{\r\n    document.getElementById('chat-body').style.marginRight = \"auto\";\r\n    document.getElementById('chat-body').style.marginLeft = \"10px\";\r\n    document.getElementById(\"video-div\").style.visibility = \"visible\";\r\n      \r\n      \r\n   })\r\n\r\n    socket.on('dc',e=>{\r\n      leaveCall();\r\n    })\r\n\r\n  },[isCalling])\r\n\r\n  // useEffect(()=>{\r\n  //   if(callAccepted)\r\n  //   {\r\n  //     navigator.mediaDevices.getUserMedia({ video: true, audio: true })\r\n  //     .then((currentStream) => {\r\n  //     setStream(currentStream);\r\n  //     myVideo.current.srcObject = currentStream;\r\n  //     });\r\n  //   }\r\n  // },[callAccepted])\r\n\r\n  const startCall  =()=>{\r\n    socket.emit('calling');\r\n  }\r\n  \r\n  const joinRoom = (roomId,userId,nickname) =>{\r\n      socket.emit('join',{userId,roomId});\r\n      setUserId(userId);\r\n      setRoomId(roomId);\r\n      // setName(nickname); \r\n      name=nickname;\r\n  }\r\n  let audio =true;\r\n  const muteAudio = ()=>{\r\n    audio  = !audio;\r\n    stream.getAudioTracks()[0].enabled = audio;\r\n  }\r\n\r\n  let video =true;\r\n  const muteVideo = ()=>{\r\n    video  = !video;\r\n    stream.getVideoTracks()[0].enabled = video;\r\n  }\r\n\r\n  const sendMsg = (msg,nickname) =>{\r\n      socket.emit('sendMsg',{msg,userId,nickname,roomId})\r\n  }\r\n\r\n  const declineCall = ()=>{\r\n    setCallEnded(true);\r\n    if(isCaller)\r\n    {\r\n      document.getElementById('chat-body').style.marginRight = \"auto\";\r\n      document.getElementById('chat-body').style.marginLeft = \"auto\";\r\n      document.getElementById(\"video-div\").style.visibility = \"hidden\";\r\n    }\r\n    setIsCalling(false);\r\n    window.location.reload();\r\n  }\r\n\r\n  const answerCall = async() => {\r\n    let local;\r\n    await navigator.mediaDevices.getUserMedia({ video: true, audio: true })\r\n    .then((currentStream) => {\r\n    setStream(currentStream);\r\n    local = currentStream;\r\n    myVideo.current.srcObject = currentStream;\r\n    }); \r\n    setCallAccepted(true);\r\n    const peer = new Peer({ initiator: false, trickle: false, stream:local });\r\n    peer.on('signal', (data) => {\r\n      socket.emit('answercall', { signal: data, to: call.from });\r\n    });\r\n\r\n    peer.on('stream', (currentStream) => {\r\n      console.log(\"this is the remote stream: \" + currentStream);\r\n      userVideo.current.srcObject = currentStream;\r\n    });\r\n\r\n    peer.signal(call.signal);\r\n    connectionRef.current = peer;\r\n  };\r\n\r\n\r\n  const callUser = async() => {\r\n    if(noCall)\r\n    {\r\n      return null;\r\n    }\r\n    let local;\r\n    await navigator.mediaDevices.getUserMedia({ video: true, audio: true })\r\n    .then((currentStream) => {\r\n    setStream(currentStream);\r\n    local = currentStream;\r\n    myVideo.current.srcObject = currentStream;\r\n    }); \r\n    isCaller = true;\r\n    const peer = new Peer({ initiator: true, trickle: false, stream:local });\r\n    peer.on('signal', (data) => {\r\n      socket.emit('calluser', {  signalData: data,  name });\r\n    });\r\n    peer.on('stream', (currentStream) => {\r\n      userVideo.current.srcObject = currentStream;\r\n    });\r\n\r\n    socket.on('callaccepted', (signal) => {\r\n      console.log('call accepted: ' + signal);\r\n      setCallAccepted(true);\r\n      peer.signal(signal);\r\n    });\r\n\r\n    connectionRef.current = peer;\r\n  };\r\n\r\n  const leaveCall = () => {\r\n    setCallEnded(true);\r\n    if(isCaller)\r\n    {\r\n      document.getElementById('chat-body').style.marginRight = \"auto\";\r\n      document.getElementById('chat-body').style.marginLeft = \"auto\";\r\n      document.getElementById(\"video-div\").style.visibility = \"hidden\";\r\n    }\r\n    if(connectionRef.current)connectionRef.current.destroy();\r\n\r\n    window.location.reload();\r\n  };\r\n\r\n  return (\r\n    <SocketContext.Provider value={{\r\n      call,\r\n      callAccepted,\r\n      myVideo,\r\n      newMessage,\r\n      sendMsg,\r\n      joinRoom,\r\n      userVideo,\r\n      stream,\r\n      name,\r\n      callEnded,\r\n      callUser,\r\n      leaveCall,\r\n      answerCall,\r\n      users,\r\n      isOnline,\r\n      startCall,\r\n      muteAudio,\r\n      muteVideo,\r\n      declineCall,\r\n      isCaller,\r\n    }}\r\n    >\r\n      {children}\r\n    </SocketContext.Provider>\r\n  );\r\n};\r\n\r\nexport { ContextProvider, SocketContext };","import DoneIcon from '@material-ui/icons/Done';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport { useContext, useEffect } from 'react';\r\nimport {SocketContext} from '../SocketContext';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport { Icon } from '@material-ui/core';\r\nimport ClearIcon from '@material-ui/icons/Clear';\r\n\r\nexport default function VideoRespond(props)\r\n{\r\n\r\n    const{answerCall,call,declineCall} = useContext(SocketContext);\r\n\r\n\r\n   \r\n\r\n\r\n   async function answer()\r\n    {\r\n        document.getElementById('chat-body').style.marginRight = \"auto\";\r\n        document.getElementById('chat-body').style.marginLeft = \"10px\";\r\n        document.getElementById(\"video-div\").style.visibility = \"visible\";\r\n        answerCall();\r\n        \r\n    }\r\n    return <div className=\"respond\">\r\n        <Avatar src=\"/gridFs/getPartnerProfile\" id=\"caller\"/>\r\n        <div className=\"description\">\r\n            <h3>{call.name} wants to call you</h3>\r\n        </div>\r\n        <div className=\"choice\">\r\n        <IconButton id=\"choice-btn\" onClick={answer}><DoneIcon/></IconButton>\r\n        <IconButton id=\"choice-canc\" onClick={declineCall}><ClearIcon/></IconButton>\r\n        </div>\r\n    </div>\r\n}","import { useContext, useEffect,useRef, useState } from \"react\"\r\nimport { SocketContext } from \"../SocketContext\";\r\nimport '../css/videoCall.css';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport VideocamOffIcon from '@material-ui/icons/VideocamOff';\r\nimport MicIcon from '@material-ui/icons/Mic';\r\nimport CallEndIcon from '@material-ui/icons/CallEnd';\r\nimport MicOffIcon from '@material-ui/icons/MicOff';\r\nimport VideocamIcon from '@material-ui/icons/Videocam';\r\n\r\nexport default function VideoCall()\r\n{\r\n    const {callAccepted,myVideo,userVideo,callEnded,leaveCall,muteAudio,muteVideo,declineCall} = useContext(SocketContext);\r\n        const [isMuted,setIsMuted] = useState(false);\r\n        const [isDisplayed,setIsDisplayed] = useState(true);\r\n   \r\n \r\n   \r\n   function handleMute()\r\n   {\r\n           setIsMuted(!isMuted);\r\n           muteAudio();\r\n   }\r\n   function handleDisplay()\r\n   {\r\n           setIsDisplayed(!isDisplayed);\r\n           muteVideo();\r\n   }\r\n        return <div className=\"video-div\" id=\"video-div\">\r\n\r\n                \r\n                <div className=\"vid-call\">\r\n                 <video playsInline muted ref={myVideo} autoPlay />        \r\n                </div>\r\n                {callAccepted&&!callEnded&&\r\n                <div className=\"vid-call1\">\r\n                <video playsInline muted ref={userVideo} autoPlay />\r\n                </div>}\r\n                <div className=\"option-div\">\r\n                <IconButton onClick={handleDisplay} className=\"option-btn\" id=\"display\">{isDisplayed?<VideocamIcon/>:<VideocamOffIcon/>}</IconButton>\r\n                <IconButton onClick={callAccepted?leaveCall:declineCall} className=\"option-btn\" id=\"end\"><CallEndIcon fontSize=\"inherit\"/></IconButton>\r\n                <IconButton onClick={handleMute} className=\"option-btn\">{isMuted?<MicOffIcon/>:<MicIcon/>}</IconButton>\r\n                </div>\r\n        </div>\r\n}","import {useEffect, useState,useRef, useContext} from 'react';\r\nimport io from 'socket.io-client';\r\nimport axios from 'axios';\r\nimport InputBox from './InputBox';\r\nimport '../css/chatroom.css';\r\nimport ChatNav from './ChatNav';\r\nimport ChatBubble from './ChatBubble';\r\nimport { Scrollbars } from 'react-custom-scrollbars-2';\r\nimport { SocketContext } from \"../SocketContext\";\r\nimport VideoRespond from './VideoRespond';\r\nimport VideoCall from './VideoCall';\r\nimport NavBar from './Navbar';\r\n\r\n\r\nexport default function ChatRoom(props)\r\n{\r\n    const [userInfo,setUserInfo] = useState();\r\n    const [userId,setUserId] = useState();\r\n    const [roomId,setRoomId] = useState();\r\n    const [text,setText] = useState(\"\");\r\n    const [userNickname,setUserNickname] = useState();\r\n    const [messages,setMessages] = useState([]);\r\n    const [partnerInfo,setPartnerInfo] = useState([]);\r\n    const [partnerStatus,setPartnerStatus] = useState();\r\n    const [havePartner,setHavePartner] = useState(false);\r\n    const [scrollDir,setScrollDir] = useState(-1);\r\n\r\n    // const [isCalling,setIsCalling] = useState();\r\n    const {joinRoom,sendMsg,newMessage,call,callAccepted,startCall} = useContext(SocketContext);\r\n\r\n    useEffect(()=>{\r\n        const ac = new AbortController();\r\n        axios.get('/auth/isLoggedIn')\r\n        .then(res =>res.data)\r\n        .catch(err => console.log(err))\r\n        .then(res => {\r\n            if(res.isLoggedIn)\r\n            {\r\n              axios.get('/chat/checkExist')\r\n              .then(res.data)\r\n              .catch(err=>console.log(err))\r\n              .then(res=>{\r\n                if(res.data)\r\n                {\r\n                  document.getElementById('msgBox').style.backgroundImage ='url(\"/chat/getChatBackground\")';\r\n                  document.getElementById('msgBox').style.backgroundSize ='cover';\r\n                }\r\n                else\r\n                {\r\n                  document.getElementById('msgBox').style.backgroundImage = 'url(\"https://wallpapercave.com/wp/wp4779329.png\")';\r\n                }\r\n              })\r\n              \r\n              let userId = res.user._id;\r\n              let partner = res.user.partner;\r\n              let nickname = res.user.nickname;\r\n              setPartnerInfo(res.partnerInfo)\r\n                if(res.user.partner!==null)\r\n                { \r\n                  setHavePartner(true);\r\n                  axios({ \r\n                    method:'get',\r\n                    url:'/user/getRoomId',\r\n                    headers: {'Content-Type': 'multipart/form-data'}\r\n                  })\r\n                  .then(res=>res.data)\r\n                  .catch(err=>console.log(err))\r\n                  .then(res=>{\r\n                    setMessages(res.chatInfo.chats.reverse().map(chat=>{\r\n                      return chat;\r\n                    }))\r\n                    let roomId = res.roomInfo._id;\r\n                    setRoomId(roomId);\r\n                    if(nickname)\r\n                    {\r\n                       joinRoom(roomId,userId,nickname);  \r\n                    }\r\n                  })\r\n                }\r\n                setUserId(res.user._id);\r\n                setUserInfo({...res.user});\r\n                setUserNickname(res.user.nickname);\r\n            }\r\n        });\r\n        return function cancel() {\r\n            ac.abort();\r\n          }\r\n    },[])\r\n\r\n    useEffect(()=>{\r\n      setMessages(prevData=>{\r\n        return[...prevData,newMessage]\r\n      })\r\n    },[newMessage]);\r\n    useEffect(()=>{\r\n      if(scrollDir===-1)\r\n      {\r\n        document.getElementById('msgBox').scrollTo(0,document.getElementById('msgBox').scrollHeight);      \r\n      }\r\n    },[messages])\r\n    \r\n    function handleSendMsg(event)\r\n    {\r\n      let msg = document.getElementById(\"chat\").value;\r\n      event.preventDefault();\r\n      if(msg.length>0&&roomId)\r\n      {\r\n        sendMsg(msg,userId,userNickname,roomId);\r\n        setText(\"\");\r\n      }\r\n      else{\r\n        alert(\"You must type something\");\r\n      }\r\n      document.getElementById(\"chat\").value = null;\r\n    }\r\n\r\n    function toggleBackHome()\r\n    {\r\n      window.open('/','_self');\r\n    }\r\n\r\n    async function toggleVideoCall()\r\n    {\r\n      await startCall();\r\n      // await callUser();\r\n    };\r\n\r\n\r\n    return<div className=\"chat-div\">\r\n      <NavBar havePartner={havePartner}/>\r\n        {call.isReceivingCall &&!callAccepted&&<VideoRespond/>}\r\n     <VideoCall/>\r\n     <div className=\"chat-container\">\r\n     <div className=\"chat-body\" id=\"chat-body\">\r\n     <ChatNav  toggleBackHome={toggleBackHome} partnerInfo={partnerInfo} partnerStatus={partnerStatus} toggleVideoCall={toggleVideoCall}/>\r\n    <div className=\"chat-messageBox-div\" id=\"msgBox\">\r\n        <div className=\"chat-messageBox\">\r\n      {messages&&userInfo&&messages.map((chat,index)=>{\r\n              return <ChatBubble key={index}textInfo={chat} user={userInfo}/>\r\n      })} \r\n       </div>\r\n    </div>\r\n    <InputBox handleSendMsg={handleSendMsg}/>\r\n     </div>\r\n     </div>\r\n  </div>\r\n}","import { useEffect, useState } from \"react\";\r\nimport axios from 'axios';\r\nimport Button from '@material-ui/core/Button';\r\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\r\nimport ArrowDropUpIcon from '@material-ui/icons/ArrowDropUp';\r\nimport IconButton from '@material-ui/core/IconButton';\r\n\r\nexport default function VideoList(props)\r\n{\r\n    const {handleChooseMovie,socket} = props;\r\n    const [files,setFiles] = useState([]);\r\n    const [dropdown,setDropdown] = useState(false);\r\n    useEffect(()=>{\r\n        axios.get('/videoFs/getAllVideos')\r\n        .then(res=>res.data)\r\n        .catch(err=>console.log(err))\r\n        .then(res=>{\r\n            let temp = [];\r\n            for(let i=0;i<res.length;i++)\r\n            {\r\n                temp.push(res[i]);\r\n            }\r\n            setFiles(temp);\r\n        })\r\n\r\n    },[])   \r\n    function handleDropDown()\r\n    {\r\n        let state = !dropdown;\r\n        if(state)\r\n        {\r\n            document.getElementById('video-file').style.top=0;\r\n        }\r\n        else\r\n        {\r\n            document.getElementById('video-file').style.top  = \"-68px\";\r\n        }\r\n        setDropdown(!dropdown);\r\n    }\r\n    async function handleDeleteVideo(videoId)\r\n    {\r\n        const formdata = new FormData();\r\n        formdata.append('videoId',videoId);\r\n        await axios({\r\n            method:'post',\r\n            url:'/videoFs/deleteVideo',\r\n            data:formdata,\r\n            headers:{'Content-Type': 'multipart/form-data'}\r\n        })\r\n        .then(res=>res.data)\r\n        .catch(err=>console.log(err))\r\n        .then(res=>{\r\n            console.log(res);\r\n            if(res)\r\n            {\r\n              setFiles(prev=>{\r\n                  return prev.filter(file=>{\r\n                      return file._id!==videoId\r\n                  })\r\n              })\r\n              if(socket)socket.emit('deletedVideo');\r\n           }\r\n        })\r\n    }\r\n\r\n    return<div className=\"video-file\" id=\"video-file\">\r\n        <div className=\"video-scroll\">\r\n        {files.map(file=>{\r\n            return<div className=\"video-list-div\">\r\n                \r\n                <Button key={file._id} variant=\"outlined\" onClick={()=>handleChooseMovie(file.filename)} id=\"list\">{file.aliases}</Button> \r\n                <button id=\"video-delete\" onClick={()=>handleDeleteVideo(file._id)}>x</button>\r\n            </div>  \r\n        })} \r\n        </div>\r\n        <IconButton\r\n        size=\"small\"\r\n        id=\"drop-down\"\r\n        onClick={handleDropDown}\r\n        >\r\n        {dropdown?<ArrowDropUpIcon/>:<ArrowDropDownIcon/>}\r\n        </IconButton>\r\n    </div>\r\n\r\n}","import ArrowLeftIcon from '@material-ui/icons/ArrowLeft';\r\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\r\nimport ArrowRightIcon from '@material-ui/icons/ArrowRight';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Button from '@material-ui/core/Button';\r\nimport { useState,useRef } from 'react';\r\nimport axios from 'axios';\r\n\r\nexport default function VideoUploadDiv(props)\r\n{\r\n    const [openUpload,setOpenUpload] = useState(false);\r\n    const [uploadProgress,setUploadProgress] = useState(false);\r\n\r\n    const formRef = useRef();\r\n\r\n    function handleUploadDiv()\r\n    {\r\n      let state = !openUpload;\r\n      if(state)\r\n      {\r\n          document.getElementById('upload-file').style.marginLeft=0;\r\n      }\r\n      else\r\n      {\r\n          document.getElementById('upload-file').style.marginLeft=\"-380px\";\r\n      }\r\n      setOpenUpload(!openUpload);\r\n    }\r\n\r\n    function displayFileName(event)\r\n  {\r\n     document.getElementById('file-name').textContent= event.target.files[0].name;\r\n  }\r\n\r\n  async function handleUploadVideo(event)\r\n  {\r\n      event.preventDefault();\r\n      if(document.getElementById('video').value===\"\")\r\n      {\r\n          return;\r\n      }\r\n      setUploadProgress(true);\r\n      const formdata = new FormData(formRef.current);\r\n      await axios({\r\n          method:'post',\r\n          url:'/videoFs/upload',\r\n          data:formdata,\r\n          headers: {'Content-Type': 'multipart/form-data'},\r\n          onUploadProgress:progressEvent=>{\r\n            const progress=(progressEvent.loaded/progressEvent.total)*100\r\n            document.getElementById(\"uploadFileProgress\").style.width = progress+\"%\";\r\n            if(progress===100)\r\n            {\r\n                window.location.reload();\r\n            }\r\n          },\r\n      })\r\n  }\r\n\r\n    return <div className=\"upload-file\" id=\"upload-file\">\r\n        <form onSubmit={handleUploadVideo} ref={formRef}>\r\n        <IconButton\r\n        size=\"medium\"\r\n        onClick={()=>document.getElementById('video').click()}\r\n        style={{color:\"white\"}}\r\n        >\r\n        <CloudUploadIcon/>\r\n        </IconButton>\r\n        <input type=\"file\" name=\"video\" id=\"video\" hidden onChange={displayFileName}/>\r\n        <Button\r\n        variant=\"contained\"\r\n        color=\"default\"\r\n        type=\"submit\"   \r\n      >\r\n        Upload\r\n      </Button> \r\n        </form>\r\n        <p id=\"file-name\" style={{color:\"rgb(56, 245, 71)\"}}></p>\r\n        {uploadProgress&&\r\n        <div className=\"uploadProgress\">   \r\n            <div className=\"progressBar\" id=\"uploadFileProgress\"> \r\n            </div>\r\n        </div>}\r\n        <IconButton\r\n        size=\"small\"\r\n        id=\"openUploadDiv\"\r\n        onClick={handleUploadDiv}\r\n        >{openUpload?\r\n            <ArrowLeftIcon/>\r\n            :\r\n            <ArrowRightIcon/>\r\n         }\r\n        </IconButton>\r\n    </div>\r\n}","import ReactPlayer from 'react-player'\r\nimport '../css/videoPlayer.css';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport PlayArrowIcon from '@material-ui/icons/PlayArrow';\r\nimport PauseIcon from '@material-ui/icons/Pause';\r\nimport Button from '@material-ui/core/Button';\r\nimport ArrowLeftIcon from '@material-ui/icons/ArrowLeft';\r\nimport VideoList from './VideoList';\r\nimport VideoUploadDiv from './VideoUploadDiv';\r\nimport ArrowRightIcon from '@material-ui/icons/ArrowRight';\r\nimport VolumeMuteIcon from '@material-ui/icons/VolumeMute';\r\nimport VolumeOffIcon from '@material-ui/icons/VolumeOff'; \r\nimport VolumeUpIcon from '@material-ui/icons/VolumeUp';\r\nimport FullscreenIcon from '@material-ui/icons/Fullscreen';\r\nimport FullscreenExitIcon from '@material-ui/icons/FullscreenExit';\r\nimport HomeIcon from '@material-ui/icons/Home';\r\n\r\nimport { FullScreen, useFullScreenHandle } from \"react-full-screen\";\r\nimport io from 'socket.io-client';\r\nimport { useEffect, useRef, useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nlet socket;\r\nexport default function Cinema()\r\n{\r\n  const ENDPOINT = 'localhost:5000';\r\n  const handle = useFullScreenHandle();\r\n  const [ready,setReady] = useState(false);\r\n  const [play,setPlay] =useState(false);\r\n  const [openUrl,setOpenUrl] = useState(false);\r\n  const [url,setUrl] = useState();\r\n  const [buffering,setBuffering] = useState(true);\r\n  const [volume,setVolume] = useState(0.5);\r\n  const [isMuted,setIsMuted] = useState(false);\r\n  const [isLoud,setIsLoud] = useState(false);\r\n  const [isFullScreen,setIsFullScreen] = useState(false);\r\n\r\n  const videoRef = useRef();\r\n  const urlRef = useRef(\"\");\r\n  const readyToPlay = useRef(false);\r\n  const initialRun = useRef(true);\r\n\r\n\r\n  useEffect(async()=>{\r\n      const ac = new AbortController();\r\n        socket = io(ENDPOINT);\r\n        if(initialRun.current)\r\n        {\r\n            await axios.get('/user/getRoomId')\r\n            .then(res=>res.data)\r\n            .catch(err=>console.log(err))\r\n            .then(res=>{\r\n                socket.emit('join',{roomId:res.roomInfo._id});\r\n            });\r\n            \r\n            initialRun.current = false;\r\n        }\r\n        socket.on('changeState',state=>{\r\n            setPlay(state);\r\n        });\r\n        socket.on('refreshPage',e=>{\r\n            window.location.reload();\r\n        })\r\n        socket.on('update',time=>{\r\n            if(urlRef.current===\"\")\r\n            {\r\n                urlRef.current = time.url;\r\n                setReady(true);\r\n                readyToPlay.current = true;\r\n                setBuffering(false);\r\n                return;\r\n            }\r\n            if(readyToPlay.current)\r\n            {\r\n                if(time.time>videoRef.current.getCurrentTime())\r\n                {\r\n                    if(videoRef.current.getCurrentTime()<(time.time)-1){\r\n                        videoRef.current.seekTo(String(time.time),'seconds');\r\n                    }\r\n                }\r\n            }\r\n        })\r\n\r\n        socket.on('updateProgress',pointed=>{\r\n            videoRef.current.seekTo(pointed,'seconds');\r\n        })\r\n\r\n        socket.on('onlineUrl',data=>{\r\n            if(data===\"\")\r\n            {\r\n                document.getElementById('url').value = \"\";\r\n                return;\r\n            }\r\n            setReady(true);\r\n            urlRef.current=data;\r\n            setUrl(data);\r\n            document.getElementById('url').value = \"\";\r\n        })\r\n\r\n      return function cancel(){\r\n          ac.abort();\r\n      }\r\n  },[])\r\n\r\n  function displayProgress()\r\n  {\r\n      socket.emit('keepUpdate',{time:videoRef.current.getCurrentTime(),url:url});\r\n      const point = document.getElementById('progress-point');\r\n      const value = videoRef.current.getCurrentTime()/(videoRef.current.getDuration()/100);\r\n      point.style.left = value+\"%\";\r\n  }\r\n   \r\n  function handleProgressChange(event)\r\n  {\r\n      const progressBarWidth = document.getElementById(\"progress-bar\");\r\n      const choose = event.nativeEvent.offsetX;\r\n      const pointed = (choose/progressBarWidth.offsetWidth)*videoRef.current.getDuration();     \r\n      socket.emit('changeProgress',pointed) \r\n      setPlay(true);\r\n  }\r\n  function handleVideoState()\r\n  {\r\n    socket.emit('changeVideoState',play);\r\n  }\r\n  \r\n  function submitUrl(event){\r\n    event.preventDefault();\r\n    const choosenUrl = document.getElementById('url').value;\r\n    socket.emit('onlineUrl',choosenUrl);\r\n  }\r\n\r\n  async function handleChooseMovie(filename)\r\n  {\r\n    \r\n    setReady(true);\r\n    const choosenUrl = \"/videoFs/choose/\"+filename;\r\n    socket.emit('onlineUrl',choosenUrl);\r\n  }\r\n  function handleUrlDiv()\r\n  {\r\n      let state = !openUrl;\r\n    if(state)\r\n    {\r\n        document.getElementById('submitUrl').style.marginLeft =0;\r\n    }\r\n    else\r\n    {\r\n        document.getElementById('submitUrl').style.marginLeft =\"-380px\";\r\n    };\r\n      setOpenUrl(!openUrl);  \r\n  }\r\n\r\n    function handlePlayerVolume()\r\n    {\r\n        const value=document.getElementById(\"volume\").value;\r\n        const actualVolume = parseFloat(value/100);\r\n        if(actualVolume===0)\r\n        {\r\n            setIsMuted(true);\r\n        }\r\n        else\r\n        {\r\n            setIsMuted(false);\r\n        }\r\n        if(value>50)\r\n        {\r\n            setIsLoud(true);\r\n        }\r\n        else\r\n        {\r\n            setIsLoud(false);\r\n        }\r\n        setVolume(actualVolume);\r\n    }\r\n    function handleMute()\r\n    {\r\n        let state = !isMuted;\r\n        if(state)\r\n        {\r\n            setVolume(0);\r\n            document.getElementById('volume').value =0;\r\n        }\r\n        else\r\n        {\r\n            setVolume(0.5);\r\n            document.getElementById('volume').value =50;\r\n        }\r\n        setIsMuted(!isMuted);\r\n    }\r\n\r\n    function handleBigScreen()\r\n    {\r\n        let state = !isFullScreen;\r\n        const controls = document.getElementById('controls');\r\n        if(state)\r\n        {\r\n            handle.enter();\r\n            controls.style.bottom=\"-150px\";\r\n            document.getElementById('progress-point').style.background=\"white\";\r\n            document.getElementById('control-btn').style.color=\"white\";\r\n            document.getElementById('control-vlm').style.color=\"white\";\r\n            document.getElementById('fullscreen-btn').style.color=\"white\";\r\n        }\r\n        else\r\n        {\r\n            handle.exit();\r\n            controls.style.bottom=\"-50px\";\r\n            document.getElementById('progress-point').style.background=\"black\";\r\n            document.getElementById('control-btn').style.color=\"black\";\r\n            document.getElementById('control-vlm').style.color=\"black\";\r\n            document.getElementById('fullscreen-btn').style.color=\"black\";\r\n        }\r\n        setIsFullScreen(!isFullScreen);\r\n    }\r\n    return <div className=\"cinema-div\">\r\n        <VideoList handleChooseMovie={handleChooseMovie} socket={socket}/>\r\n        \r\n        <VideoUploadDiv/>\r\n        <div className=\"submit-url\" id=\"submitUrl\">\r\n            <form onSubmit={submitUrl}>\r\n            <input type=\"text\" id=\"url\" placeholder=\"enter url\"/>\r\n            <Button\r\n                type=\"submit\"\r\n                variant=\"outlined\"\r\n                id=\"submit-url-btn\"\r\n            > submit</Button>\r\n            </form>\r\n            <IconButton size=\"small\" id=\"handleUrlDiv\" onClick={handleUrlDiv}>\r\n                {openUrl?<ArrowLeftIcon/>:<ArrowRightIcon/>}\r\n            </IconButton>\r\n        </div>\r\n        <Button variant=\"outlined\" color=\"black\" href=\"/\" id=\"homeBtn\">\r\n        <HomeIcon/>\r\n         </Button>\r\n        <FullScreen\r\n        handle={handle}\r\n        >\r\n        <div className=\"video-player\" id=\"video-player\">\r\n        {buffering&&ready&&<div className=\"no-video\">\r\n            <h1>Loading....</h1>\r\n        </div>}\r\n        {ready?\r\n        <ReactPlayer \r\n            ref={videoRef}\r\n            playing={play}\r\n            height=\"100%\"\r\n            width= \"100%\"\r\n            url={urlRef.current}\r\n            volume={volume}\r\n            onProgress={displayProgress}\r\n            onReady ={()=>setBuffering(false)}   \r\n            onError={()=>setReady(false)}\r\n        />:\r\n        <div className=\"no-video\">\r\n            <h2>No Video</h2>\r\n        </div>\r\n        }\r\n        {/* <video src=\"/videoFs/getVideos\" type=\"video/mp4\"/> */}\r\n            <div style={{display:\"flex\"}} className=\"progress-bar-div\" id=\"controls\">\r\n                <IconButton onClick={handleVideoState} id=\"control-btn\" style={{color:\"black\"}}>{play?<PauseIcon/>:<PlayArrowIcon/>}</IconButton>\r\n                <IconButton onClick={handleMute} id=\"control-vlm\" style={{color:\"black\"}}>{isMuted?<VolumeOffIcon/>:isLoud?<VolumeUpIcon/>:<VolumeMuteIcon/>}</IconButton>\r\n                <input type=\"range\" min=\"0\" max=\"100\" id=\"volume\" onChange={handlePlayerVolume}/>\r\n                <div id=\"progress-bar\" className=\"progress-bar status\" onClick={ready?handleProgressChange:\"\"}>\r\n                <div id=\"progress-point\" className=\"progress-point\"></div>\r\n                </div>\r\n                <IconButton onClick={handleBigScreen} id=\"fullscreen-btn\" style={{color:\"black\"}}>{isFullScreen?<FullscreenExitIcon/>:<FullscreenIcon/>}</IconButton>\r\n            </div>\r\n        </div>\r\n        </FullScreen>\r\n    </div>\r\n}","import React, { useState, useEffect } from \"react\";\r\n\r\nconst Checkmark = ({ selected }) => (\r\n  <div\r\n    style={\r\n      selected\r\n        ? { left: \"4px\", top: \"4px\", position: \"absolute\", zIndex: \"1\" }\r\n        : { display: \"none\" }\r\n    }\r\n  >\r\n    <svg\r\n      style={{ fill: \"white\", position: \"absolute\" }}\r\n      width=\"24px\"\r\n      height=\"24px\"\r\n    >\r\n      <circle cx=\"12.5\" cy=\"12.2\" r=\"8.292\" />\r\n    </svg>\r\n    <svg\r\n      style={{ fill: \"#06befa\", position: \"absolute\" }}\r\n      width=\"24px\"\r\n      height=\"24px\"\r\n    >\r\n      <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\" />\r\n    </svg>\r\n  </div>\r\n);\r\n\r\nconst imgStyle = {\r\n  transition: \"transform .135s cubic-bezier(0.0,0.0,0.2,1),opacity linear .15s\"\r\n};\r\nconst selectedImgStyle = {\r\n  transform: \"translateZ(0px) scale3d(0.9, 0.9, 1)\",\r\n  transition: \"transform .135s cubic-bezier(0.0,0.0,0.2,1),opacity linear .15s\"\r\n};\r\nconst cont = {\r\n  backgroundColor: \"#eee\",\r\n  cursor: \"pointer\",\r\n  overflow: \"hidden\",\r\n  position: \"relative\"\r\n};\r\n\r\nconst SelectedImage = ({\r\n  index,\r\n  photo,\r\n  margin,\r\n  direction,\r\n  top,\r\n  left,\r\n  selected,\r\n  handleChooseNotToDeleteFile,\r\n  handleChooseToDeleteFile\r\n}) => {\r\n  const [isSelected, setIsSelected] = useState(selected);\r\n  const actualHeight = (200-photo.height)-photo.height;\r\n  //calculate x,y scale\r\n  const sx = (100 - (30 / photo.width) * 100) / 100;\r\n  const sy = (100 - (30 / photo.height) * 100) / 100;\r\n  selectedImgStyle.transform = `translateZ(0px) scale3d(${sx}, ${sy}, 1)`;\r\n\r\n  if (direction === \"column\") {\r\n    cont.position = \"absolute\";\r\n    cont.left = left;\r\n    cont.top = top;\r\n  }\r\n\r\n  const handleOnClick = e => {\r\n    setIsSelected(!isSelected);\r\n    if(!isSelected)\r\n    {\r\n        handleChooseToDeleteFile(index);\r\n    }\r\n    else{\r\n        handleChooseNotToDeleteFile(index);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    setIsSelected(selected);\r\n  }, [selected]);\r\n\r\n  return (\r\n    <div\r\n      style={{ margin, height: actualHeight, width: photo.width, ...cont }}\r\n      className={!isSelected ? \"not-selected\" : \"\"}\r\n    >\r\n      <Checkmark selected={isSelected ? true : false} />\r\n      <img\r\n        alt={photo.title}\r\n        style={\r\n          isSelected ? { ...imgStyle, ...selectedImgStyle } : { ...imgStyle }\r\n        }\r\n        {...photo}\r\n        onClick={handleOnClick}\r\n      />\r\n      <style>{`.not-selected:hover{outline:2px solid #06befa}`}</style>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SelectedImage;\r\n","import '../../css/createPost.css';\r\n\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport NativeSelect from '@material-ui/core/NativeSelect';\r\nimport ReactAvatar from '@material-ui/core/Avatar';\r\nimport React, { useState,useCallback, useRef ,useEffect } from 'react';\r\nimport Gallery from 'react-photo-gallery';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport AddPhotoAlternateIcon from '@material-ui/icons/AddPhotoAlternate';\r\nimport SelectedImage from '../SelectedImage';\r\nimport Button from '@material-ui/core/Button';  \r\nimport axios from 'axios';\r\n\r\nexport default function CreatePost(props)\r\n{\r\n    const{setPost,handlePost,userInfo,setIsPosting,setIsEditing,isEditing,postData,setPostData} = props;\r\n\r\n    const [text,setText] = useState('');\r\n    const [uploadedFiles,setUploadedFiles] = useState([]);\r\n    const [feeling,setFeeling] = useState();\r\n    const [willBeDeletedFiles, setWillBeDeletedFiles] = useState([]);\r\n    const [deletedExistingFiles, setDeletedExistingFiles] = useState([]);\r\n    const [selectAll] = useState(false);\r\n\r\n    const formRef = useRef();\r\n\r\n    const imageRenderer = useCallback(\r\n        ({ index, left, top, key, photo }) => (\r\n          <SelectedImage\r\n            selected={selectAll ? true : false}\r\n            key={key}\r\n            margin={\"2px\"}\r\n            index={index}\r\n            photo={photo}\r\n            left={left}\r\n            top={top}\r\n            handleChooseNotToDeleteFile={handleChooseNotToDeleteFile}\r\n            handleChooseToDeleteFile={handleChooseToDeleteFile}\r\n          />\r\n        ),\r\n        [selectAll,handleChooseNotToDeleteFile,handleChooseToDeleteFile]\r\n      );\r\n\r\n          useEffect(()=>{\r\n            if(isEditing)\r\n            {\r\n              setText(postData.post.text);\r\n              setFeeling(postData.post.feeling);\r\n              if(postData.post.fileId){\r\n              setUploadedFiles(postData.post.fileId.map((id,index)=>{\r\n                // console.log(postData.url[index]);\r\n                return {src:postData.url[index],width:1,height:1,fileId:id};\r\n              }))\r\n            }\r\n            }\r\n          },[])\r\n\r\n    function handleChooseToDeleteFile(index) {\r\n        setWillBeDeletedFiles(prevData => {\r\n          return [...prevData, index];\r\n        })\r\n      }\r\n  \r\n      function handleChooseNotToDeleteFile(index) {\r\n        setWillBeDeletedFiles(prevData => {\r\n          return prevData.filter(val => {\r\n            return val !== index;\r\n          })\r\n        })\r\n      }\r\n\r\n    function handleUploadFiles(event)\r\n    {\r\n        const file = event.target.files[0];\r\n        if(file)\r\n        {\r\n            const re =  /\\.(gif|jpe?g|tiff?|png|webp|bmp)$/i;\r\n            if (re.test(file.name)) {\r\n                setUploadedFiles(prevData => {\r\n                  return [...prevData, {src: URL.createObjectURL(file), file: file, width:1,height:1}];\r\n                })\r\n              } else {\r\n                alert('only upload image files.')\r\n              }\r\n        }\r\n\r\n    }\r\n\r\n    async function handleDeleteChosenFiles() {\r\n        const tempDeletedFiles = [...willBeDeletedFiles].sort();\r\n        const tempUploadedFiles = [...uploadedFiles];\r\n        for (var i = tempDeletedFiles.length - 1; i >= 0; i--) {\r\n          if (tempUploadedFiles[tempDeletedFiles[i]].fileId) {\r\n            await setDeletedExistingFiles(prevData => {\r\n              return [...prevData, tempUploadedFiles[tempDeletedFiles[i]].fileId];\r\n            })\r\n          }\r\n          tempUploadedFiles.splice(tempDeletedFiles[i], 1);\r\n        }\r\n        setUploadedFiles(tempUploadedFiles);\r\n        setWillBeDeletedFiles([]);\r\n      }\r\n\r\n      async function togglePost()\r\n      {\r\n        if(text==='')\r\n        {\r\n          alert(\"Please enter some text\");\r\n          return;\r\n        }\r\n        const formdata = new FormData(formRef.current);\r\n        if(isEditing)\r\n        { \r\n          formdata.set('postId',postData.post._id);\r\n          formdata.set('text',text);\r\n          formdata.set('feeling',feeling);\r\n          for (var i = 0; i < deletedExistingFiles.length; i++) {\r\n            formdata.append('deletedFile[]', deletedExistingFiles[i]);\r\n          }\r\n          for (var j = 0; j < uploadedFiles.length; j++) {\r\n            if (uploadedFiles[j].file) {\r\n              formdata.append('fileInput[]', uploadedFiles[j].file);\r\n            } else {\r\n              formdata.append('fileInput[]', uploadedFiles[j].fileId);\r\n            }\r\n          }\r\n          await axios({\r\n            method:'post',\r\n            url:'/post/editPost',\r\n            data:formdata,\r\n            headers:{'Content-Type': 'multipart/form-data'}\r\n          })\r\n          .then(res=>res.data)\r\n          .catch(err=>console.log(err))\r\n          .then(res=>{\r\n            if(res.result)\r\n            {\r\n              setPost(prevData=>{\r\n                const temp=[];\r\n                for(let i =0;i<prevData.length;i++)\r\n                {\r\n                  if(prevData[i]._id===res.result.docs._id)\r\n                  {\r\n                    temp.push(res.result.docs)\r\n                  }\r\n                  else\r\n                  {\r\n                    temp.push(prevData[i]);\r\n                  }\r\n                }\r\n                return temp;\r\n              })\r\n              handlePost();\r\n            }\r\n            else\r\n            {\r\n              alert(\"Failed to edit post\");\r\n            }\r\n          })\r\n          .catch(err=>console.log(err));\r\n        }\r\n        else\r\n        {\r\n            const formdata = new FormData(formRef.current);\r\n            for(let i =0;i<uploadedFiles.length;i++)\r\n            {\r\n                formdata.append('fileInput[]',uploadedFiles[i].file);\r\n            }\r\n            \r\n            await axios({\r\n                method:'post',\r\n                url:'/post/createPost',\r\n                data:formdata\r\n            })\r\n            .then(res=>res.data)\r\n            .catch(err=>console.log(err))\r\n            .then(res=>{\r\n              if(res)\r\n              {\r\n                alert(\"Memory Created!\");\r\n                setPost(prevData=>{\r\n                  return[res,...prevData];\r\n                })\r\n              }\r\n              else\r\n              {\r\n                alert(\"Opps something went wrong\")\r\n              }\r\n            })\r\n            .catch(err=>console.log(err))\r\n            handlePost();\r\n        }\r\n      }\r\n    return<div className=\"create-div\">\r\n           <div className=\"create-title\">\r\n               <h3>{isEditing?\"Edit\":\"Create\"} Memory</h3>\r\n               <IconButton onClick={handlePost} id=\"create-close-btn\"><CloseIcon/></IconButton>\r\n            </div>\r\n            <form ref={formRef} >\r\n                <div className=\"create-feeling-div\">\r\n                    <div className=\"create-profile-pic\">\r\n                    <ReactAvatar\r\n                    src=\"/gridFs/getProfile\"\r\n                    />\r\n                    </div>\r\n                    <div className=\"create-greeting\">\r\n                        <p>Hi, {userInfo.nickname} how are you feeling today?</p>\r\n                    </div>\r\n                    <div className=\"create-select\">\r\n                        <NativeSelect\r\n                        value={feeling}\r\n                        onChange={(event)=>setFeeling(event.target.value)}\r\n                        id=\"create-feeling\"\r\n                        name=\"feeling\"\r\n                        >\r\n                        <option aria-label=\"None\" value=\"\" />\r\n                        <option value=\"happy\">Happy  </option>\r\n                        <option value=\"sad\">Sad </option>\r\n                        <option value=\"surprise\">Surprised </option>\r\n                        <option value=\"meh\">Meh </option>\r\n                        <option value=\"annoyed\">Annoyed </option>\r\n                        <option value=\"sleepy\">Sleepy </option>\r\n                        <option value=\"love\">Love </option>\r\n                        <option value=\"touched\">Touched </option>\r\n                        <option value=\"shy\">Shy </option>\r\n                        <option value=\"amazed\">Amazed </option>\r\n                        </NativeSelect>\r\n                    </div>\r\n                </div>\r\n                <div className=\"create-textarea\">\r\n                        <textarea placeholder=\"What's on your mind?\" rows=\"10\" value={text} onChange={(e)=>setText(e.target.value)} name=\"text\" id=\"text\"/>\r\n                </div>\r\n                <div className=\"create-gallery-div\">\r\n                <Gallery photos={uploadedFiles} renderImage={imageRenderer} id=\"create-gallery\"/> \r\n                </div>\r\n                <div className=\"create-btn-div\">\r\n                <IconButton id=\"create-btn\" onClick={()=>document.getElementById('create-photo').click()}><AddPhotoAlternateIcon/></IconButton>\r\n                <input type=\"file\" hidden id=\"create-photo\" onChange={handleUploadFiles}/>\r\n                {uploadedFiles.length>0&&<IconButton id=\"create-btn\" onClick={handleDeleteChosenFiles}><DeleteIcon/></IconButton>}\r\n                </div>\r\n                <div className=\"create-post-div\">\r\n                <Button variant=\"contained\" id=\"create-post-btn\" onClick={togglePost}>\r\n                Post\r\n                </Button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n}","import '../../css/memoryPost.css'\r\nimport ReactAvatar from '@material-ui/core/Avatar';\r\nimport MoreHorizIcon from '@material-ui/icons/MoreHoriz';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport ImageGallery from \"react-image-gallery\";\r\nimport { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\n\r\n\r\nexport default function MemoryPost(props)\r\n{\r\n    const{post,userId,setIsEditing,setPostData,setIsPosting,setPost} = props\r\n    const [openMore,setOpenMore] = useState(false);\r\n    const [url,setUrl] = useState([]);\r\n\r\n    const emojiMap={\r\n        \"happy\": \"\",\r\n        \"sad\": \"\",\r\n        \"surprise\": \"\",\r\n        \"meh\": \"\",\r\n        \"annoyed\": \"\",\r\n        \"sleepy\": \"\",\r\n        \"love\": \"\",\r\n        \"touched\": \"\",\r\n        \"shy\": \"\",\r\n        \"amazed\": \"\"\r\n    }\r\n\r\n    const monthMap = {\r\n        \"01\": \"January\",\r\n        \"02\": \"February\",\r\n        \"03\": \"March\",\r\n        \"04\": \"April\",\r\n        \"05\": \"May\",\r\n        \"06\": \"June\",\r\n        \"07\": \"July\",\r\n        \"08\": \"August\",\r\n        \"09\": \"September\",\r\n        \"10\": \"October\",\r\n        \"11\": \"November\",\r\n        \"12\": \"December\",\r\n      }\r\n    \r\n\r\n    useEffect(async()=>{\r\n        if(post.fileId)\r\n        {\r\n        let temp =[];\r\n       await post.fileId.map(id=>{\r\n            let url = \"/post/getPostImage/\"+id;\r\n            temp.push(url);\r\n        })\r\n        setUrl(temp);\r\n        }\r\n    },[post])\r\n    \r\n    function constructGalleryUrls(fileId)\r\n    {\r\n        return fileId.map(id=>{\r\n            let url = \"/post/getPostImage/\"+id;\r\n            return {original:url};\r\n        })\r\n        \r\n    }\r\n    function handleEdit()\r\n    {\r\n        setPostData({post:post,url:url});\r\n        setIsEditing(true);\r\n        setIsPosting(true);\r\n        setOpenMore(false);\r\n    }\r\n    async function deletePost()\r\n    {\r\n        const formdata = new FormData();\r\n        formdata.append('postId',post._id);\r\n        if(post.fileId)\r\n        {\r\n            for(let i=0;i<post.fileId.length;i++)\r\n            {\r\n                formdata.append('fileId[]',post.fileId[i])\r\n            }\r\n        }\r\n        await axios({\r\n            method:'post',\r\n            url:'/post/deletePost',\r\n            data:formdata,\r\n            headers:{'Content-Type': 'multipart/form-data'}\r\n        })\r\n        .then(res=>res.data)\r\n        .catch(err=>console.log(err))\r\n        .then(res=>{\r\n            if(res.status)\r\n            {\r\n                setPost(prevData=>{\r\n                    return prevData.filter(posts=>{\r\n                        return posts._id !== post._id;\r\n                    })\r\n                })\r\n\r\n                alert(\"Memory deleted\");\r\n            }\r\n            else{\r\n                alert(\"Opps something went wrong with the server!\")\r\n            }\r\n        })\r\n    }\r\n\r\n    function formatDate(date) {\r\n        const today = new Date(parseInt(Date.parse(date), 10));\r\n        var dd = String(today.getDate()).padStart(2, '0');\r\n        var mm = String(today.getMonth() + 1).padStart(2, '0'); //January is 0!\r\n        var yyyy = today.getFullYear();\r\n        return dd + \" \" + monthMap[mm]+\" \"+yyyy\r\n      }\r\n\r\n    return<div className=\"post-div\">\r\n        {openMore&&<div className=\"post-more-div\">\r\n            <div className=\"post-more-option edit\" onClick={handleEdit}>\r\n            Edit Memory\r\n            </div>\r\n            <div className=\"post-more-option delete\" onClick={deletePost}>\r\n            Delete Memory\r\n            </div>\r\n            </div>}\r\n        <IconButton id=\"post-more\" onClick={()=>setOpenMore(!openMore)}><MoreHorizIcon fontSize=\"medium\"/></IconButton>\r\n        <div className=\"post-header\">\r\n            {userId===post.userId?<ReactAvatar src=\"/gridFs/getProfile\" id=\"post-avatar\"/>:<ReactAvatar src=\"/gridFs/getPartnerProfile\" id=\"post-avatar\"/>}\r\n           <div className=\"post-desc\">\r\n            <div className=\"post-feeling\">\r\n                <h3>{post.nickname}</h3>\r\n                {post.feeling&&<h3> &nbsp; &nbsp;is feeling {post.feeling}&nbsp;{emojiMap[post.feeling]}</h3>}  \r\n            </div>\r\n              <div className=\"post-time\">\r\n                <p>{formatDate(post.timeOfCreation)}</p>\r\n              </div>\r\n            </div> \r\n        </div>\r\n        <div className=\"post-text\">\r\n        {post.text}\r\n        </div>\r\n        <div className=\"post-images\">\r\n        {post.fileId&&\r\n            <ImageGallery items={constructGalleryUrls(post.fileId)} showFullscreenButton={false} showPlayButton={false} showThumbnails={false} className=\"post-gallery\" />\r\n        }\r\n        </div>\r\n    </div>\r\n}","import {useEffect, useState, useRef} from 'react';\r\nimport axios from 'axios';\r\nimport NavBar from '../Navbar';\r\nimport '../../css/memoryBook.css';\r\nimport CreatePost from './CreatePost';\r\nimport MemoryPost from './MemoryPost';\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline';\r\nimport IconButton from '@material-ui/core/IconButton';\r\n\r\nexport default function MemoryBook()\r\n{\r\n    const [userInfo,setUserInfo] = useState();\r\n    const [partnerInfo,setPartnerInfo] = useState();\r\n    const [postData,setPostData] = useState();\r\n    const [isEditing,setIsEditing] = useState(false);\r\n    const [isPosting,setIsPosting] = useState(false);\r\n    const [posts,setPosts] = useState([]);\r\n    const [havePartner,setHavePartner] = useState(false);\r\n\r\n    const formRef = useRef();\r\n\r\n\r\n   \r\n\r\n\r\n    useEffect(()=>{\r\n         axios.get('/auth/isLoggedIn')\r\n        .then(res=>res.data)\r\n        .catch(err=>console.log(err))\r\n        .then(res=>{\r\n            if(res.isLoggedIn)\r\n            {\r\n                if(res.user.partner!==null)\r\n                {\r\n                    setHavePartner(true);\r\n                }\r\n                setUserInfo(res.user);\r\n                setPartnerInfo(res.partnerInfo);\r\n\r\n                axios({\r\n                    method:'post',\r\n                    url:'/post/getPosts',\r\n                })\r\n                .then(res=>res.data)\r\n                .catch(err=>console.log(err))\r\n                .then(res=>{\r\n                    if(res.success)\r\n                    {\r\n                        setPosts(res.posts)\r\n                    }\r\n                })\r\n            }\r\n        })\r\n    },[])  \r\n\r\n    function handlePost()\r\n    {\r\n        setIsPosting(false);\r\n        setIsEditing(false);\r\n        setPostData();\r\n    }\r\n    return <div className=\"memoryBook\">\r\n        {isPosting&&<CreatePost  setPostData={setPostData} setPost={setPosts} postData={postData} handlePost={handlePost} userInfo={userInfo} setIsPosting={setIsPosting} isEditing={isEditing} setIsEditing={setIsEditing}/>}\r\n        <div className=\"memoryBook-div\" id=\"memoryBook\" style={{opacity:isPosting||isEditing?\"0.3\":\"1\"}}>\r\n            <NavBar havePartner={havePartner}/>\r\n                <div className=\"postDiv\">\r\n                    <div className=\"post-option\">\r\n                    <h3>Post Some Memorable Moment Here</h3>\r\n                    <Button variant=\"contained\" id=\"memory-create-post\" onClick={()=>setIsPosting(true)}>\r\n                    Create Memory \r\n                    </Button>\r\n                    </div>\r\n            </div>\r\n            {posts.map(post=>{\r\n              return  <MemoryPost key={post._id}  setPost={setPosts} setPostData={setPostData} setIsPosting={setIsPosting} isEditing={isEditing} setIsEditing={setIsEditing} post={post} userId={userInfo._id}/>\r\n            })}\r\n        </div>\r\n    </div>\r\n}","import { Route, Switch } from 'react-router-dom';\r\nimport Login from './components/Login';\r\nimport Home from './components/Home';\r\nimport UserProfileForm from './components/UserProfileForm';\r\nimport ChatRoom from './components/ChatRoom';\r\nimport {ContextProvider} from './SocketContext';\r\nimport Cinema from './components/Cinema';\r\nimport MemoryBook from './components/MemoryBook/MemoryBook';\r\n// import './App.css';\r\n\r\nexport default function App(props) {\r\n  return (\r\n    <main>\r\n      <Switch>\r\n        <Route path=\"/\" exact component={Home}/>\r\n        <Route path=\"/login\" exact component={Login}/>\r\n        <Route path=\"/userProfileForm\" exact component={UserProfileForm}/>\r\n        <Route path=\"/cinema\" exact component={Cinema}/>\r\n        <Route path=\"/memoryBook\" exact component={MemoryBook}/>\r\n        <ContextProvider>\r\n        <Route path=\"/chatRoom\" exact component={ChatRoom}/>\r\n        </ContextProvider>\r\n      </Switch>\r\n    </main>\r\n  )\r\n}\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n \r\n  // <ContextProvider>\r\n  <BrowserRouter>\r\n    <App />\r\n  </BrowserRouter>\r\n  // </ContextProvider>  \r\n  ,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"]}}